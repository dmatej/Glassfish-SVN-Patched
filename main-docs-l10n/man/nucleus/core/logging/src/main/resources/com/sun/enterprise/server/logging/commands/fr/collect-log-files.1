collect-log-files(1)    Sous-commandes de l'utilitaire    collect-log-files(1)

NOM
       collect-log-files - crée une archive ZIP contenant tous les fichiers
       journaux disponibles

SYNTAXE
           collect-log-files [--help] [--target target]
           [--retrieve={false|true}] [retrievefilepath]]

DESCRIPTION
       La sous-commande collect-log-files collecte tous les fichiers journaux
       disponibles pour le serveur d'administration de domaine (DAS), le
       cluster indiqué ou l'instance GlassFish Server spécifiée et crée un
       fichier ZIP avec les fichiers journaux. Si un cluster est spécifié,
       l'archive ZIP contient également le fichier journal du serveur DAS.

       Cette sous-commande est prise en charge en mode distant uniquement.

OPTIONS
       --help, -?
           Cette option affiche le texte d'aide de la sous-commande.

       --retrieve
           Cette option indique si l'archive ZIP est créée dans un répertoire
           autre que celui par défaut.

           Par défaut, l'archive ZIP est créée dans le répertoire
           domain-dir/collected-logs. Les noms de fichiers ZIP sont construits
           à partir de la valeur target et de l'horodatage indiqués, comme
           suit :

               log_yyyy-mm-dd_hh-min-sec.zip
           Les valeurs possibles sont les suivantes :

           false
               L'archive ZIP est créée dans le répertoire par défaut. En cas
               d'omission, l'option --retrieve utilise la valeur false par
               défaut.

           true
               L'archive ZIP est créée dans le répertoire spécifié par
               l'opérande retrievefilepath. Si retrievefilepath est omis,
               l'archive ZIP est créée dans le répertoire par défaut.

       --target
           Cette option indique la cible pour laquelle les fichiers journaux
           sont collectés.

           Les valeurs possibles sont les suivantes :

           server
               Les fichiers journaux sont collectés pour le serveur DAS (par
               défaut).

           instance-name
               Les fichiers journaux sont collectés pour l'instance GlassFish
               Server spécifiée.

           cluster-name
               Les fichiers journaux seront collectés pour le cluster spécifié
               et le serveur DAS.

OPÉRANDES
       retrievefilepath
           Nom du répertoire dans lequel l'archive ZIP est créée. Si cet
           opérande est omis, l'archive ZIP est créée dans le répertoire par
           défaut. Si l'option --retrieve a la valeur false, cet opérande
           n'est pas pris en compte.

EXEMPLES
       Exemple 1, Collecte des fichiers journaux pour le serveur par défaut
           Cet exemple montre comment générer une archive ZIP à partir des
           fichiers journaux du serveur par défaut.

               asadmin> collect-log-files
               Created Zip file under /space/gfv3/v3setup/glassfish3/glassfish/domains/domain1/\
               collected-logs/log_2010-12-15_15-46-23.zip.
               Command collect-log-files executed successfully.

       Exemple 2, Collecte des fichiers journaux d'un cluster
           Cet exemple montre comment générer une archive ZIP à partir des
           fichiers journaux d'un cluster nommé cluster1 et des deux instances
           de serveur en cours d'exécution dans le cluster.

               asadmin> collect-log-files --target cluster1
               Log files are downloaded for instance1.
               Log files are downloaded for instance2.
               Created Zip file under /space/gfv3/v3setup/glassfish3/glassfish/domains/domain1/\
               collected-logs/log_2010-12-15_15-54-06.zip.
               Command collect-log-files executed successfully.

       Exemple 3, Collecte des fichiers journaux dans un répertoire autre que
       celui par défaut pour un cluster
           Cet exemple montre comment générer une archive ZIP à partir des
           fichiers journaux d'un cluster nommé cluster1 et ses deux instances
           de serveur, et comment enregistrer l'archive dans un répertoire
           nommé \space\output.

               asadmin> collect-log-files --target cluster1 --retrieve true /space/output
               Log files are downloaded for instance1.
               Log files are downloaded for instance2.
               Created Zip file under /space/output/log_2010-12-15_15-55-54.zip.
               Command collect-log-files executed successfully.

STATUT DE SORTIE
       0
           sous-commande correctement exécutée

       1
           erreur lors de l'exécution de la sous-commande

VOIR AUSSI
       list-log-attributes(1), list-log-levels(1), rotate-log(1),
       set-log-attributes(1), set-log-levels(1)

       asadmin(1M)

       Administering the Logging Service dans le manuel Oracle GlassFish
       Server Administration Guide

Java EE 7                         22 jan 2012             collect-log-files(1)
