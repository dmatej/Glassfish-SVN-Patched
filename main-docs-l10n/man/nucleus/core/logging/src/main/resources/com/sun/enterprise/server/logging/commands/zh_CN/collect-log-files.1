collect-log-files(1)        asadmin 实用程序子命令        collect-log-files(1)

名称
       collect-log-files - 创建所有可用日志文件的 ZIP 档案文件

提要
           collect-log-files [--help] [--target target]
           [--retrieve={false|true}] [retrievefilepath]]

说明
       collect-log-files 子命令收集域管理服务器 (DAS)、指定集群或指定
       GlassFish Server 实例的所有可用日志文件，并创建日志文件的单个 ZIP
       档案。如果指定了集群，ZIP 归档文件还包含 DAS 的日志文件。

       该子命令仅在远程模式下受支持。

选项
       --help, -?
           显示子命令的帮助文本。

       --retrieve
           指定是否在默认目录以外的目录中创建 ZIP 档案。

           默认情况下，在 domain-dir/collected-logs 目录中创建 ZIP 档案。ZIP
           文件的名称由指定的 target 和时间戳构成，如下所示：

               log_yyyy-mm-dd_hh-min-sec.zip
           可能的值如下：

           假
               将在默认目录中创建 ZIP 档案。如果省略 --retrieve
               选项，则此选项默认为假

           真
               将在 retrievefilepath 操作数指定的目录中创建 ZIP 档案。如果省略
               retrievefilepath，则将在默认目录中创建 ZIP 档案。

       --target
           指定将收集日志文件的目标。

           可能的值如下：

           server
               将为 DAS 收集日志文件 (默认值)。

           instance-name
               将为指定的 GlassFish Server 实例收集日志文件。

           cluster-name
               将为指定的集群和 DAS 收集日志文件。

操作数
       retrievefilepath
           将在其中创建 ZIP
           档案的目录的名称。如果省略该操作数，将在默认目录中创建 ZIP
           档案。如果 --retrieve 选项为假

示例
       Example 1, 收集默认服务器的日志文件
           该示例从默认服务器的日志文件生成 ZIP 档案。

               asadmin> collect-log-files
               Created Zip file under /space/gfv3/v3setup/glassfish3/glassfish/domains/domain1/\
               collected-logs/log_2010-12-15_15-46-23.zip.
               Command collect-log-files executed successfully.

       Example 2, 收集集群的日志文件
           该示例从名为 cluster1
           的集群和集群中运行的两个服务器实例的日志文件生成 ZIP 档案。

               asadmin> collect-log-files --target cluster1
               Log files are downloaded for instance1.
               Log files are downloaded for instance2.
               Created Zip file under /space/gfv3/v3setup/glassfish3/glassfish/domains/domain1/\
               collected-logs/log_2010-12-15_15-54-06.zip.
               Command collect-log-files executed successfully.

       Example 3, 在集群默认目录以外的目录中收集日志文件
           此示例从名为 cluster1 的集群及其两个服务器实例的日志文件生成 ZIP
           档案文件，并在名为 /space/output 的目录中保存该档案文件。

               asadmin> collect-log-files --target cluster1 --retrieve true /space/output
               Log files are downloaded for instance1.
               Log files are downloaded for instance2.
               Created Zip file under /space/output/log_2010-12-15_15-55-54.zip.
               Command collect-log-files executed successfully.

退出状态
       0
           已成功执行子命令

       1
           执行子命令时出现错误

另请参阅
       list-log-attributes(1), list-log-levels(1), rotate-log(1),
       set-log-attributes(1), set-log-levels(1)

       asadmin(1M)

       Oracle GlassFish Server Administration Guide 中的 Administering the
       Logging Service

Java EE 7                     2012 年 1 月 22 日          collect-log-files(1)
