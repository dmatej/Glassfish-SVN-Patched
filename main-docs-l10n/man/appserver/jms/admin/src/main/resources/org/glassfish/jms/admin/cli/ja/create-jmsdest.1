create-jmsdest(1)     asadminユーティリティのサブコマンド    create-jmsdest(1)

名前
       create-jmsdest - JMS物理宛先を作成します

概要
           create-jmsdest [--help]
           --desttype dest_type
           [--property (name=value)[:name=value]*]
           [--target target]
           [--force={false|true}]
           dest_name

説明
       create-jmsdestサブコマンドは、Java Message
       Service(JMS)物理宛先を作成します。通常、create-jms-resourceサブコマンドを使用して、物理宛先を指定するNameプロパティを持つJMS宛先リソースを作成します。物理宛先は、宛先リソースを使用するアプリケーションを実行するときに自動的に作成されます。デフォルト以外のプロパティ設定を持つ物理宛先を作成する場合は、create-jmsdestサブコマンドを使用します。

       このサブコマンドは、リモート・モードでのみサポートされています。リモートのasadminサブコマンドを実行するには、ドメイン管理サーバー(DAS)が稼働している必要があります。

オプション
       --help, -?
           サブコマンドに関するヘルプ・テキストが表示されます。

       --desttype
           JMS宛先のタイプ。有効な値はtopicおよびqueueです。

       --property
           物理宛先を構成するための属性名と値のペア(オプション)。物理宛先には次のプロパティを指定できます。

           MaxNumMsgs
               宛先で許可されている未消費メッセージの最大数。-1を指定すると、メッセージの数は制限されません。デフォルト値は-1です。デッド・メッセージ・キューでは、デフォルト値は1000です。

               limitBehaviorプロパティがFLOW_CONTROLに設定されている場合、指定されたメッセージ制限を超過することがあります。ブローカが受信メッセージのフローを停止できるほど早く反応できないためです。このような場合、maxNumMsgsに指定された値はブローカにとってヒントにすぎず、厳格に実施される制限ではありません。

           MaxBytesPerMsg
               単一メッセージの最大サイズ(バイト単位)。永続メッセージが拒否されると、メッセージを生成しているクライアントに例外が報告されます。非永続メッセージの場合、通知は送信されません。

               値は、次の接尾辞を使用して、バイト、KB、またはMB単位で表される場合があります。

               b
                   バイト

               k
                   KB (1024バイト)

               m
                   MB (1024 x 1024 = 1,048,576バイト)

               接尾辞のない値はバイト単位で表され、値-1はメッセージ・サイズが制限されないことを示します。デフォルト値は-1です。

           MaxTotalMsgBytes
               未消費メッセージの最大合計メモリー(バイト単位)。デフォルト値は-1です。構文はmaxBytesPerMsgの場合と同じです。デッド・メッセージ・キューでは、デフォルト値は10mです。

           LimitBehavior
               メモリー制限のしきい値に達したときのメッセージ・キュー・ブローカの動作。有効な値は次のとおりです。

               REJECT_NEWEST
                   最新のメッセージを拒否し、メッセージを保持する場合のみ、メッセージを生成しているクライアントに例外を通知します。これがデフォルト値です。

               FLOW_CONTROL
                   メッセージ・プロデューサがメッセージを送信する頻度を下げます。

               REMOVE_OLDEST
                   最も古いメッセージを廃棄します。

               REMOVE_LOW_PRIORITY
                   優先度が最も低いメッセージを、メッセージを生成しているクライアントに通知することなく、古さに応じて廃棄します。

               値がREMOVE_OLDESTまたはREMOVE_LOW_PRIORITYで、useDMQプロパティがtrueに設定されている場合、超過メッセージはデッド・メッセージ・キューに移動されます。デッド・メッセージ・キュー自体では、デフォルトの制限動作はREMOVE_OLDESTであり、値はFLOW_CONTROLに設定できません。

           MaxNumProducers
               宛先のメッセージ・プロデューサの最大数。この制限に達すると、新しいプロデューサを作成できなくなります。-1を指定すると、プロデューサの数は制限されません。デフォルト値は100です。このプロパティはデッド・メッセージ・キューには適用されません。

           ConsumerFlowLimit
               単一のバッチでコンシューマに配信可能なメッセージの最大数。-1を指定すると、メッセージの数は制限されません。デフォルト値は1000です。クライアント・ランタイムは、より小さい値を接続ファクトリ・オブジェクトに指定することで、この制限をオーバーライドできます。

               ロード・バランシングされるキュー配信では、これはロード・バランシングを開始する前にアクティブ・コンシューマに配信されたキュー内メッセージの初期数です。

           UseDMQ
               trueに設定した場合、デッド・メッセージはデッド・メッセージ・キューに移動します。falseに設定した場合、デッド・メッセージは破棄されます。デフォルト値はtrueです。

           ValidateXMLSchemaEnabled
               trueに設定した場合、宛先に対するXMLスキーマ検証が有効になります。デフォルト値はfalseです。

               XML検証が有効になっている場合、Message
               Queueクライアント・ランタイムは、XMLメッセージをブローカに送信する前に、指定されたXSD(XSDが指定されていない場合はDTD)に照らしたメッセージの検証を試みます。指定したスキーマが見つからないかメッセージを検証できない場合、メッセージは送信されず例外がスローされます。

               このプロパティは、宛先が非アクティブである、つまりコンシューマまたはプロデューサがないとき、および宛先にメッセージが存在しないときに設定するようにしてください。それ以外の場合は、プロデューサが再接続する必要があります。

           XMLSchemaURIList
               XMLスキーマ・ドキュメント(XSD)URI文字列の空白区切りのリスト。validateXMLSchemaEnabledがtrueに設定されている場合、URIはXMLスキーマ検証に使用するために1つ以上のXSDの場所を指します。デフォルト値はnullです。

               複数のURIを指定する場合は、次の例のように、この値を二重引用符で囲みます。

                   "http://foo/flap.xsd http://test.com/test.xsd"
               このプロパティが設定されていないか、またはnullの場合にXML検証が有効になっていると、XMLドキュメント内で指定されたDTDを使用してXML検証が実行されます。アプリケーションの要件が変更されたためにXSDが変更された場合は、変更後のXSDに基づいてXMLメッセージを生成するすべてのクライアント・アプリケーションをブローカに再接続する必要があります。

           これらのプロパティの値を変更するには、as-install/mq/bin/imqcmdコマンドを使用できます。詳細は、Oracle
           GlassFish Server Message
           Queue管

       --target
           指定したターゲットにのみ物理宛先を作成します。create-jmsdestサブコマンドはリソースに関連していますが、物理宛先は、構成の一部であるJMSサービス(JMSブローカ)を使用して作成されます。JMSブローカはdomain.xmlのconfigセクションで構成されます。有効な値は次のとおりです:

           server
               デフォルトのサーバー・インスタンスに物理宛先を作成します。これがデフォルト値です。

           configuration-name
               指定した構成に物理宛先を作成します。

           cluster-name
               指定したクラスタ内のすべてのサーバー・インスタンスに物理宛先を作成します。

           instance-name
               指定したサーバー・インスタンスに物理宛先を作成します。

       --force
           同じ名前の既存のJMS物理宛先をサブコマンドによって上書きするかどうかを指定します。デフォルト値はfalseです。

オペランド
       dest_name
           作成されるJMS宛先の一意の識別子。

例
       例 1, JMS物理宛先の作成
           次のサブコマンドは、PhysicalQueueという名前でデフォルト以外のプロパティ値を持つJMS物理キューを作成します。

               asadmin> create-jmsdest --desttype queue
               --property maxNumMsgs=1000:maxBytesPerMsg=5k PhysicalQueue
               Command create-jmsdest executed successfully.

終了ステータス
       0
           サブコマンドは正常に実行されました

       1
           サブコマンドの実行時にエラーが発生しました

関連項目
       create-jms-resource(1), delete-jmsdest(1), list-jmsdest(1),
       flush-jmsdest(1)

       asadmin(1M)

Java EE 7                        2013年2月12日               create-jmsdest(1)
