<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2013 Oracle and/or its affiliates. All rights reserved.

Use is subject to License Terms  -->
<p><a id="task-jdbcconnectionpoolnew" name="task-jdbcconnectionpoolnew"></a></p>

<h4><a id="sthref14" name="sthref14"></a>Cr&eacute;ation d'un pool de connexions JDBC</h4>
<a name="BEGIN" id="BEGIN"></a>
<p>Lors de la cr&eacute;ation d'un pool de connexions &agrave; l'aide de la Console d'administration, vous d&eacute;finissez les aspects d'une connexion &agrave; une base de donn&eacute;es sp&eacute;cifique.</p>
<a id="sthref15" name="sthref15"></a>
<h5>Avant de commencer</h5>
<p>Pour cr&eacute;er un pool de connexions, vous devez d'abord installer et int&eacute;grer un pilote prenant en charge l'API JDBC (pilote JDBC). Reportez-vous &agrave; <a href="task-integratejdbcdriver.html">Int&eacute;gration d'un pilote JDBC</a>.</p>
<p>Les informations suivantes sont requises pour cr&eacute;er un pool de connexions JDBC. Rassemblez ces informations avant de poursuivre :</p>
<ul>
<li>
<p>Nom du fournisseur du pilote de base de donn&eacute;es</p>
</li>
<li>
<p>Type de ressource : <code>javax.sql.DataSource</code> (transactions locales uniquement), <code>java.sql.ConnectionPoolDataSource</code> (transactions locales, am&eacute;liorations possibles des performances), <code>javax.sql.XADataSource</code> (transactions globales) et <code>java.sql.Driver</code></p>
</li>
<li>
<p>Nom de la classe de source de donn&eacute;es</p>
</li>
<li>
<p>Propri&eacute;t&eacute;s requises, telles que le nom de la base de donn&eacute;es (URL), le nom utilisateur et le mot de passe</p>
</li>
</ul>
<ol>
<li>
<p>Dans l'arborescence de navigation, s&eacute;lectionnez le noeud T&acirc;ches courantes.</p>
<p>La page T&acirc;ches courantes appara&icirc;t.</p>
</li>
<li>
<p>Sur la page T&acirc;ches courantes, cliquez sur le bouton Cr&eacute;er un pool de connexions JDBC.</p>
<p>La page Nouveau pool de connexions JDBC (&eacute;tape 1 sur 2) appara&icirc;t.</p>

<hr>
<p><b>Remarque:</b></p>
Vous pouvez &eacute;galement acc&eacute;der &agrave; la page Nouveau pool de connexions JDBC en d&eacute;veloppant les noeuds Ressources et JDBC, puis en s&eacute;lectionnant le noeud Pools de connexions. Sur la page Pools de connexions, cliquez sur Nouveau pour cr&eacute;er un pool de connexions.
<hr>

</li>
<li>
<p>Dans le champ Nom du pool, entrez le nom du nouveau pool de connexions.</p>
<p>Ce champ est obligatoire.</p>
</li>
<li>
<p>Dans la liste d&eacute;roulante Type de ressource, s&eacute;lectionnez un type de ressource.</p>
<p>Les types de ressource disponibles incluent : <code>javax.sql.XADataSource</code> (transactions globales), <code>java.sql.ConnectionPoolDataSource</code> (transactions locales, am&eacute;liorations possibles des performances), <code>javax.sql.DataSource</code> (transactions locales uniquement) et <code>java.sql.Driver</code>.</p>
</li>
<li>
<p>Sp&eacute;cifiez un fournisseur de base de donn&eacute;es :</p>
<ol type="a">
<li>
<p>Dans la liste d&eacute;roulante Fournisseur du pilote de base de donn&eacute;es, s&eacute;lectionnez un fournisseur de base de donn&eacute;es.</p>
</li>
<li>
<p>Si le fournisseur de base de donn&eacute;es ne figure pas dans la liste, saisissez son nom dans la zone de texte Fournisseur du pilote de base de donn&eacute;es.</p>
</li>
</ol>
</li>
<li>
<p>S&eacute;lectionnez la case Introspection activ&eacute;e pour introspecter le pilote de base de donn&eacute;es en fonction du type de ressource et du fournisseur de pilote.</p>
<p>Pour que l'introspection fonctionne, le pilote JDBC doit &ecirc;tre disponible pour GlassFish Server. Reportez-vous &agrave; <a href="task-integratejdbcdriver.html">Int&eacute;gration d'un pilote JDBC</a>.</p>
</li>
<li>
<p>Cliquez sur Suivant.</p>
<p>La page Nouveau pool de connexions JDBC (&eacute;tape 2 sur 2) appara&icirc;t.</p>
</li>
<li>
<p>Dans le champ Nom de classe de la source de donn&eacute;es, saisissez le nom de la classe propre au fournisseur qui impl&eacute;mente l'API <code>DataSource</code>, <code>ConnectionPoolDataSource</code> ou <code>XADataSource</code>.</p>
<p>Si vous avez s&eacute;lectionn&eacute; Introspection activ&eacute;e et l'un des types de ressource de source de donn&eacute;es, ce champ contient automatiquement le nom de classe associ&eacute; au type de ressource et au fournisseur de base de donn&eacute;es choisis. Si vous s&eacute;lectionnez le type de ressource <code>java.sql.Driver</code>, ce champ est d&eacute;sactiv&eacute;.</p>
</li>
<li>
<p>Dans le champ Nom de classe du pilote, saisissez le nom de classe propre au fournisseur qui impl&eacute;mente l'API <code>java.sql.Driver</code>.</p>
<p>Si vous avez s&eacute;lectionn&eacute; Introspection activ&eacute;e ou le type de ressource <code>java.sql.Driver</code>, ce champ indique automatiquement le nom de classe associ&eacute; au pilote et au fournisseur de base de donn&eacute;es que vous avez choisis. Si vous s&eacute;lectionnez l'un des types de ressource de source de donn&eacute;es, ce champ est d&eacute;sactiv&eacute;.</p>
</li>
<li>
<p>Cochez la case Activ&eacute; du champ Ping pour envoyer automatiquement la commande ping &agrave; un pool lors de sa cr&eacute;ation ou de sa reconfiguration, afin d'identifier et de signaler toute erreur de valeur d'attribut.</p>
<p>Cette option est d&eacute;sactiv&eacute;e par d&eacute;faut.</p>
</li>
<li>
<p>Dans le champ Description, entrez une br&egrave;ve description du pool de connexions.</p>
</li>
<li>
<p>Dans le champ Taille initiale et minimale du pool, entrez le nombre minimal de connexions pour ce pool.</p>
<p>Cette valeur d&eacute;termine &eacute;galement le nombre de connexions plac&eacute;es dans le pool lors de sa cr&eacute;ation initiale ou lors du d&eacute;marrage de GlassFish Server. La valeur par d&eacute;faut est 8.</p>
</li>
<li>
<p>Dans le champ Taille maximale du pool, entrez le nombre maximal de connexions pour ce pool.</p>
<p>La valeur par d&eacute;faut est 32.</p>
</li>
<li>
<p>Dans le champ Valeur de redimensionnement du pool, entrez le nombre de connexions par batch de redimensionnement du pool.</p>
<p>Lors de la mont&eacute;e en puissance du pool jusqu'&agrave; sa taille maximale ou de sa r&eacute;duction jusqu'&agrave; sa taille minimale, il est redimensionn&eacute; par batch. Cette valeur d&eacute;termine le nombre de connexions dans le batch. Une valeur trop &eacute;lev&eacute;e retarde la cr&eacute;ation et le recyclage de la connexion, alors qu'une valeur trop basse r&eacute;duit les performances. La valeur par d&eacute;faut est 2.</p>
</li>
<li>
<p>Dans le champ D&eacute;lai d'inactivit&eacute;, entrez la dur&eacute;e maximale, en secondes, pendant laquelle une connexion peut rester inactive dans le pool.</p>
<p>Une fois ce d&eacute;lai expir&eacute;, la connexion est enlev&eacute;e du pool. La valeur par d&eacute;faut est 300.</p>
</li>
<li>
<p>Dans le champ Attente max., entrez le d&eacute;lai d'attente maximal (en millisecondes) au-del&agrave; duquel la connexion est temporis&eacute;e pour une application demandant une connexion.</p>
<p>La valeur par d&eacute;faut est 60 000.</p>
</li>
<li>
<p>Cochez la case Activ&eacute; du champ Connexions non transactionnelles pour renvoyer les connexions non transactionnelles.</p>
<p>Cette option est d&eacute;sactiv&eacute;e par d&eacute;faut.</p>
</li>
<li>
<p>Dans la liste d&eacute;roulante Niveau d'isolement de transaction, s&eacute;lectionnez le niveau d'isolement de transaction de ce pool de connexions.</p>
<p>Si aucune valeur n'est sp&eacute;cifi&eacute;e, les connexions sont &eacute;tablies au niveau d'isolement par d&eacute;faut indiqu&eacute; par le pilote JDBC. Par d&eacute;faut, cette option n'est pas sp&eacute;cifi&eacute;e.</p>
</li>
<li>
<p>Cochez la case Garanti du champ Niveau d'isolement pour que toutes les connexions emprunt&eacute;es au pool partagent le m&ecirc;me niveau d'isolement.</p>
<p>Par exemple, si le niveau d'isolement de la connexion a &eacute;t&eacute; modifi&eacute; par programmation (avec <code>con.setTransactionIsolation</code>) lors de sa derni&egrave;re utilisation, ce m&eacute;canisme r&eacute;tablit le statut au niveau d'isolement indiqu&eacute;. Cette option est activ&eacute;e par d&eacute;faut.</p>
<p>Ce param&egrave;tre ne s'applique que lorsqu'un niveau d'isolement de transaction a &eacute;t&eacute; sp&eacute;cifi&eacute;.</p>
</li>
<li>
<p>Dans la section Autres propri&eacute;t&eacute;s, sp&eacute;cifiez les propri&eacute;t&eacute;s suppl&eacute;mentaires.</p>
<p>Le nom de la base de donn&eacute;es (URL), le nom utilisateur et le mot de passe sont des exemples de propri&eacute;t&eacute;s requises. La table contient normalement les propri&eacute;t&eacute;s utilis&eacute;es par le fournisseur de base de donn&eacute;es. Pour plus d'informations sur certaines propri&eacute;t&eacute;s disponibles, reportez-vous &agrave; <a href="ref-jdbc-properties.html">Propri&eacute;t&eacute;s propres aux pools de connexions JDBC</a>.</p>
<p>Si vous n'indiquez pas de valeur pour une propri&eacute;t&eacute;, celle-ci est enlev&eacute;e de la table &agrave; l'issue de la cr&eacute;ation du pool de connexions. Si vous ne souhaitez pas d&eacute;finir imm&eacute;diatement la valeur d'une propri&eacute;t&eacute; mais conserver cette propri&eacute;t&eacute; dans la table afin de d&eacute;finir sa valeur ult&eacute;rieurement, entrez des parenth&egrave;ses vides dans le champ Valeur :</p>
<pre>
()
</pre>
<ul>
<li>
<p>Pour ajouter une propri&eacute;t&eacute;, cliquez sur le bouton Ajouter une propri&eacute;t&eacute;. Sur la ligne vide qui appara&icirc;t, saisissez le nom de la propri&eacute;t&eacute; dans le champ Nom et la valeur de la propri&eacute;t&eacute; dans le champ Valeur.</p>
</li>
<li>
<p>Pour modifier une propri&eacute;t&eacute;, modifiez le champ Valeur de cette propri&eacute;t&eacute;.</p>
</li>
<li>
<p>Pour supprimer une propri&eacute;t&eacute;, s&eacute;lectionnez la case situ&eacute;e &agrave; gauche du champ Nom de la propri&eacute;t&eacute; &agrave; supprimer, puis cliquez sur le bouton Supprimer des propri&eacute;t&eacute;s.</p>
</li>
</ul>
</li>
<li>
<p>Cliquez sur Terminer.</p>
</li>
</ol>
<a id="sthref16" name="sthref16"></a>
<h5>Voir aussi</h5>
<ul>
<li>
<p><a href="task-setdbaccess.html">Configuration de l'acc&egrave;s aux bases de donn&eacute;es</a></p>
</li>
<li>
<p><a href="task-integratejdbcdriver.html">Int&eacute;gration d'un pilote JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcenew.html">Cr&eacute;ation d'une ressource JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcesedit.html">Modification d'une ressource JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcetargets.html">Modification des cibles de ressource JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcesdelete.html">Suppression d'une ressource JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpooledit.html">Modification des param&egrave;tres g&eacute;n&eacute;raux de pool de connexions JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpooladvance.html">Modification des attributs avanc&eacute;s de pool de connexions JDBC</a></p>
</li>
<li>
<p><a href="task-verifyconnpoolsettings.html">V&eacute;rification des param&egrave;tres de pool de connexions</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpoolproperty.html">Modification des propri&eacute;t&eacute;s de pool de connexions JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpooldelete.html">Suppression d'un pool de connexions JDBC</a></p>
</li>
</ul>


<small>Copyright &#169; 2005, 2013, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">Legal Notices</a></small>
