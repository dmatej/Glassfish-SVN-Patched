<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Hibernate Validator</title><link rel="stylesheet" href="css/hibernate-single.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/></head><body><div class="book" lang="en-US"><div class="titlepage"><div><p id="title"><a href="http://www.hibernate.org" class="site_href"><strong>Hibernate.org</strong></a><a href="http://hibernate.org/Documentation/DocumentationOverview" class="doc_href"><strong>Community Documentation</strong></a></p><div><h1 class="title"><a id="d0e2"/>Hibernate Validator</h1></div><div><h2 class="subtitle">JSR 303 Reference Implementation</h2></div><div><h2 class="subtitle">Reference Guide</h2></div><div><div xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="authorgroup"><div class="authors">by <span xmlns="http://www.w3.org/1999/xhtml" class="firstname">Hardy</span> <span xmlns="http://www.w3.org/1999/xhtml" class="surname">Ferentschik</span> and <span xmlns="http://www.w3.org/1999/xhtml" class="firstname">Gunnar</span> <span xmlns="http://www.w3.org/1999/xhtml" class="surname">Morling</span></div><div class="editors"/><div class="others"/></div></div><div><p class="releaseinfo">5.0.0.Final</p></div><div><p class="copyright">Copyright © 2009 - 2013 Red Hat, Inc. &amp; Gunnar Morling</p></div><div><p class="pubdate">2013-04-11</p></div></div><hr/></div><div class="toc"><dl><dt><span class="preface"><a href="#preface">Preface</a></span></dt><dt><span class="chapter"><a href="#validator-gettingstarted">1. Getting started</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-gettingstarted-createproject">1.1. Project set up</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-gettingstarted-logging">1.1.1. Logging</a></span></dt><dt><span class="section"><a href="#validator-gettingstarted-uel">1.1.2. Unified EL</a></span></dt><dt><span class="section"><a href="#validator-gettingstarted-cdi">1.1.3. CDI</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-gettingstarted-createmodel">1.2. Applying constraints</a></span></dt><dt><span class="section"><a href="#d0e189">1.3. Validating constraints</a></span></dt><dt><span class="section"><a href="#validator-gettingstarted-whatsnext">1.4. Where to go next?</a></span></dt></dl></dd><dt><span class="chapter"><a href="#validator-usingvalidator">2. Validation step by step</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-usingvalidator-annotate">2.1. Defining constraints</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e295">2.1.1. Field-level constraints</a></span></dt><dt><span class="section"><a href="#d0e318">2.1.2. Property-level constraints</a></span></dt><dt><span class="section"><a href="#d0e349">2.1.3. Class-level
      constraints</a></span></dt><dt><span class="section"><a href="#d0e378">2.1.4. Constraint inheritance</a></span></dt><dt><span class="section"><a href="#d0e433">2.1.5. Object graphs</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-usingvalidator-validate">2.2. Validating constraints</a></span></dt><dd><dl><dt><span class="section"><a href="#section-obtaining-validator">2.2.1. Obtaining a Validator instance</a></span></dt><dt><span class="section"><a href="#d0e588">2.2.2. Validator methods</a></span></dt><dt><span class="section"><a href="#d0e677">2.2.3. ConstraintViolation methods</a></span></dt><dt><span class="section"><a href="#section-message-interpolation">2.2.4. Message interpolation</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-usingvalidator-validationgroups">2.3. Validating groups</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e988">2.3.1. Group sequences</a></span></dt><dt><span class="section"><a href="#section-default-group-class">2.3.2. Redefining the default group sequence of a class</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-defineconstraints-builtin">2.4. Built-in constraints</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-defineconstraints-spec">2.4.1. Bean Validation constraints</a></span></dt><dt><span class="section"><a href="#validator-defineconstraints-hv-constraints">2.4.2. Additional constraints</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#validator-customconstraints">3. Creating custom constraints</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-customconstraints-simple">3.1. Creating a simple constraint</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-customconstraints-constraintannotation">3.1.1. The constraint annotation</a></span></dt><dt><span class="section"><a href="#validator-customconstraints-validator">3.1.2. The constraint
      validator</a></span></dt><dt><span class="section"><a href="#validator-customconstraints-errormessage">3.1.3. The error message</a></span></dt><dt><span class="section"><a href="#validator-customconstraints-using">3.1.4. Using the constraint</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-customconstraints-compound">3.2. Constraint composition</a></span></dt></dl></dd><dt><span class="chapter"><a href="#validator-xmlconfiguration">4. XML configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2226">4.1. validation.xml</a></span></dt><dt><span class="section"><a href="#d0e2313">4.2. Mapping constraints</a></span></dt></dl></dd><dt><span class="chapter"><a href="#validator-bootstrapping">5. Bootstrapping</a></span></dt><dd><dl><dt><span class="section"><a href="#section-validator-instance">5.1. Configuration and
    ValidatorFactory</a></span></dt><dt><span class="section"><a href="#section-validation-provider-resolver">5.2. ValidationProviderResolver</a></span></dt><dt><span class="section"><a href="#section-message-interpolator">5.3. MessageInterpolator</a></span></dt><dd><dl><dt><span class="section"><a href="#section-resource-bundle-locator">5.3.1. ResourceBundleLocator</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e2668">5.4. TraversableResolver</a></span></dt><dt><span class="section"><a href="#d0e2714">5.5. ConstraintValidatorFactory</a></span></dt></dl></dd><dt><span class="chapter"><a href="#validator-metadata-api">6. Metadata API</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2769">6.1. BeanDescriptor</a></span></dt><dt><span class="section"><a href="#section-property-descriptor">6.2. PropertyDescriptor</a></span></dt><dt><span class="section"><a href="#d0e2843">6.3. ElementDescriptor</a></span></dt><dt><span class="section"><a href="#section-constraint-descriptor">6.4. ConstraintDescriptor</a></span></dt></dl></dd><dt><span class="chapter"><a href="#validator-integration">7. Integration with other frameworks</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-osgi">7.1. OSGi</a></span></dt><dt><span class="section"><a href="#validator-checkconstraints-db">7.2. Database schema-level validation</a></span></dt><dt><span class="section"><a href="#validator-checkconstraints-orm">7.3. ORM integration</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-checkconstraints-orm-hibernateevent">7.3.1. Hibernate event-based validation</a></span></dt><dt><span class="section"><a href="#d0e3113">7.3.2. JPA</a></span></dt></dl></dd><dt><span class="section"><a href="#section-presentation-layer">7.4. Presentation layer validation</a></span></dt></dl></dd><dt><span class="chapter"><a href="#validator-specifics">8. Hibernate Validator Specifics</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3202">8.1. Public API</a></span></dt><dt><span class="section"><a href="#d0e3348">8.2. Fail fast mode</a></span></dt><dt><span class="section"><a href="#validator-customoptions-methodvalidation">8.3. Method validation</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3421">8.3.1. Defining method-level constraints</a></span></dt><dt><span class="section"><a href="#d0e3496">8.3.2. Evaluating method-level constraints</a></span></dt><dt><span class="section"><a href="#d0e3586">8.3.3. Retrieving method-level constraint meta data</a></span></dt></dl></dd><dt><span class="section"><a href="#programmaticapi">8.4. Programmatic constraint definition</a></span></dt><dt><span class="section"><a href="#d0e3718">8.5. Boolean composition for constraint composition</a></span></dt></dl></dd><dt><span class="chapter"><a href="#validator-annotation-processor">9. Annotation Processor</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-annotationprocessor-prerequisites">9.1. Prerequisites</a></span></dt><dt><span class="section"><a href="#validator-annotationprocessor-features">9.2. Features</a></span></dt><dt><span class="section"><a href="#validator-annotationprocessor-options">9.3. Options</a></span></dt><dt><span class="section"><a href="#validator-annotationprocessor-usage">9.4. Using the Annotation Processor</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-annotationprocessor-commandline">9.4.1. Command line builds</a></span></dt><dt><span class="section"><a href="#validator-annotationprocessor-ide">9.4.2. IDE builds</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-annotationprocessor-known-issues">9.5. Known issues</a></span></dt></dl></dd><dt><span class="chapter"><a href="#validator-further-reading">10. Further reading</a></span></dt></dl></div><div class="preface" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="preface"/>Preface</h2></div></div></div><p>Validating data is a common task that occurs throughout any
  application, from the presentation layer to the persistence layer. Often the
  same validation logic is implemented in each layer, proving time consuming
  and error-prone. To avoid duplication of these validations in each layer,
  developers often bundle validation logic directly into the domain model,
  cluttering domain classes with validation code which is really metadata
  about the class itself.</p><div class="mediaobject"><img src="application-layers.png"/></div><p>JSR 303 - Bean Validation - defines a metadata model and API for
  entity validation. The default metadata source is annotations, with the
  ability to override and extend the meta-data through the use of XML. The API
  is not tied to a specific application tier or programming model. It is
  specifically not tied to either the web tier or the persistence tier, and is
  available for both server-side application programming, as well as rich
  client Swing application developers.</p><div class="mediaobject"><img src="application-layers2.png"/></div><p>Hibernate Validator is the reference implementation of this JSR. The
  implementation itself as well as the Bean Validation API and TCK are all
  provided and distributed under the <a class="ulink" href="http://www.apache.org/licenses/LICENSE-2.0">Apache Software License
  2.0</a>.</p></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-gettingstarted"/>Chapter 1. Getting started</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#validator-gettingstarted-createproject">1.1. Project set up</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-gettingstarted-logging">1.1.1. Logging</a></span></dt><dt><span class="section"><a href="#validator-gettingstarted-uel">1.1.2. Unified EL</a></span></dt><dt><span class="section"><a href="#validator-gettingstarted-cdi">1.1.3. CDI</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-gettingstarted-createmodel">1.2. Applying constraints</a></span></dt><dt><span class="section"><a href="#d0e189">1.3. Validating constraints</a></span></dt><dt><span class="section"><a href="#validator-gettingstarted-whatsnext">1.4. Where to go next?</a></span></dt></dl></div><p>This chapter will show you how to get started with Hibernate
  Validator, the reference implementation (RI) of Bean Validation. For the
  following quickstart you need:</p><div class="itemizedlist"><ul><li><p>A JDK &gt;= 6</p></li><li><p><a class="ulink" href="http://maven.apache.org/">Apache Maven</a></p></li><li><p>An Internet connection (Maven has to download all required
      libraries)</p></li></ul></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-gettingstarted-createproject"/>1.1. Project set up</h2></div></div></div><p>In order to use Hibernate Validator within a Maven project, simply
    add the following dependency to your <code class="filename">pom.xml</code>:</p><div class="example"><a id="d0e82"/><p class="title"><b>Example 1.1. Hibernate Validator Maven dependency</b></p><div class="example-contents"><pre class="programlisting">&lt;dependency&gt;
    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;
    &lt;version&gt;5.0.0.Final&lt;/version&gt;
&lt;/dependency&gt;</pre></div></div><p><br class="example-break"/></p><p>This transitively pulls in the dependency to the Bean Validation API
    (<code class="literal">javax.validation:validation-api:1.1.0.CR3</code>).</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-gettingstarted-logging"/>1.1.1. Logging</h3></div></div></div><p>For the purposes of logging, Hibernate Validator uses the JBoss
      Logging API. This is an abstraction layer which supports several known
      logging solutions (e.g. log4j or the logging framework provided by the
      JDK) as implementation. Just add your preferred logging library as
      dependency to your project and all log requests from Hibernate Validator
      will automatically be delegated to that logging provider.</p><p>If there are several logging implementations part of the
      classpath, you can explicitely specify a provider using the system
      property <code class="varname">org.jboss.logging.provider</code>. Supported values
      currently are <code class="varname">jboss</code>, <code class="varname">jdk</code>,
      <code class="varname">log4j</code> and <code class="varname">slf4j</code>.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-gettingstarted-uel"/>1.1.2. Unified EL</h3></div></div></div><p>Hibernate Validator requires an implementation of the Unified
      Expression Language (<a class="ulink" href="jcp.org/en/jsr/detail?id=341">JSR
      341</a>) for evaluating dynamic expressions in constraint violation
      messages (see <a class="xref" href="#section-message-interpolation" title="2.2.4. Message interpolation">Section 2.2.4, “Message interpolation”</a>). When
      your application runs in a Java EE container such as JBoss AS, an EL
      implementation is already provided by the container. In a Java SE
      environment, however, you have to add an implementation as dependency to
      your POM file. For instance you can add the following two dependencies
      to use the JSR 341 <a class="ulink" href="http://uel.java.net/">reference
      implementation</a>:</p><div class="example"><a id="d0e127"/><p class="title"><b>Example 1.2. Maven dependencies for Unified EL reference
        implementation</b></p><div class="example-contents"><pre class="programlisting">&lt;dependency&gt;
    &lt;groupId&gt;javax.el&lt;/groupId&gt;
    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;
    &lt;version&gt;2.2.4&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;
    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;
    &lt;version&gt;2.2.4&lt;/version&gt;
&lt;/dependency&gt;</pre></div></div><br class="example-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-gettingstarted-cdi"/>1.1.3. CDI</h3></div></div></div><p>Bean Validation defines integration points with CDI (Contexts and
      Dependency Injection for Java<sup>TM</sup> EE, <a class="ulink" href="http://jcp.org/en/jsr/detail?id=346">JSR 346</a>). If your
      application runs in an environment which does not provide this
      integration out of the box, you may use the Hibernate Validator CDI
      portable extension by adding the following Maven dependency to your
      POM:</p><div class="example"><a id="d0e143"/><p class="title"><b>Example 1.3. Hibernate Validator CDI portable extension Maven
        dependency</b></p><div class="example-contents"><pre class="programlisting">&lt;dependency&gt;
    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
    &lt;artifactId&gt;hibernate-validator-cdi&lt;/artifactId&gt;
    &lt;version&gt;5.0.0.Final&lt;/version&gt;
&lt;/dependency&gt;</pre></div></div><br class="example-break"/><p>Note that adding this dependency is usually not required for
      applications running on a Java EE application server. You can learn more
      about the integration of Bean Validation and CDI in section TODO.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-gettingstarted-createmodel"/>1.2. Applying constraints</h2></div></div></div><p>Lets dive directly into an example to see how to apply
    constraints.</p><div class="example"><a id="example-class-car"/><p class="title"><b>Example 1.4. Class Car annotated with constraints</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;org</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">hibernate</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">validator</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">referenceguide</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">chapter01</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">Min</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">NotNull</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">Size</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Size</span><span class="java_separator">(</span><span class="java_plain">min&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span><span class="java_plain">&nbsp;max&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">14</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licensePlate</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Min</span><span class="java_separator">(</span><span class="java_literal">2</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">manufacturer&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">licensePlate&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">seatCount&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">getters&nbsp;and&nbsp;setters&nbsp;</span><span class="java_separator">...</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p><code class="classname">@NotNull</code>, <code class="classname">@Size</code> and
    <code class="classname">@Min</code> are so-called constraint annotations, that we
    use to declare constraints, which shall be applied to the fields of a
    <code class="classname">Car</code> instance:</p><div class="itemizedlist"><ul><li><p><span class="property">manufacturer</span> shall never be null</p></li><li><p><span class="property">licensePlate</span> shall never be null and must
        be between 2 and 14 characters long</p></li><li><p><span class="property">seatCount</span> shall be at least 2.</p></li></ul></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e189"/>1.3. Validating constraints</h2></div></div></div><p>To perform a validation of these constraints, we use a
    <code class="classname">Validator</code> instance. Let's have a look at a unit
    test for <code class="classname">Car</code>:</p><div class="example"><a id="d0e200"/><p class="title"><b>Example 1.5. Class CarTest showing validation examples</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;org</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">hibernate</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">validator</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">referenceguide</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">chapter01</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">util</span><span class="java_separator">.</span><span class="java_type">Set</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">ConstraintViolation</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">Validation</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">Validator</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">ValidatorFactory</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">junit</span><span class="java_separator">.</span><span class="java_type">BeforeClass</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">junit</span><span class="java_separator">.</span><span class="java_type">Test</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">junit</span><span class="java_separator">.</span><span class="java_type">Assert</span><span class="java_separator">.</span><span class="java_plain">assertEquals</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">CarTest</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">BeforeClass</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setUp</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">ValidatorFactory</span><span class="java_plain">&nbsp;factory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">Validation</span><span class="java_separator">.</span><span class="java_plain">buildDefaultValidatorFactory</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Test</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;manufacturerIsNull</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">null</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;DD-AB-123&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">4</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">ConstraintViolation</span><span class="java_operator">&lt;</span><span class="java_type">Car</span><span class="java_operator">&gt;&gt;</span><span class="java_plain">&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;may&nbsp;not&nbsp;be&nbsp;null&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">().</span><span class="java_plain">getMessage</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Test</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;licensePlateTooShort</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Morris&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;D&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">4</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">ConstraintViolation</span><span class="java_operator">&lt;</span><span class="java_type">Car</span><span class="java_operator">&gt;&gt;</span><span class="java_plain">&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;size&nbsp;must&nbsp;be&nbsp;between&nbsp;2&nbsp;and&nbsp;14&quot;</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">().</span><span class="java_plain">getMessage</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Test</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;seatCountTooLow</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Morris&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;DD-AB-123&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">ConstraintViolation</span><span class="java_operator">&lt;</span><span class="java_type">Car</span><span class="java_operator">&gt;&gt;</span><span class="java_plain">&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;must&nbsp;be&nbsp;greater&nbsp;than&nbsp;or&nbsp;equal&nbsp;to&nbsp;2&quot;</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">().</span><span class="java_plain">getMessage</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Test</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;carIsValid</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Morris&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;DD-AB-123&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">ConstraintViolation</span><span class="java_operator">&lt;</span><span class="java_type">Car</span><span class="java_operator">&gt;&gt;</span><span class="java_plain">&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">0</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>In the <code class="methodname">setUp()</code> method we get a
    <code class="classname">Validator</code> instance from the
    <code class="classname">ValidatorFactory</code>. A
    <code class="classname">Validator</code> instance is thread-safe and may be reused
    multiple times. For this reason we store it as field of our test class. We
    can use the <code class="classname">Validator</code> now to validate the different
    car instances in the test methods.</p><p>The <code class="methodname">validate()</code> method returns a set of
    <code class="classname">ConstraintViolation</code> instances, which we can iterate
    in order to see which validation errors occurred. The first three test
    methods show some expected constraint violations:</p><div class="itemizedlist"><ul><li><p>The <code class="classname">@NotNull</code> constraint on manufacturer
        is violated in <code class="methodname">manufacturerIsNull()</code></p></li><li><p>The <code class="classname">@Size</code> constraint on licensePlate is
        violated in <code class="methodname">licensePlateTooShort()</code></p></li><li><p>The <code class="classname">@Min</code> constraint on seatCount is
        violated in <code class="methodname">seatCountTooLow()</code></p></li></ul></div><p>If the object validates successfully,
    <code class="methodname">validate()</code> returns an empty set.</p><p>Note that we only use classes from the package
    <span class="package">javax.validation</span> from the Bean Validation API. As we
    don't reference any classes of the RI directly, it would be no problem to
    switch to another implementation of the API, should that need
    arise.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-gettingstarted-whatsnext"/>1.4. Where to go next?</h2></div></div></div><p>That concludes our 5 minute tour through the world of Hibernate
    Validator. Continue exploring the code examples or look at further
    examples referenced in <a class="xref" href="#validator-further-reading" title="Chapter 10. Further reading">Chapter 10, <i>Further reading</i></a>. To
    deepen your understanding of Hibernate Validator just continue reading
    <a class="xref" href="#validator-usingvalidator" title="Chapter 2. Validation step by step">Chapter 2, <i>Validation step by step</i></a>. In case your application has
    specific validation requirements have a look at <a class="xref" href="#validator-customconstraints" title="Chapter 3. Creating custom constraints">Chapter 3, <i>Creating custom constraints</i></a>.</p></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-usingvalidator"/>Chapter 2. Validation step by step</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#validator-usingvalidator-annotate">2.1. Defining constraints</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e295">2.1.1. Field-level constraints</a></span></dt><dt><span class="section"><a href="#d0e318">2.1.2. Property-level constraints</a></span></dt><dt><span class="section"><a href="#d0e349">2.1.3. Class-level
      constraints</a></span></dt><dt><span class="section"><a href="#d0e378">2.1.4. Constraint inheritance</a></span></dt><dt><span class="section"><a href="#d0e433">2.1.5. Object graphs</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-usingvalidator-validate">2.2. Validating constraints</a></span></dt><dd><dl><dt><span class="section"><a href="#section-obtaining-validator">2.2.1. Obtaining a Validator instance</a></span></dt><dt><span class="section"><a href="#d0e588">2.2.2. Validator methods</a></span></dt><dt><span class="section"><a href="#d0e677">2.2.3. ConstraintViolation methods</a></span></dt><dt><span class="section"><a href="#section-message-interpolation">2.2.4. Message interpolation</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-usingvalidator-validationgroups">2.3. Validating groups</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e988">2.3.1. Group sequences</a></span></dt><dt><span class="section"><a href="#section-default-group-class">2.3.2. Redefining the default group sequence of a class</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-defineconstraints-builtin">2.4. Built-in constraints</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-defineconstraints-spec">2.4.1. Bean Validation constraints</a></span></dt><dt><span class="section"><a href="#validator-defineconstraints-hv-constraints">2.4.2. Additional constraints</a></span></dt></dl></dd></dl></div><p>In this chapter we will see in more detail how to use Hibernate
  Validator to validate constraints for a given entity model. We will also
  learn which default constraints the Bean Validation specification provides
  and which additional constraints are only provided by Hibernate Validator.
  Let's start with how to add constraints to an entity.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-usingvalidator-annotate"/>2.1. Defining constraints</h2></div></div></div><p>Constraints in Bean Validation are expressed via Java annotations.
    In this section we show how to annotate an object model with these
    annotations. We have to differentiate between three different type of
    constraint annotations - field-, property-, and class-level
    annotations.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>Not all constraints can be placed on all of these levels. In fact,
      none of the default constraints defined by Bean Validation can be placed
      at class level. The <code class="classname">java.lang.annotation.Target</code>
      annotation in the constraint annotation itself determines on which
      elements a constraint can be placed. See <a class="xref" href="#validator-customconstraints" title="Chapter 3. Creating custom constraints">Chapter 3, <i>Creating custom constraints</i></a> for more information.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e295"/>2.1.1. Field-level constraints</h3></div></div></div><p>Constraints can be expressed by annotating a field of a class.
      <a class="xref" href="#example-field-level" title="Example 2.1. Field level constraint">Example 2.1, “Field level constraint”</a> shows a field level configuration
      example:</p><div class="example"><a id="example-field-level"/><p class="title"><b>Example 2.1. Field level constraint</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">NotNull</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">AssertTrue</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isRegistered</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isRegistered</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">super</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">manufacturer&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">isRegistered&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;isRegistered</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>When using field level constraints field access strategy is used
      to access the value to be validated. This means the bean validation
      provider directly accesses the instance variable and does not invoke the
      property accessor method also if such a method exists.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>The access type (private, protected or public) does not
        matter.</p></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>Static fields and properties cannot be validated.</p></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>When validating byte code enhanced objects property level
        constraints should be used, because the byte code enhancing library
        won't be able to determine a field access via reflection.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e318"/>2.1.2. Property-level constraints</h3></div></div></div><p>If your model class adheres to the <a class="ulink" href="http://java.sun.com/javase/technologies/desktop/javabeans/index.jsp">JavaBeans</a>
      standard, it is also possible to annotate the properties of a bean class
      instead of its fields. <a class="xref" href="#example-property-level" title="Example 2.2. Property level constraint">Example 2.2, “Property level constraint”</a> uses the
      same entity as in <a class="xref" href="#example-field-level" title="Example 2.1. Field level constraint">Example 2.1, “Field level constraint”</a>, however,
      property level constraints are used.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>The property's getter method has to be annotated, not its
          setter.</p></div><div class="example"><a id="example-property-level"/><p class="title"><b>Example 2.2. Property level constraint</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">AssertTrue</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">NotNull</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isRegistered</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isRegistered</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">super</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">manufacturer&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">isRegistered&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;isRegistered</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;getManufacturer</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setManufacturer</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">manufacturer&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">AssertTrue</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isRegistered</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;isRegistered</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setRegistered</span><span class="java_separator">(</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isRegistered</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">isRegistered&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;isRegistered</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>When using property level constraints property access strategy is
      used to access the value to be validated. This means the bean validation
      provider accesses the state via the property accessor method. One
      advantage of annotating properties instead of fields is that the
      constraints become part of the constrained type's API that way and users
      are aware of the existing constraints without having to examine the
      type's implementation.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>It is recommended to stick either to field
        <span class="emphasis"><em>or</em></span> property annotations within one class. It is
        not recommended to annotate a field <span class="emphasis"><em>and</em></span> the
        accompanying getter method as this would cause the field to be
        validated twice.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e349"/>2.1.3. Class-level
      constraints</h3></div></div></div><p>Last but not least, a constraint can also be placed on class
      level. When a constraint annotation is placed on this level the class
      instance itself passed to the
      <code class="classname">ConstraintValidator</code>. Class level constraints are
      useful if it is necessary to inspect more than a single property of the
      class to validate it or if a correlation between different state
      variables has to be evaluated. In <a class="xref" href="#example-class-level" title="Example 2.3. Class level constraint">Example 2.3, “Class level constraint”</a>
      we add the property <span class="property">passengers</span> to the class
      <code class="classname">Car</code>. We also add the constraint
      <code class="classname">PassengerCount</code> on the class level. We will later
      see how we can actually create this custom constraint (see <a class="xref" href="#validator-customconstraints" title="Chapter 3. Creating custom constraints">Chapter 3, <i>Creating custom constraints</i></a>). For now it is enough to know
      that <code class="classname">PassengerCount</code> will ensure that there cannot
      be more passengers in a car than there are seats.</p><div class="example"><a id="example-class-level"/><p class="title"><b>Example 2.3. Class level constraint</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">Min</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">NotNull</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">Size</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">PassengerCount</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Size</span><span class="java_separator">(</span><span class="java_plain">min&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span><span class="java_plain">&nbsp;max&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">14</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licensePlate</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Min</span><span class="java_separator">(</span><span class="java_literal">2</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">Person</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;passengers</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">manufacturer&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">licensePlate&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">seatCount&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">getters&nbsp;and&nbsp;setters&nbsp;</span><span class="java_separator">...</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e378"/>2.1.4. Constraint inheritance</h3></div></div></div><p>When validating an object that implements an interface or extends
      another class, all constraint annotations on the implemented interface
      and parent class apply in the same manner as the constraints specified
      on the validated object itself. To make things clearer let's have a look
      at the following example:</p><div class="example"><a id="d0e383"/><p class="title"><b>Example 2.4. Constraint inheritance using RentalCar</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">NotNull</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">RentalCar</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;rentalStation</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">RentalCar</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;rentalStation</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">super</span><span class="java_separator">(</span><span class="java_plain">manufacturer</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">rentalStation&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;rentalStation</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;getRentalStation</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;rentalStation</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setRentalStation</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;rentalStation</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">rentalStation&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;rentalStation</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>Our well-known class <code class="classname">Car</code> is now extended by
      <code class="classname">RentalCar</code> with the additional property
      <span class="property">rentalStation</span>. If an instance of
      <code class="classname">RentalCar</code> is validated, not only the
      <code class="classname">@NotNull</code> constraint on
      <span class="property">rentalStation</span> is validated, but also the constraint
      on <span class="property">manufacturer</span> from the parent class.</p><p>The same would hold true, if <code class="classname">Car</code> were an
      interface implemented by <code class="classname">RentalCar</code>.</p><p>Constraint annotations are aggregated if methods are overridden.
      If <code class="classname">RentalCar</code> would override the
      <code class="methodname">getManufacturer()</code> method from
      <code class="classname">Car</code> any constraints annotated at the overriding
      method would be evaluated in addition to the
      <code class="classname">@NotNull</code> constraint from the super-class.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e433"/>2.1.5. Object graphs</h3></div></div></div><p>The Bean Validation API does not only allow to validate single
      class instances but also complete object graphs. To do so, just annotate
      a field or property representing a reference to another object with
      <code class="classname">@Valid</code>. If the parent object is validated, all
      referenced objects annotated with <code class="classname">@Valid</code> will be
      validated as well (as will be their children etc.). See <a class="xref" href="#example-car-with-driver" title="Example 2.6. Adding a driver to the car">Example 2.6, “Adding a driver to the car”</a>.</p><div class="example"><a id="d0e446"/><p class="title"><b>Example 2.5. Class Person</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">NotNull</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;name</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;name</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">super</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">name&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;name</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;getName</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;name</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setName</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;name</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">name&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;name</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><div class="example"><a id="example-car-with-driver"/><p class="title"><b>Example 2.6. Adding a driver to the car</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">Valid</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">NotNull</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Valid</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_plain">&nbsp;driver</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_type">Person</span><span class="java_plain">&nbsp;driver</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">driver&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;driver</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">getters&nbsp;and&nbsp;setters&nbsp;</span><span class="java_separator">...</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>If an instance of <code class="classname">Car</code> is validated, the
      referenced <code class="classname">Person</code> object will be validated as
      well, as the <span class="property">driver</span> field is annotated with
      <code class="classname">@Valid</code>. Therefore the validation of a
      <code class="classname">Car</code> will fail if the <span class="property">name</span>
      field of the referenced <code class="classname">Person</code> instance is
      <code class="code">null</code>.</p><p>Object graph validation also works for collection-typed fields.
      That means any attributes that</p><div class="itemizedlist"><ul><li><p>are arrays</p></li><li><p>implement <code class="classname">java.lang.Iterable</code>
          (especially <code class="classname">Collection</code>,
          <code class="classname">List</code> and <code class="classname">Set</code>)</p></li><li><p>implement <code class="classname">java.util.Map</code></p></li></ul></div><p>can be annotated with <code class="classname">@Valid</code>, which will
      cause each contained element to be validated, when the parent object is
      validated.</p><div class="example"><a id="d0e513"/><p class="title"><b>Example 2.7. Car with a list of passengers</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">util</span><span class="java_separator">.</span><span class="java_type">ArrayList</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">util</span><span class="java_separator">.</span><span class="java_type">List</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">Valid</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">NotNull</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Valid</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">Person</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;passengers&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">ArrayList</span><span class="java_operator">&lt;</span><span class="java_type">Person</span><span class="java_operator">&gt;</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">Person</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;passengers</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">passengers&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;passengers</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">getters&nbsp;and&nbsp;setters&nbsp;</span><span class="java_separator">...</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>If a <code class="classname">Car</code> instance is validated, a
      <code class="classname">ConstraintValidation</code> will be created, if any of
      the <code class="classname">Person</code> objects contained in the
      <span class="property">passengers</span> list has a <code class="code">null</code> name.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p><code class="classname">null</code> values are getting ignored when
          validating object graphs.</p></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-usingvalidator-validate"/>2.2. Validating constraints</h2></div></div></div><p>The <code class="classname">Validator</code> interface is the main entry
    point to Bean Validation. In <a class="xref" href="#section-validator-instance" title="5.1. Configuration and ValidatorFactory">Section 5.1, “Configuration and
    ValidatorFactory”</a>
    we will first show how to obtain an <code class="classname">Validator</code>
    instance. Afterwards we will learn how to use the different methods of the
    <code class="classname">Validator</code> interface.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="section-obtaining-validator"/>2.2.1. Obtaining a <code class="classname">Validator</code> instance</h3></div></div></div><p>The first step towards validating an entity instance is to get
      hold of a <code class="classname">Validator</code> instance. The road to this
      instance leads via the <code class="classname">Validation</code> class and a
      <code class="classname">ValidatorFactory</code>. The easiest way is to use the
      static
      <code class="methodname">Validation.buildDefaultValidatorFactory()</code>
      method:</p><div class="example"><a id="d0e576"/><p class="title"><b>Example 2.8. Validation.buildDefaultValidatorFactory()</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">ValidatorFactory</span><!-- <br/> --><span class="java_plain">&nbsp;factory&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">buildDefaultValidatorFactory</span><!-- <br/> --><span class="java_separator">();</span>
<!--  --><br/><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span></pre></div></div><br class="example-break"/><p>For other ways of obtaining a Validator instance see <a class="xref" href="#validator-bootstrapping" title="Chapter 5. Bootstrapping">Chapter 5, <i>Bootstrapping</i></a>. For now we just want to see how we
      can use the <code class="classname">Validator</code> instance to validate entity
      instances.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e588"/>2.2.2. Validator methods</h3></div></div></div><p>The <code class="classname">Validator</code> interface contains three
      methods that can be used to either validate entire entities or just a
      single properties of the entity.</p><p>All three methods return a
      <code class="classname">Set&lt;ConstraintViolation&gt;</code>. The set is empty,
      if the validation succeeds. Otherwise a
      <code class="classname">ConstraintViolation</code> instance is added for each
      violated constraint.</p><p>All the validation methods have a var-args parameter which can be
      used to specify, which validation groups shall be considered when
      performing the validation. If the parameter is not specified the default
      validation group
      (<code class="classname">javax.validation.groups.Default</code>) will be used.
      We will go into more detail on the topic of validation groups in <a class="xref" href="#validator-usingvalidator-validationgroups" title="2.3. Validating groups">Section 2.3, “Validating groups”</a></p><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="d0e610"/>2.2.2.1. <code class="methodname">validate</code></h4></div></div></div><p>Use the <code class="methodname">validate()</code> method to perform
        validation of all constraints of a given entity instance (see <a class="xref" href="#example-validator-validate" title="Example 2.9. Usage of Validator.validate()">Example 2.9, “Usage of
          Validator.validate()”</a> ).</p><div class="example"><a id="example-validator-validate"/><p class="title"><b>Example 2.9. Usage of
          <code class="methodname">Validator.validate()</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">ValidatorFactory</span><!-- <br/> --><span class="java_plain">&nbsp;factory&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">buildDefaultValidatorFactory</span><!-- <br/> --><span class="java_separator">();</span>
<!--  --><br/><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_type">Car</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_literal">null</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">ConstraintViolation</span><span class="java_operator">&lt;</span><span class="java_type">Car</span><span class="java_operator">&gt;&gt;</span><span class="java_plain">&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">car</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_literal">&quot;may&nbsp;not&nbsp;be&nbsp;null&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">().</span><span class="java_plain">getMessage</span><span class="java_separator">());</span></pre></div></div><br class="example-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="d0e628"/>2.2.2.2. <code class="methodname">validateProperty</code></h4></div></div></div><p>With help of the <code class="methodname">validateProperty()</code> a
        single named property of a given object can be validated. The property
        name is the JavaBeans property name.</p><div class="example"><a id="d0e637"/><p class="title"><b>Example 2.10. Usage of
          <code class="methodname">Validator.validateProperty()</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">Validator</span><!-- <br/> --><span class="java_plain">&nbsp;validator&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">buildDefaultValidatorFactory</span><!-- <br/> --><span class="java_separator">().</span><!-- <br/> --><span class="java_plain">getValidator</span><!-- <br/> --><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_type">Car</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_literal">null</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">ConstraintViolation</span><span class="java_operator">&lt;</span><span class="java_type">Car</span><span class="java_operator">&gt;&gt;</span><span class="java_plain">&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validateProperty</span><span class="java_separator">(</span><span class="java_plain">car</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;manufacturer&quot;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_literal">&quot;may&nbsp;not&nbsp;be&nbsp;null&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">().</span><span class="java_plain">getMessage</span><span class="java_separator">());</span></pre></div></div><br class="example-break"/><p><code class="methodname">Validator.validateProperty</code> is for
        example used in the integration of Bean Validation into JSF 2 (see
        <a class="xref" href="#section-presentation-layer" title="7.4. Presentation layer validation">Section 7.4, “Presentation layer validation”</a>).</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="d0e650"/>2.2.2.3. <code class="methodname">validateValue</code></h4></div></div></div><p>Using the <code class="methodname">validateValue() </code>method you
        can check, whether a single property of a given class can be validated
        successfully, if the property had the specified value:</p><div class="example"><a id="d0e659"/><p class="title"><b>Example 2.11. Usage of
          <code class="methodname">Validator.validateValue()</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">Validator</span><!-- <br/> --><span class="java_plain">&nbsp;validator&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">buildDefaultValidatorFactory</span><!-- <br/> --><span class="java_separator">().</span><!-- <br/> --><span class="java_plain">getValidator</span><!-- <br/> --><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">ConstraintViolation</span><span class="java_operator">&lt;</span><span class="java_type">Car</span><span class="java_operator">&gt;&gt;</span><span class="java_plain">&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validateValue</span><span class="java_separator">(</span><span class="java_type">Car</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;manufacturer&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">null</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">assertEquals</span><span class="java_separator">(</span><span class="java_literal">&quot;may&nbsp;not&nbsp;be&nbsp;null&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">().</span><span class="java_plain">getMessage</span><span class="java_separator">());</span></pre></div></div><br class="example-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p><code class="classname">@Valid</code> is not honored by
          <code class="methodname">validateProperty()</code> or
          <code class="methodname">validateValue()</code>.</p></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e677"/>2.2.3. <code class="classname">ConstraintViolation</code> methods</h3></div></div></div><p>Now it is time to have a closer look at what a
      <code class="classname">ConstraintViolation</code>. Using the different methods
      of <code class="classname">ConstraintViolation</code> a lot of useful
      information about the cause of the validation failure can be determined.
      <a class="xref" href="#table-constraint-violation" title="Table 2.1. The various ConstraintViolation methods">Table 2.1, “The various ConstraintViolation
        methods”</a> gives an overview of these
      methods:</p><div class="table"><a id="table-constraint-violation"/><p class="title"><b>Table 2.1. The various <code class="classname">ConstraintViolation</code>
        methods</b></p><div class="table-contents"><table summary="The various ConstraintViolation&#xA;        methods" border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th>Method</th><th>Usage</th><th>Example (referring to <a class="xref" href="#example-validator-validate" title="Example 2.9. Usage of Validator.validate()">Example 2.9, “Usage of
          Validator.validate()”</a>)</th></tr></thead><tbody><tr><td><code class="methodname">getMessage()</code></td><td>The interpolated error message.</td><td>may not be null</td></tr><tr><td><code class="methodname">getMessageTemplate()</code></td><td>The non-interpolated error message.</td><td>{javax.validation.constraints.NotNull.message}</td></tr><tr><td><code class="methodname">getRootBean()</code></td><td>The root bean being validated.</td><td>car</td></tr><tr><td><code class="methodname">getRootBeanClass()</code></td><td>The class of the root bean being validated.</td><td>Car.class</td></tr><tr><td><code class="methodname">getLeafBean()</code></td><td>If a bean constraint, the bean instance the constraint is
              applied on. If a property constraint, the bean instance hosting
              the property the constraint is applied on.</td><td>car</td></tr><tr><td><code class="methodname">getPropertyPath()</code></td><td>The property path to the value from root bean.</td><td> </td></tr><tr><td><code class="methodname">getInvalidValue()</code></td><td>The value failing to pass the constraint.</td><td>passengers</td></tr><tr><td><code class="methodname">getConstraintDescriptor()</code></td><td>Constraint metadata reported to fail.</td><td> </td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="section-message-interpolation"/>2.2.4. Message interpolation</h3></div></div></div><p>As we will see in <a class="xref" href="#validator-customconstraints" title="Chapter 3. Creating custom constraints">Chapter 3, <i>Creating custom constraints</i></a>
      each constraint definition must define a default message descriptor.
      This message can be overridden at declaration time using the
      <code class="methodname">message</code> attribute of the constraint. You can
      see this in <a class="xref" href="#example-driver" title="Example 2.13. Driver">Example 2.13, “Driver”</a>. This message descriptors
      get interpolated when a constraint validation fails using the configured
      <code class="classname">MessageInterpolator</code>. The interpolator will try to
      resolve any message parameters, meaning string literals enclosed in
      braces. In order to resolve these parameters Hibernate Validator's
      default <code class="classname">MessageInterpolator</code> first recursively
      resolves parameters against a custom
      <code class="classname">ResourceBundle</code> called
      <code class="filename">ValidationMessages.properties</code> at the root of the
      classpath (It is up to you to create this file). If no further
      replacements are possible against the custom bundle the default
      <code class="classname">ResourceBundle</code> under
      <code class="filename">/org/hibernate/validator/ValidationMessages.properties</code>
      gets evaluated. If a replacement occurs against the default bundle the
      algorithm looks again at the custom bundle (and so on). Once no further
      replacements against these two resource bundles are possible remaining
      parameters are getting resolved against the attributes of the constraint
      to be validated.</p><p>Since the braces { and } have special meaning in the messages they
      need to be escaped if they are used literally. The following The
      following rules apply:</p><div class="itemizedlist"><ul><li><p>\{ is considered as the literal {</p></li><li><p>\} is considered as the literal }</p></li><li><p>\\ is considered as the literal \</p></li></ul></div><p>If the default message interpolator does not fit your requirements
      it is possible to plug a custom
      <code class="classname">MessageInterpolator</code> when the
      <code class="classname">ValidatorFactory</code> gets created. This can be seen
      in <a class="xref" href="#validator-bootstrapping" title="Chapter 5. Bootstrapping">Chapter 5, <i>Bootstrapping</i></a>.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-usingvalidator-validationgroups"/>2.3. Validating groups</h2></div></div></div><p>Groups allow you to restrict the set of constraints applied during
    validation. This makes for example wizard like validation possible where
    in each step only a specified subset of constraints get validated. The
    groups targeted are passed as var-args parameters to
    <code class="methodname">validate</code>,
    <code class="methodname">validateProperty</code> and
    <code class="methodname">validateValue</code>. Let's have a look at an extended
    <code class="classname">Car</code> with <code class="classname">Driver</code> example.
    First we have the class <code class="classname">Person</code> (<a class="xref" href="#example-person" title="Example 2.12. Person">Example 2.12, “Person”</a>) which has a <code class="classname">@NotNull
    </code>constraint on <span class="property">name</span>. Since no group is
    specified for this annotation its default group is
    <code class="classname">javax.validation.groups.Default</code>.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>When more than one group is requested, the order in which the
      groups are evaluated is not deterministic. If no group is specified the
      default group <code class="classname">javax.validation.groups.Default</code> is
      assumed.</p></div><div class="example"><a id="example-person"/><p class="title"><b>Example 2.12. Person</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">public</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Person</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;name</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Person</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;name</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">name&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;name</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;getters&nbsp;and&nbsp;setters&nbsp;</span><span class="java_separator">...</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>Next we have the class <code class="classname">Driver</code> (<a class="xref" href="#example-driver" title="Example 2.13. Driver">Example 2.13, “Driver”</a>) extending <code class="classname">Person</code>. Here
    we are adding the properties <span class="property">age</span> and
    <span class="property">hasDrivingLicense</span>. In order to drive you must be at
    least 18 (<code class="classname">@Min(18)</code>) and you must have a driving
    license (<code class="classname">@AssertTrue</code>). Both constraints defined on
    these properties belong to the group <code class="classname">DriverChecks</code>.
    As you can see in <a class="xref" href="#example-group-interfaces" title="Example 2.14. Group interfaces">Example 2.14, “Group interfaces”</a> the group
    <code class="classname">DriverChecks</code> is just a simple tagging interface.
    Using interfaces makes the usage of groups type safe and allows for easy
    refactoring. It also means that groups can inherit from each other via
    class inheritance.</p><div class="example"><a id="example-driver"/><p class="title"><b>Example 2.13. Driver</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">public</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Driver</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">extends</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Person</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Min</span><span class="java_separator">(</span><span class="java_plain">value&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">18</span><span class="java_separator">,</span><span class="java_plain">&nbsp;message&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;You&nbsp;have&nbsp;to&nbsp;be&nbsp;18&nbsp;to&nbsp;drive&nbsp;a&nbsp;car&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;groups&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">DriverChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;age</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">AssertTrue</span><span class="java_separator">(</span><span class="java_plain">message&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;You&nbsp;first&nbsp;have&nbsp;to&nbsp;pass&nbsp;the&nbsp;driving&nbsp;test&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;groups&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">DriverChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;hasDrivingLicense</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Driver</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;name</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">super</span><span class="java_separator">(</span><span class="java_plain">&nbsp;name&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;passedDrivingTest</span><span class="java_separator">(</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;b</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hasDrivingLicense&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;b</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;getAge</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;age</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setAge</span><span class="java_separator">(</span><span class="java_type">int</span><span class="java_plain">&nbsp;age</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">age&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;age</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><div class="example"><a id="example-group-interfaces"/><p class="title"><b>Example 2.14. Group interfaces</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">public</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">interface</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">DriverChecks</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">{</span>
<!--  --><br/><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">CarChecks</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>Last but not least we add the property
    <span class="property">passedVehicleInspection</span> to the
    <code class="classname">Car</code> class (<a class="xref" href="#example-car" title="Example 2.15. Car">Example 2.15, “Car”</a>)
    indicating whether a car passed the road worthy tests.</p><div class="example"><a id="example-car"/><p class="title"><b>Example 2.15. Car</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">public</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Car</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Size</span><span class="java_separator">(</span><span class="java_plain">min&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span><span class="java_plain">&nbsp;max&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">14</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licensePlate</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Min</span><span class="java_separator">(</span><span class="java_literal">2</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">AssertTrue</span><span class="java_separator">(</span><span class="java_plain">message&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;The&nbsp;car&nbsp;has&nbsp;to&nbsp;pass&nbsp;the&nbsp;vehicle&nbsp;inspection&nbsp;first&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;groups&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">CarChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;passedVehicleInspection</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Valid</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">Driver</span><span class="java_plain">&nbsp;driver</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">manufacturer&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">licensePlate&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">seatCount&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>Overall three different groups are used in our example.
    <span class="property">Person.name</span>, <span class="property">Car.manufacturer</span>,
    <span class="property">Car.licensePlate</span> and
    <span class="property">Car.seatCount</span> all belong to the
    <code class="classname">Default</code> group. <span class="property">Driver.age</span> and
    <span class="property">Driver.hasDrivingLicense</span> belong to
    <code class="classname">DriverChecks</code> and last but not least
    <span class="property">Car.passedVehicleInspection</span> belongs to the group
    <code class="classname">CarChecks</code>. <a class="xref" href="#example-drive-away" title="Example 2.16. Drive away">Example 2.16, “Drive away”</a>
    shows how passing different group combinations to the
    <code class="methodname">Validator.validate</code> method result in different
    validation results.</p><div class="example"><a id="example-drive-away"/><p class="title"><b>Example 2.16. Drive away</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">public</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">GroupTest</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">BeforeClass</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setUp</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">ValidatorFactory</span><span class="java_plain">&nbsp;factory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">Validation</span><span class="java_separator">.</span><span class="java_plain">buildDefaultValidatorFactory</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Test</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;driveAway</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;create&nbsp;a&nbsp;car&nbsp;and&nbsp;check&nbsp;that&nbsp;everything&nbsp;is&nbsp;ok&nbsp;with&nbsp;it</span><span class="java_separator">.</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Morris&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;DD-AB-123&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">ConstraintViolation</span><span class="java_operator">&lt;</span><span class="java_type">Car</span><span class="java_operator">&gt;&gt;</span><span class="java_plain">&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">0</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;but&nbsp;has&nbsp;it&nbsp;passed&nbsp;the&nbsp;vehicle&nbsp;inspection</span><span class="java_operator">?</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">CarChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_literal">&quot;The&nbsp;car&nbsp;has&nbsp;to&nbsp;pass&nbsp;the&nbsp;vehicle&nbsp;inspection&nbsp;first&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">().</span><span class="java_plain">getMessage</span><span class="java_separator">());</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;let's&nbsp;go&nbsp;to&nbsp;the&nbsp;vehicle&nbsp;inspection</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;car</span><span class="java_separator">.</span><span class="java_plain">setPassedVehicleInspection</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">0</span><span class="java_separator">,</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_separator">).</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;now&nbsp;let's&nbsp;add&nbsp;a&nbsp;driver</span><span class="java_separator">.</span><span class="java_plain">&nbsp;</span><span class="java_type">He</span><span class="java_plain">&nbsp;is&nbsp;</span><span class="java_literal">18</span><span class="java_separator">,</span><span class="java_plain">&nbsp;but&nbsp;has&nbsp;not&nbsp;passed&nbsp;the&nbsp;driving&nbsp;test&nbsp;yet</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Driver</span><span class="java_plain">&nbsp;john&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Driver</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;John&nbsp;Doe&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;john</span><span class="java_separator">.</span><span class="java_plain">setAge</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">18</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;car</span><span class="java_separator">.</span><span class="java_plain">setDriver</span><span class="java_separator">(</span><span class="java_plain">&nbsp;john&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">DriverChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;You&nbsp;first&nbsp;have&nbsp;to&nbsp;pass&nbsp;the&nbsp;driving&nbsp;test&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">().</span><span class="java_plain">getMessage</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;ok</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">John</span><span class="java_plain">&nbsp;passes&nbsp;the&nbsp;test</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;john</span><span class="java_separator">.</span><span class="java_plain">passedDrivingTest</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">0</span><span class="java_separator">,</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">DriverChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">).</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;just&nbsp;checking&nbsp;that&nbsp;everything&nbsp;is&nbsp;in&nbsp;order&nbsp;now</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">0</span><span class="java_separator">,</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">Default</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">CarChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">DriverChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">).</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>First we create a car and validate it using no explicit group. There
    are no validation errors, even though the property
    <span class="property">passedVehicleInspection</span> is per default
    <code class="constant">false</code>. However, the constraint defined on this
    property does not belong to the default group. Next we just validate the
    <code class="classname">CarChecks</code> group which will fail until we make sure
    that the car passes the vehicle inspection. When we then add a driver to
    the car and validate against <code class="classname">DriverChecks</code> we get
    again a constraint violation due to the fact that the driver has not yet
    passed the driving test. Only after setting
    <span class="property">passedDrivingTest</span> to true the validation against
    <code class="classname">DriverChecks</code> will pass.</p><p>Last but not least, we show that all constraints are passing by
    validating against all defined groups.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e988"/>2.3.1. Group sequences</h3></div></div></div><p>By default, constraints are evaluated in no particular order,
      regardless of which groups they belong to. In some situations, however,
      it is useful to control the order constraints are evaluated. In our
      example from <a class="xref" href="#validator-usingvalidator-validationgroups" title="2.3. Validating groups">Section 2.3, “Validating groups”</a>
      we could for example require that first all default car constraints are
      passing before we check the road worthiness of the car. Finally before
      we drive away we check the actual driver constraints. In order to
      implement such an order one would define a new interface and annotate it
      with <code class="classname">@GroupSequence</code> defining the order in which
      the groups have to be validated.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>If at least one constraint fails in a sequenced group none of
        the constraints of the following groups in the sequence get
        validated.</p></div><div class="example"><a id="example-orderedChecks"/><p class="title"><b>Example 2.17. Interface with @GroupSequence</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_plain">@</span><!-- <br/> --><span class="java_type">GroupSequence</span><!-- <br/> --><span class="java_separator">({</span><!-- <br/> --><span class="java_type">Default</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_separator">,</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">CarChecks</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_separator">,</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">DriverChecks</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_separator">})</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">OrderedChecks</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning"><h2>Warning</h2><p>Groups defining a sequence and groups composing a sequence
          must not be involved in a cyclic dependency either directly or
          indirectly, either through cascaded sequence definition or group
          inheritance. If a group containing such a circularity is evaluated,
          a <code class="classname">GroupDefinitionException</code> is raised.</p></div><p>The usage of the new sequence could then look like in <a class="xref" href="#example-group-sequence" title="Example 2.18. Usage of a group sequence">Example 2.18, “Usage of a group sequence”</a>.</p><div class="example"><a id="example-group-sequence"/><p class="title"><b>Example 2.18. Usage of a group sequence</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_plain">@</span><!-- <br/> --><span class="java_type">Test</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;testOrderedChecks</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Morris&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;DD-AB-123&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;car</span><span class="java_separator">.</span><span class="java_plain">setPassedVehicleInspection</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Driver</span><span class="java_plain">&nbsp;john&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Driver</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;John&nbsp;Doe&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;john</span><span class="java_separator">.</span><span class="java_plain">setAge</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">18</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;john</span><span class="java_separator">.</span><span class="java_plain">passedDrivingTest</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;car</span><span class="java_separator">.</span><span class="java_plain">setDriver</span><span class="java_separator">(</span><span class="java_plain">&nbsp;john&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">0</span><span class="java_separator">,</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">OrderedChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">).</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="section-default-group-class"/>2.3.2. Redefining the default group sequence of a class</h3></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="d0e1024"/>2.3.2.1. @GroupSequence</h4></div></div></div><p>The <code class="classname">@GroupSequence</code> annotation also
        fulfills a second purpose. It allows you to redefine what the
        <code class="constant">Default</code> group means for a given class. To
        redefine <code class="classname">Default</code> for a given class, add a
        <code class="classname">@GroupSequence</code> annotation to the class. The
        defined groups in the annotation express the sequence of groups that
        substitute <code class="classname">Default</code> for this class. <a class="xref" href="#example-rental-car" title="Example 2.19. RentalCar with @GroupSequence">Example 2.19, “RentalCar with @GroupSequence”</a> introduces a new class
        <code class="classname">RentalCar</code> with a redefined default group. With
        this definition you can evaluate the constraints belonging to
        <code class="classname">RentalChecks</code>, <code class="classname">CarChecks</code>
        and <code class="classname">RentalCar</code> by just requesting the
        <code class="classname">Default</code> group as seen in <a class="xref" href="#example-testCarIsRented" title="Example 2.20. RentalCar with redefined default group">Example 2.20, “RentalCar with redefined default group”</a>.</p><div class="example"><a id="example-rental-car"/><p class="title"><b>Example 2.19. RentalCar with @GroupSequence</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_plain">@</span><!-- <br/> --><span class="java_type">GroupSequence</span><!-- <br/> --><span class="java_separator">({</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">RentalChecks</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_separator">,</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">CarChecks</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_separator">,</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">RentalCar</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">})</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">RentalCar</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">AssertFalse</span><span class="java_separator">(</span><span class="java_plain">message&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;The&nbsp;car&nbsp;is&nbsp;currently&nbsp;rented&nbsp;out&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;groups&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">RentalChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;rented</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">RentalCar</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">super</span><span class="java_separator">(</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">,</span><span class="java_plain">&nbsp;seatCount&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isRented</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;rented</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setRented</span><span class="java_separator">(</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;rented</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">rented&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;rented</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><div class="example"><a id="example-testCarIsRented"/><p class="title"><b>Example 2.20. RentalCar with redefined default group</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_javadoc_comment">/**</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;*&nbsp;Validating&nbsp;the&nbsp;default&nbsp;group&nbsp;leads&nbsp;to&nbsp;validation&nbsp;on&nbsp;the&nbsp;default&nbsp;group&nbsp;sequence&nbsp;of&nbsp;{</span><span class="java_javadoc_tag">@code</span><span class="java_javadoc_comment">&nbsp;RentalCar}.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;*/</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Test</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;carIsRented</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">RentalCar</span><span class="java_plain">&nbsp;rentalCar&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">RentalCar</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;Morris&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;DD-AB-123&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;rentalCar</span><span class="java_separator">.</span><span class="java_plain">setPassedVehicleInspection</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;rentalCar</span><span class="java_separator">.</span><span class="java_plain">setRented</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">ConstraintViolation</span><span class="java_operator">&lt;</span><span class="java_type">RentalCar</span><span class="java_operator">&gt;&gt;</span><span class="java_plain">&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;rentalCar&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;Wrong&nbsp;message&quot;</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;The&nbsp;car&nbsp;is&nbsp;currently&nbsp;rented&nbsp;out&quot;</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">().</span><span class="java_plain">getMessage</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;rentalCar</span><span class="java_separator">.</span><span class="java_plain">setRented</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">false</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;rentalCar&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">0</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>Due to the fact that there cannot be a cyclic dependency in
          the group and group sequence definitions one cannot just add
          <code class="classname">Default</code> to the sequence redefining
          <code class="classname">Default</code> for a class. Instead the class itself
          has to be added!</p></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>The <code class="classname">Default</code> group sequence overriding
          is local to the class it is defined on and is not propagated to the
          associated objects. This means in particular that adding
          <code class="classname">DriverChecks</code> to the default group sequence of
          <code class="classname">RentalCar</code> would not have any effects. Only
          the group <code class="classname">Default</code> will be propagated to the
          driver association when validation a rental car instance.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="d0e1097"/>2.3.2.2. @GroupSequenceProvider</h4></div></div></div><p>The <code class="classname">@javax.validation.GroupSequence</code>
        annotation is a standardized Bean Validation annotation. As seen in
        the previous section it allows you to statically redefine the default
        group sequence for a class. Hibernate Validator also offers a custom,
        non standardized annotation -
        <code class="classname">org.hibernate.validator.group.GroupSequenceProvider
        </code>- which allows for dynamic redefinition of the default
        group sequence. Using the rental car scenario again, one could
        dynamically add the <code class="classname">CarChecks</code> as seen in <a class="xref" href="#example-rental-car-group-sequence-provider" title="Example 2.21. RentalCar with @GroupSequenceProvider">Example 2.21, “RentalCar with @GroupSequenceProvider”</a> and <a class="xref" href="#example-group-sequence-provider-implementation" title="Example . DefaultGroupSequenceProvider implementation">Example , “DefaultGroupSequenceProvider implementation”</a>.</p><div class="example"><a id="example-rental-car-group-sequence-provider"/><p class="title"><b>Example 2.21. RentalCar with @GroupSequenceProvider</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_plain">@</span><!-- <br/> --><span class="java_type">GroupSequenceProvider</span><!-- <br/> --><span class="java_separator">(</span><!-- <br/> --><span class="java_type">RentalCarGroupSequenceProvider</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_separator">)</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">RentalCar</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">AssertFalse</span><span class="java_separator">(</span><span class="java_plain">message&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;The&nbsp;car&nbsp;is&nbsp;currently&nbsp;rented&nbsp;out&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;groups&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">RentalChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;rented</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">RentalCar</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">super</span><span class="java_separator">(</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">,</span><span class="java_plain">&nbsp;seatCount&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isRented</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;rented</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setRented</span><span class="java_separator">(</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;rented</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">rented&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;rented</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><div class="example"><a id="example-group-sequence-provider-implementation"/><p class="title"><b>Example . DefaultGroupSequenceProvider implementation</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">public</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">RentalCarGroupSequenceProvider</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">implements</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">DefaultGroupSequenceProvider</span><!-- <br/> --><span class="java_operator">&lt;</span><!-- <br/> --><span class="java_type">RentalCar</span><!-- <br/> --><span class="java_operator">&gt;</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">Class</span><span class="java_operator">&lt;?&gt;&gt;</span><span class="java_plain">&nbsp;getValidationGroups</span><span class="java_separator">(</span><span class="java_type">RentalCar</span><span class="java_plain">&nbsp;car</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">Class</span><span class="java_operator">&lt;?&gt;&gt;</span><span class="java_plain">&nbsp;defaultGroupSequence&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">ArrayList</span><span class="java_operator">&lt;</span><span class="java_type">Class</span><span class="java_operator">&lt;?&gt;&gt;</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultGroupSequence</span><span class="java_separator">.</span><span class="java_plain">add</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">RentalCar</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_operator">!=</span><span class="java_plain">&nbsp;</span><span class="java_literal">null</span><span class="java_plain">&nbsp;</span><span class="java_operator">&amp;&amp;</span><span class="java_plain">&nbsp;</span><span class="java_operator">!</span><span class="java_plain">car</span><span class="java_separator">.</span><span class="java_plain">isRented</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultGroupSequence</span><span class="java_separator">.</span><span class="java_plain">add</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">CarChecks</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;defaultGroupSequence</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-defineconstraints-builtin"/>2.4. Built-in constraints</h2></div></div></div><p>Hibernate Validator comprises a basic set of commonly used
    constraints. These are foremost the constraints defined by the Bean
    Validation specification (see <a class="xref" href="#table-spec-constraints" title="Table 2.2. Bean Validation constraints">Table 2.2, “Bean Validation constraints”</a>).
    Additionally, Hibernate Validator provides useful custom constraints (see
    <a class="xref" href="#table-custom-constraints" title="Table 2.3. Custom constraints">Table 2.3, “Custom constraints”</a> and <a class="xref" href="#table-custom-country-constraints" title="Table 2.4. Custom country specific constraints">Table 2.4, “Custom country specific constraints”</a>).</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-defineconstraints-spec"/>2.4.1. Bean Validation constraints</h3></div></div></div><p><a class="xref" href="#table-spec-constraints" title="Table 2.2. Bean Validation constraints">Table 2.2, “Bean Validation constraints”</a> shows purpose and
      supported data types of all constraints specified in the Bean Validation
      API. All these constraints apply to the field/property level, there are
      no class-level constraints defined in the Bean Validation specification.
      If you are using the Hibernate object-relational mapper, some of the
      constraints are taken into account when creating the DDL for your model
      (see column "Hibernate metadata impact").</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>Hibernate Validator allows some constraints to be applied to
        more data types than required by the Bean Validation specification
        (e.g. @Max can be applied to <code class="classname">Strings</code>). Relying
        on this feature can impact portability of your application between
        Bean Validation providers.</p></div><div class="table"><a id="table-spec-constraints"/><p class="title"><b>Table 2.2. Bean Validation constraints</b></p><div class="table-contents"><table summary="Bean Validation constraints" border="1"><colgroup><col align="left"/><col align="left"/><col align="left"/><col align="left"/></colgroup><thead><tr><th align="left">Annotation</th><th align="left">Supported data types</th><th align="left">Use</th><th align="left">Hibernate metadata impact</th></tr></thead><tbody valign="top"><tr><td align="left" valign="top">@AssertFalse</td><td align="left" valign="top"><code class="classname">Boolean</code>,
              <code class="classname">boolean</code></td><td align="left" valign="top">Checks that the annotated element is
              <code class="constant">false</code>.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@AssertTrue</td><td align="left" valign="top"><code class="classname">Boolean</code>,
              <code class="classname">boolean</code></td><td align="left" valign="top">Checks that the annotated element is
              <code class="constant">true</code>.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@DecimalMax</td><td align="left" valign="top"><code class="classname">BigDecimal</code>,
              <code class="classname">BigInteger</code>,
              <code class="classname">String</code>, <code class="classname">byte</code>,
              <code class="classname">short</code>, <code class="classname">int</code>,
              <code class="classname">long</code> and the respective wrappers of the
              primitive types. Additionally supported by HV: any sub-type of
              <code class="classname">Number</code> and
              <code class="classname">CharSequence</code>.</td><td align="left" valign="top">The annotated element must be a number whose value must
              be lower or equal to the specified maximum. The parameter value
              is the string representation of the max value according to the
              <code class="classname">BigDecimal</code> string representation.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@DecimalMin</td><td align="left" valign="top"><code class="classname">BigDecimal</code>,
              <code class="classname">BigInteger</code>,
              <code class="classname">String</code>, <code class="classname">byte</code>,
              <code class="classname">short</code>, <code class="classname">int</code>,
              <code class="classname">long</code> and the respective wrappers of the
              primitive types. Additionally supported by HV: any sub-type of
              <code class="classname">Number </code>and
              <code class="classname">CharSequence</code>.</td><td align="left" valign="top">The annotated element must be a number whose value must
              be higher or equal to the specified minimum. The parameter value
              is the string representation of the min value according to the
              <code class="classname">BigDecimal</code> string representation.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@Digits(integer=, fraction=)</td><td align="left" valign="top"><code class="classname">BigDecimal</code>,
              <code class="classname">BigInteger</code>,
              <code class="classname">String</code>, <code class="classname">byte</code>,
              <code class="classname">short</code>, <code class="classname">int</code>,
              <code class="classname">long</code> and the respective wrappers of the
              primitive types. Additionally supported by HV: any sub-type of
              <code class="classname">Number</code> and
              <code class="classname">CharSequence</code>.</td><td align="left" valign="top">Checks whether the annoted value is a number having up to
              <code class="literal">integer</code> digits and
              <code class="literal">fraction</code> fractional digits.</td><td align="left" valign="top">Define column precision and scale.</td></tr><tr><td align="left" valign="top">@Future</td><td align="left" valign="top"><code class="classname">java.util.Date</code>,
              <code class="classname">java.util.Calendar</code>; Additionally
              supported by HV, if the <a class="ulink" href="http://joda-time.sourceforge.net/">Joda Time</a>
              date/time API is on the class path: any implementations of
              <code class="classname">ReadablePartial</code> and
              <code class="classname">ReadableInstant</code>.</td><td align="left" valign="top">Checks whether the annotated date is in the
              future.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@Max</td><td align="left" valign="top"><code class="classname">BigDecimal</code>,
              <code class="classname">BigInteger</code>, <code class="classname">byte</code>,
              <code class="classname">short</code>, <code class="classname">int</code>,
              <code class="classname">long</code> and the respective wrappers of the
              primitive types. Additionally supported by HV: any sub-type
              of<code class="classname">CharSequence</code> (the numeric value
              represented by the character sequence is evaluated), any
              sub-type of <code class="classname">Number</code>.</td><td align="left" valign="top">Checks whether the annotated value is less than or equal
              to the specified maximum.</td><td align="left" valign="top">Add a check constraint on the column.</td></tr><tr><td align="left" valign="top">@Min</td><td align="left" valign="top"><code class="classname">BigDecimal</code>,
              <code class="classname">BigInteger</code>, <code class="classname">byte</code>,
              <code class="classname">short</code>, <code class="classname">int</code>,
              <code class="classname">long</code> and the respective wrappers of the
              primitive types. Additionally supported by HV: any sub-type of
              <code class="classname">CharSequence</code> (the numeric value
              represented by the char sequence is evaluated), any sub-type of
              <code class="classname">Number</code>.</td><td align="left" valign="top">Checks whether the annotated value is higher than or
              equal to the specified minimum.</td><td align="left" valign="top">Add a check constraint on the column.</td></tr><tr><td align="left" valign="top">@NotNull</td><td align="left" valign="top">Any type</td><td align="left" valign="top">Checks that the annotated value is not
              <code class="constant">null.</code></td><td align="left" valign="top">Column(s) are not null.</td></tr><tr><td align="left" valign="top">@Null</td><td align="left" valign="top">Any type</td><td align="left" valign="top">Checks that the annotated value is
              <code class="constant">null.</code></td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@Past</td><td align="left" valign="top"><code class="classname">java.util.Date</code>,
              <code class="classname">java.util.Calendar</code>; Additionally
              supported by HV, if the <a class="ulink" href="http://joda-time.sourceforge.net/">Joda Time</a>
              date/time API is on the class path: any implementations of
              <code class="classname">ReadablePartial</code> and
              <code class="classname">ReadableInstant</code>.</td><td align="left" valign="top">Checks whether the annotated date is in the past.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@Pattern(regex=, flag=)</td><td align="left" valign="top"><code class="classname">String</code>. Additionally supported by
              HV: any sub-type of <code class="classname">CharSequence</code>.</td><td align="left" valign="top">Checks if the annotated string matches the regular
              expression <em class="parameter"><code>regex</code></em> considering the given
              flag <em class="parameter"><code>match</code></em>.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@Size(min=, max=)</td><td align="left" valign="top"><code class="classname">String</code>,
              <code class="classname">Collection</code>, <code class="classname">Map</code>
              and <code class="classname">arrays</code>. Additionally supported by HV:
              any sub-type of <code class="classname">CharSequence</code>.</td><td align="left" valign="top">Checks if the annotated element's size is between min and
              max (inclusive).</td><td align="left" valign="top">Column length will be set to max.</td></tr><tr><td align="left" valign="top">@Valid</td><td align="left" valign="top">Any non-primitive type</td><td align="left" valign="top">Performs validation recursively on the associated object.
              If the object is a collection or an array, the elements are
              validated recursively. If the object is a map, the value
              elements are validated recursively.</td><td align="left" valign="top">none</td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>On top of the parameters indicated in <a class="xref" href="#table-spec-constraints" title="Table 2.2. Bean Validation constraints">Table 2.2, “Bean Validation constraints”</a> each constraint supports the
        parameters <em class="parameter"><code>message</code></em>,
        <em class="parameter"><code>groups</code></em> and <em class="parameter"><code>payload</code></em>. This
        is a requirement of the Bean Validation specification.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-defineconstraints-hv-constraints"/>2.4.2. Additional constraints</h3></div></div></div><p>In addition to the constraints defined by the Bean Validation API
      Hibernate Validator provides several useful custom constraints which are
      listed in <a class="xref" href="#table-custom-constraints" title="Table 2.3. Custom constraints">Table 2.3, “Custom constraints”</a>. With one exception
      also these constraints apply to the field/property level, only
      @ScriptAssert is a class-level constraint.</p><div class="table"><a id="table-custom-constraints"/><p class="title"><b>Table 2.3. Custom constraints</b></p><div class="table-contents"><table summary="Custom constraints" border="1"><colgroup><col align="left"/><col align="left"/><col align="left"/><col align="left"/></colgroup><thead><tr><th align="left">Annotation</th><th align="left">Supported data types</th><th align="left">Use</th><th align="left">Hibernate metadata impact</th></tr></thead><tbody valign="top"><tr><td align="left" valign="top">@CreditCardNumber</td><td align="left" valign="top"><code class="classname">CharSequence</code></td><td align="left" valign="top">Checks that the annotated character sequence passes the
              Luhn checksum test. Note, this validation aims to check for user
              mistakes, not credit card validity! See also <a class="ulink" href="http://www.merriampark.com/anatomycc.htm">Anatomy of Credit
              Card Numbers</a>.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@Email</td><td align="left" valign="top"><code class="classname">CharSequence</code></td><td align="left" valign="top">Checks whether the specified character sequence is a
              valid email address. The optional parameters
              <em class="parameter"><code>regexp</code></em> and <em class="parameter"><code>flags</code></em>
              allow to specify an additional regular expression (including
              regular expression flags) which the email must match.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@Length(min=, max=)</td><td align="left" valign="top"><code class="classname">CharSequence</code></td><td align="left" valign="top">Validates that the annotated character sequence is
              between <em class="parameter"><code>min</code></em> and
              <em class="parameter"><code>max</code></em> included.</td><td align="left" valign="top">Column length will be set to max.</td></tr><tr><td align="left" valign="top">@ModCheck(modType=, multiplier=, startIndex=, endIndex=,
              checkDigitPosition=, ignoreNonDigitCharacters=)</td><td align="left" valign="top"><code class="classname">CharSequence</code></td><td align="left" valign="top">Checks that the digits within the annotated character
              sequence pass the mod 10 or mod 11 checksum algorithm.
              <code class="constant">modType</code> is used to select the modulo type
              and the <code class="constant">multiplier</code> determines the algorithm
              specific multiplier (see also <a class="ulink" href="http://en.wikipedia.org/wiki/Luhn_algorithm">Luhn
              algorithm</a>). <code class="constant">startIndex</code> and
              <code class="constant">endIndex</code> allow to only run the modulo
              algorithm on the specified sub-string.
              <code class="constant">checkDigitPosition</code> allows to use an
              arbitrary digit within the character sequence to be the check
              digit. If not specified it is assumed that the check digit is
              part of the specified range. Last but not least,
              <code class="constant">ignoreNonDigitCharacters</code> allows to ignore
              non digit characters.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@NotBlank</td><td align="left" valign="top"><code class="classname">CharSequence</code></td><td align="left" valign="top">Checks that the annotated character sequence is not null
              and the trimmed length is greater than 0. The difference to
              @NotEmpty is that this constraint can only be applied on strings
              and that trailing whitespaces are ignored.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@NotEmpty</td><td align="left" valign="top"><code class="classname">CharSequence</code>,
              <code class="classname">Collection</code>, <code class="classname">Map</code>
              and arrays</td><td align="left" valign="top">Checks whether the annotated element is not
              <code class="constant">null</code> nor empty.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@Range(min=, max=)</td><td align="left" valign="top"><code class="classname">BigDecimal</code>,
              <code class="classname">BigInteger</code>,
              <code class="classname">CharSequence</code>,
              <code class="classname">byte</code>, <code class="classname">short</code>,
              <code class="classname">int</code>, <code class="classname">long</code> and the
              respective wrappers of the primitive types</td><td align="left" valign="top">Checks whether the annotated value lies between
              (inclusive) the specified minimum and maximum.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@SafeHtml(whitelistType=, additionalTags=)</td><td align="left" valign="top"><code class="classname">CharSequence</code></td><td align="left" valign="top">Checks whether the annotated value contains potentially
              malicious fragments such as <code class="code">&lt;script/&gt;</code>. In
              order to use this constraint, the <a class="ulink" href="http://jsoup.org/">jsoup</a> library must be part of
              the class path. With the <em class="parameter"><code>whitelistType</code></em>
              attribute predefined whitelist types can be chosen. You can also
              specify additional html tags for the whitelist with the
              <em class="parameter"><code>additionalTags</code></em> attribute.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@ScriptAssert(lang=, script=, alias=)</td><td align="left" valign="top">Any type</td><td align="left" valign="top">Checks whether the given script can successfully be
              evaluated against the annotated element. In order to use this
              constraint, an implementation of the Java Scripting API as
              defined by JSR 223 ("Scripting for the
              Java<sup>TM</sup> Platform") must part of the
              class path. The expressions to be evaluated can be written
              in any scripting or expression language, for which a JSR 223
              compatible engine can be found in the class path.</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@URL(protocol=, host=, port=, regexp=, flags=)</td><td align="left" valign="top"><code class="classname">CharSequence</code></td><td align="left" valign="top">Checks if the annotated character sequence is a valid URL
              according to RFC2396. If any of the optional parameters
              <em class="parameter"><code>protocol</code></em>, <em class="parameter"><code>host</code></em> or
              <em class="parameter"><code>port</code></em> are specified, the corresponding URL
              fragments must match the specified values. The optional
              parameters <em class="parameter"><code>regexp</code></em> and
              <em class="parameter"><code>flags</code></em> allow to specify an additional
              regular expression (including regular expression flags) which
              the URL must match.</td><td align="left" valign="top">none</td></tr></tbody></table></div></div><br class="table-break"/><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="d0e1734"/>2.4.2.1. Country specific constraints</h4></div></div></div><p>Hibernate Validator offers also some country specific
        constraints, e.g. for the validation of social security numbers. </p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>If you have to implement a country specific constraint,
            consider making it a contribution to Hibernate Validator!</p></div><div class="table"><a id="table-custom-country-constraints"/><p class="title"><b>Table 2.4. Custom country specific constraints</b></p><div class="table-contents"><table summary="Custom country specific constraints" border="1"><colgroup><col align="left"/><col align="left"/><col align="left"/><col align="left"/><col align="left"/></colgroup><thead><tr><th align="left">Annotation</th><th align="left">Supported data types</th><th align="left">Use</th><th align="left">Country</th><th align="left">Hibernate metadata impact</th></tr></thead><tbody valign="top"><tr><td align="left" valign="top">@CNPJ</td><td align="left" valign="top"><code class="classname">CharSequence</code></td><td align="left" valign="top">Checks that the annotated character sequence represents
                a Brazilian corporate tax payer registry number (Cadastro de
                Pessoa Juríeddica)</td><td align="left" valign="top">Brazil</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@CPF</td><td align="left" valign="top"><code class="classname">CharSequence</code></td><td align="left" valign="top">Checks that the annotated character sequence represents
                a Brazilian individual taxpayer registry number (Cadastro de
                Pessoa Fídsica).</td><td align="left" valign="top">Brazil</td><td align="left" valign="top">none</td></tr><tr><td align="left" valign="top">@TituloEleitoral</td><td align="left" valign="top"><code class="classname">CharSequence</code></td><td align="left" valign="top">Checks that the annotated character sequence represents
                a Brazilian voter ID card number (<a class="ulink" href="http://ghiorzi.org/cgcancpf.htm">Título
                Eleitoral</a>).</td><td align="left" valign="top">Brazil</td><td align="left" valign="top">none</td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>In some cases neither the Bean Validation constraints nor the
          custom constraints provided by Hibernate Validator will fulfill your
          requirements. In this case you can easily write your own constraint.
          We will discuss this in <a class="xref" href="#validator-customconstraints" title="Chapter 3. Creating custom constraints">Chapter 3, <i>Creating custom constraints</i></a>.</p></div></div></div></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-customconstraints"/>Chapter 3. Creating custom constraints</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#validator-customconstraints-simple">3.1. Creating a simple constraint</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-customconstraints-constraintannotation">3.1.1. The constraint annotation</a></span></dt><dt><span class="section"><a href="#validator-customconstraints-validator">3.1.2. The constraint
      validator</a></span></dt><dt><span class="section"><a href="#validator-customconstraints-errormessage">3.1.3. The error message</a></span></dt><dt><span class="section"><a href="#validator-customconstraints-using">3.1.4. Using the constraint</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-customconstraints-compound">3.2. Constraint composition</a></span></dt></dl></div><p>Though the Bean Validation API defines a whole set of standard
  constraint annotations one can easily think of situations in which these
  standard annotations won't suffice. For these cases you are able to create
  custom constraints tailored to your specific validation requirements in a
  simple manner.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-customconstraints-simple"/>3.1. Creating a simple constraint</h2></div></div></div><p>To create a custom constraint, the following three steps are
    required:</p><div class="itemizedlist"><ul><li><p>Create a constraint annotation</p></li><li><p>Implement a validator</p></li><li><p>Define a default error message</p></li></ul></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-customconstraints-constraintannotation"/>3.1.1. The constraint annotation</h3></div></div></div><p>Let's write a constraint annotation, that can be used to express
      that a given string shall either be upper case or lower case. We'll
      apply it later on to the <span class="property">licensePlate</span> field of the
      <code class="classname">Car</code> class from <a class="xref" href="#validator-gettingstarted" title="Chapter 1. Getting started">Chapter 1, <i>Getting started</i></a> to ensure, that the field is always
      an upper-case string.</p><p>First we need a way to express the two case modes. We might use
      <code class="classname">String</code> constants, but a better way to go is to
      use a Java 5 enum for that purpose:</p><div class="example"><a id="d0e1847"/><p class="title"><b>Example 3.1. Enum <code class="classname">CaseMode</code> to express upper vs. lower
        case</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;enum&nbsp;</span><span class="java_type">CaseMode</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;UPPER</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;LOWER</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>Now we can define the actual constraint annotation. If you've
      never designed an annotation before, this may look a bit scary, but
      actually it's not that hard:</p><div class="example"><a id="example-defining-custom-constraint"/><p class="title"><b>Example 3.2. Defining CheckCase constraint annotation</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">lang</span><span class="java_separator">.</span><span class="java_plain">annotation</span><span class="java_separator">.</span><span class="java_type">ElementType</span><span class="java_separator">.</span><span class="java_operator">*</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">lang</span><span class="java_separator">.</span><span class="java_plain">annotation</span><span class="java_separator">.</span><span class="java_type">RetentionPolicy</span><span class="java_separator">.</span><span class="java_operator">*</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">lang</span><span class="java_separator">.</span><span class="java_plain">annotation</span><span class="java_separator">.</span><span class="java_type">Documented</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">lang</span><span class="java_separator">.</span><span class="java_plain">annotation</span><span class="java_separator">.</span><span class="java_type">Retention</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">lang</span><span class="java_separator">.</span><span class="java_plain">annotation</span><span class="java_separator">.</span><span class="java_type">Target</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">Constraint</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">Payload</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Target</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;METHOD</span><span class="java_separator">,</span><span class="java_plain">&nbsp;FIELD</span><span class="java_separator">,</span><span class="java_plain">&nbsp;ANNOTATION_TYPE&nbsp;</span><span class="java_separator">})</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Retention</span><span class="java_separator">(</span><span class="java_plain">RUNTIME</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Constraint</span><span class="java_separator">(</span><span class="java_plain">validatedBy&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">CheckCaseValidator</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Documented</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;@</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">CheckCase</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;message</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;{com.mycompany.constraints.checkcase}&quot;</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Class</span><span class="java_operator">&lt;?&gt;</span><span class="java_separator">[]</span><span class="java_plain">&nbsp;groups</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_separator">{};</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Class</span><span class="java_operator">&lt;?</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">Payload</span><span class="java_operator">&gt;</span><span class="java_separator">[]</span><span class="java_plain">&nbsp;payload</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_separator">{};</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">CaseMode</span><span class="java_plain">&nbsp;value</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>An annotation type is defined using the <code class="code">@interface</code>
      keyword. All attributes of an annotation type are declared in a
      method-like manner. The specification of the Bean Validation API
      demands, that any constraint annotation defines</p><div class="itemizedlist"><ul><li><p>an attribute <span class="property">message</span> that returns the
          default key for creating error messages in case the constraint is
          violated</p></li><li><p>an attribute <span class="property">groups</span> that allows the
          specification of validation groups, to which this constraint belongs
          (see <a class="xref" href="#validator-usingvalidator-validationgroups" title="2.3. Validating groups">Section 2.3, “Validating groups”</a>).
          This must default to an empty array of type
          <code class="classname">Class&lt;?&gt;</code>.</p></li><li><p>an attribute <code class="classname">payload</code> that can be used
          by clients of the Bean Validation API to assign custom payload
          objects to a constraint. This attribute is not used by the API
          itself. </p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>An example for a custom payload could be the definition of
              a severity.</p><pre class="programlisting">public class Severity {
    public static class Info extends Payload {};
    public static class Error extends Payload {};
}

public class ContactDetails {
    @NotNull(message="Name is mandatory", payload=Severity.Error.class)
    private String name;

    @NotNull(message="Phone number not specified, but not mandatory", payload=Severity.Info.class)
    private String phoneNumber;

    // ...
}</pre><p>Now a client can after the validation of a
              <code class="classname">ContactDetails</code> instance access the
              severity of a constraint using
              <code class="methodname">ConstraintViolation.getConstraintDescriptor().getPayload()</code>
              and adjust its behaviour depending on the severity.</p></div></li></ul></div><p>Besides those three mandatory attributes
      (<span class="property">message</span>, <span class="property">groups</span> and
      <span class="property">payload</span>) we add another one allowing for the
      required case mode to be specified. The name <span class="property">value</span>
      is a special one, which can be omitted upon using the annotation, if it
      is the only attribute specified, as e.g. in
      <code class="code">@CheckCase(CaseMode.UPPER)</code>.</p><p>In addition we annotate the annotation type with a couple of
      so-called meta annotations:</p><div class="itemizedlist"><ul><li><p><code class="code">@Target({ METHOD, FIELD, ANNOTATION_TYPE })</code>:
          Says, that methods, fields and annotation declarations may be
          annotated with @CheckCase (but not type declarations e.g.)</p></li><li><p><code class="code">@Retention(RUNTIME)</code>: Specifies, that annotations
          of this type will be available at runtime by the means of
          reflection</p></li><li><p><code class="code">@Constraint(validatedBy =
          CheckCaseValidator.class)</code>: Specifies the validator to be used
          to validate elements annotated with @CheckCase</p></li><li><p><code class="code">@Documented</code>: Says, that the use of
          <code class="code">@CheckCase</code> will be contained in the JavaDoc of elements
          annotated with it</p></li></ul></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>Hibernate Validator provides support for the validation of
        method parameters using constraint annotations (see <a class="xref" href="#validator-customoptions-methodvalidation" title="8.3. Method validation">Section 8.3, “Method validation”</a>).</p><p>In order to use a custom constraint for parameter validation the
        <code class="classname">ElementType.PARAMETER</code> must be specified within
        the <code class="classname">@Target</code> annotation. This is already the
        case for all constraints defined by the Bean Validation API and also
        the custom constraints provided by Hibernate Validator.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-customconstraints-validator"/>3.1.2. The constraint
      validator</h3></div></div></div><p>Next, we need to implement a constraint validator, that's able to
      validate elements with a <code class="classname">@CheckCase</code> annotation.
      To do so, we implement the interface
      <code class="classname">ConstraintValidator</code> as shown below:</p><div class="example"><a id="example-constraint-validator"/><p class="title"><b>Example 3.3. Implementing a constraint validator for the constraint
        <code class="classname">CheckCase</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">ConstraintValidator</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">ConstraintValidatorContext</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">CheckCaseValidator</span><span class="java_plain">&nbsp;</span><span class="java_keyword">implements</span><span class="java_plain">&nbsp;</span><span class="java_type">ConstraintValidator</span><span class="java_operator">&lt;</span><span class="java_type">CheckCase</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">CaseMode</span><span class="java_plain">&nbsp;caseMode</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;initialize</span><span class="java_separator">(</span><span class="java_type">CheckCase</span><span class="java_plain">&nbsp;constraintAnnotation</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">caseMode&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;constraintAnnotation</span><span class="java_separator">.</span><span class="java_plain">value</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isValid</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;object</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ConstraintValidatorContext</span><span class="java_plain">&nbsp;constraintContext</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">object&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_literal">null</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">caseMode&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_type">CaseMode</span><span class="java_separator">.</span><span class="java_plain">UPPER</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;object</span><span class="java_separator">.</span><span class="java_plain">equals</span><span class="java_separator">(</span><span class="java_plain">object</span><span class="java_separator">.</span><span class="java_plain">toUpperCase</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">else</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;object</span><span class="java_separator">.</span><span class="java_plain">equals</span><span class="java_separator">(</span><span class="java_plain">object</span><span class="java_separator">.</span><span class="java_plain">toLowerCase</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>The <code class="classname">ConstraintValidator</code> interface defines
      two type parameters, which we set in our implementation. The first one
      specifies the annotation type to be validated (in our example
      <code class="classname">CheckCase</code>), the second one the type of elements,
      which the validator can handle (here
      <code class="classname">String</code>).</p><p>In case a constraint annotation is allowed at elements of
      different types, a <code class="classname">ConstraintValidator</code> for each
      allowed type has to be implemented and registered at the constraint
      annotation as shown above.</p><p>The implementation of the validator is straightforward. The
      <code class="methodname">initialize()</code> method gives us access to the
      attribute values of the annotation to be validated. In the example we
      store the <code class="classname">CaseMode</code> in a field of the validator
      for further usage.</p><p>In the <code class="methodname">isValid()</code> method we implement the
      logic, that determines, whether a <code class="classname">String</code> is valid
      according to a given <code class="classname">@CheckCase</code> annotation or
      not. This decision depends on the case mode retrieved in
      <code class="classname">initialize()</code>. As the Bean Validation
      specification recommends, we consider <code class="code">null</code> values as being
      valid. If <code class="code">null</code> is not a valid value for an element, it
      should be annotated with <code class="code">@NotNull</code> explicitly.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="d0e2025"/>3.1.2.1. The ConstraintValidatorContext</h4></div></div></div><p><a class="xref" href="#example-constraint-validator" title="Example 3.3. Implementing a constraint validator for the constraint CheckCase">Example 3.3, “Implementing a constraint validator for the constraint
        CheckCase”</a> relies on the
        default error message generation by just returning
        <code class="constant">true</code> or <code class="constant">false</code> from the
        <code class="methodname">isValid</code> call. Using the passed
        <code class="classname">ConstraintValidatorContext</code> object it is
        possible to either add additional error messages or completely disable
        the default error message generation and solely define custom error
        messages. The <code class="classname">ConstraintValidatorContext</code> API is
        modeled as fluent interface and is best demonstrated with an
        example:</p><div class="example"><a id="example-constraint-validator-context"/><p class="title"><b>Example 3.4. Use of ConstraintValidatorContext to define custom error
          messages</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">ConstraintValidator</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">ConstraintValidatorContext</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">CheckCaseValidator</span><span class="java_plain">&nbsp;</span><span class="java_keyword">implements</span><span class="java_plain">&nbsp;</span><span class="java_type">ConstraintValidator</span><span class="java_operator">&lt;</span><span class="java_type">CheckCase</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">CaseMode</span><span class="java_plain">&nbsp;caseMode</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;initialize</span><span class="java_separator">(</span><span class="java_type">CheckCase</span><span class="java_plain">&nbsp;constraintAnnotation</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">caseMode&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;constraintAnnotation</span><span class="java_separator">.</span><span class="java_plain">value</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isValid</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;object</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ConstraintValidatorContext</span><span class="java_plain">&nbsp;constraintContext</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">object&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_literal">null</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;</span><span class="java_literal">true</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isValid</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">caseMode&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_type">CaseMode</span><span class="java_separator">.</span><span class="java_plain">UPPER</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isValid&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;object</span><span class="java_separator">.</span><span class="java_plain">equals</span><span class="java_separator">(</span><span class="java_plain">object</span><span class="java_separator">.</span><span class="java_plain">toUpperCase</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">else</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isValid&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;object</span><span class="java_separator">.</span><span class="java_plain">equals</span><span class="java_separator">(</span><span class="java_plain">object</span><span class="java_separator">.</span><span class="java_plain">toLowerCase</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_separator">(</span><span class="java_operator">!</span><span class="java_plain">isValid</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintContext</span><span class="java_separator">.</span><span class="java_plain">disableDefaultConstraintViolation</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintContext</span><span class="java_separator">.</span><span class="java_plain">buildConstraintViolationWithTemplate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;{com.mycompany.constraints.CheckCase.message}&quot;</span><span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">).</span><span class="java_plain">addConstraintViolation</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;result</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p><a class="xref" href="#example-constraint-validator-context" title="Example 3.4. Use of ConstraintValidatorContext to define custom error messages">Example 3.4, “Use of ConstraintValidatorContext to define custom error
          messages”</a>
        shows how you can disable the default error message generation and add
        a custom error message using a specified message template. In this
        example the use of the
        <code class="classname">ConstraintValidatorContext</code> results in the same
        error message as the default error message generation. </p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>It is important to end each new constraint violation with
            <code class="methodname">addConstraintViolation</code>. Only after that
            the new constraint violation will be created.</p></div><p>In case you are implementing a
        <code class="classname">ConstraintValidator</code> a class level constraint it
        is also possible to adjust set the property path for the created
        constraint violations. This is important for the case where you
        validate multiple properties of the class or even traverse the object
        graph. A custom property path creation could look like <a class="xref" href="#example-custom-error" title="Example 3.5. Adding new ConstraintViolation with custom property path">Example 3.5, “Adding new ConstraintViolation with
          custom property path”</a>.</p><div class="example"><a id="example-custom-error"/><p class="title"><b>Example 3.5. Adding new <code class="classname">ConstraintViolation</code> with
          custom property path</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">public</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">boolean</span><!-- <br/> --><span class="java_plain">&nbsp;isValid</span><!-- <br/> --><span class="java_separator">(</span><!-- <br/> --><span class="java_type">Group</span><!-- <br/> --><span class="java_plain">&nbsp;group</span><!-- <br/> --><span class="java_separator">,</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">ConstraintValidatorContext</span><!-- <br/> --><span class="java_plain">&nbsp;constraintValidatorContext</span><!-- <br/> --><span class="java_separator">)</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isValid&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">false</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">...</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_separator">(</span><span class="java_operator">!</span><span class="java_plain">isValid</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintValidatorContext</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">buildConstraintViolationWithTemplate</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;{my.custom.template}&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">addNode</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;myProperty&quot;</span><span class="java_plain">&nbsp;</span><span class="java_separator">).</span><span class="java_plain">addConstraintViolation</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;isValid</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_separator">}</span>
</pre></div></div><br class="example-break"/></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-customconstraints-errormessage"/>3.1.3. The error message</h3></div></div></div><p>Finally we need to specify the error message, that shall be used,
      in case a <code class="classname">@CheckCase</code> constraint is violated. To
      do so, we add the following to our custom
      <code class="filename">ValidationMessages.properties</code> (see also <a class="xref" href="#section-message-interpolation" title="2.2.4. Message interpolation">Section 2.2.4, “Message interpolation”</a>)</p><div class="example"><a id="d0e2091"/><p class="title"><b>Example 3.6. Defining a custom error message for the
        <code class="classname">CheckCase</code> constraint</b></p><div class="example-contents"><pre class="programlisting">com.mycompany.constraints.CheckCase.message=Case mode must be {value}.</pre></div></div><br class="example-break"/><p>If a validation error occurs, the validation runtime will use the
      default value, that we specified for the message attribute of the
      <code class="classname">@CheckCase</code> annotation to look up the error
      message in this file.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-customconstraints-using"/>3.1.4. Using the constraint</h3></div></div></div><p>Now that our first custom constraint is completed, we can use it
      in the <code class="classname">Car</code> class from the <a class="xref" href="#validator-gettingstarted" title="Chapter 1. Getting started">Chapter 1, <i>Getting started</i></a> chapter to specify that the
      <span class="property">licensePlate</span> field shall only contain upper-case
      strings:</p><div class="example"><a id="example-car-with-checkcase"/><p class="title"><b>Example 3.7. Applying the <code class="classname">CheckCase</code>
        constraint</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">Min</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">NotNull</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">Size</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Size</span><span class="java_separator">(</span><span class="java_plain">min&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span><span class="java_plain">&nbsp;max&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">14</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">CheckCase</span><span class="java_separator">(</span><span class="java_type">CaseMode</span><span class="java_separator">.</span><span class="java_plain">UPPER</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licensePlate</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Min</span><span class="java_separator">(</span><span class="java_literal">2</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">manufacturer&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;manufacturer</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">licensePlate&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;licencePlate</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">seatCount&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;seatCount</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">getters&nbsp;and&nbsp;setters&nbsp;</span><span class="java_separator">...</span>
</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>Finally let's demonstrate in a little test that the
      <code class="classname">@CheckCase</code> constraint is properly
      validated:</p><div class="example"><a id="d0e2130"/><p class="title"><b>Example 3.8. Testcase demonstrating the <code class="classname">CheckCase</code>
        validation</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">junit</span><span class="java_separator">.</span><span class="java_type">Assert</span><span class="java_separator">.</span><span class="java_operator">*</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">util</span><span class="java_separator">.</span><span class="java_type">Set</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">ConstraintViolation</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">Validation</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">Validator</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">ValidatorFactory</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">junit</span><span class="java_separator">.</span><span class="java_type">BeforeClass</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">junit</span><span class="java_separator">.</span><span class="java_type">Test</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">CarTest</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">BeforeClass</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setUp</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">ValidatorFactory</span><span class="java_plain">&nbsp;factory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">Validation</span><span class="java_separator">.</span><span class="java_plain">buildDefaultValidatorFactory</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Test</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;testLicensePlateNotUpperCase</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_literal">&quot;Morris&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;dd-ab-123&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">4</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">ConstraintViolation</span><span class="java_operator">&lt;</span><span class="java_type">Car</span><span class="java_operator">&gt;&gt;</span><span class="java_plain">&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">car</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_literal">1</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;Case&nbsp;mode&nbsp;must&nbsp;be&nbsp;UPPER.&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">iterator</span><span class="java_separator">().</span><span class="java_plain">next</span><span class="java_separator">().</span><span class="java_plain">getMessage</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Test</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;carIsValid</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;car&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_separator">(</span><span class="java_literal">&quot;Morris&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;DD-AB-123&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">4</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Set</span><span class="java_operator">&lt;</span><span class="java_type">ConstraintViolation</span><span class="java_operator">&lt;</span><span class="java_type">Car</span><span class="java_operator">&gt;&gt;</span><span class="java_plain">&nbsp;constraintViolations&nbsp;</span><span class="java_operator">=</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validator</span><span class="java_separator">.</span><span class="java_plain">validate</span><span class="java_separator">(</span><span class="java_plain">car</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertEquals</span><span class="java_separator">(</span><span class="java_literal">0</span><span class="java_separator">,</span><span class="java_plain">&nbsp;constraintViolations</span><span class="java_separator">.</span><span class="java_plain">size</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-customconstraints-compound"/>3.2. Constraint composition</h2></div></div></div><p>Looking at the <span class="property">licensePlate</span> field of the
    <code class="classname">Car</code> class in <a class="xref" href="#example-car-with-checkcase" title="Example 3.7. Applying the CheckCase constraint">Example 3.7, “Applying the CheckCase
        constraint”</a>, we see three constraint
    annotations already. In complexer scenarios, where even more constraints
    could be applied to one element, this might become a bit confusing easily.
    Furthermore, if we had a <span class="property">licensePlate</span> field in
    another class, we would have to copy all constraint declarations to the
    other class as well, violating the DRY principle.</p><p>This problem can be tackled using compound constraints. In the
    following we create a new constraint annotation
    <code class="classname">@ValidLicensePlate</code>, that comprises the constraints
    <code class="classname">@NotNull</code>, <code class="classname">@Size</code> and
    <code class="classname">@CheckCase</code>:</p><div class="example"><a id="d0e2168"/><p class="title"><b>Example 3.9. Creating a composing constraint
      <code class="classname">ValidLicensePlate</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">lang</span><span class="java_separator">.</span><span class="java_plain">annotation</span><span class="java_separator">.</span><span class="java_type">ElementType</span><span class="java_separator">.</span><span class="java_operator">*</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">lang</span><span class="java_separator">.</span><span class="java_plain">annotation</span><span class="java_separator">.</span><span class="java_type">RetentionPolicy</span><span class="java_separator">.</span><span class="java_operator">*</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">lang</span><span class="java_separator">.</span><span class="java_plain">annotation</span><span class="java_separator">.</span><span class="java_type">Documented</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">lang</span><span class="java_separator">.</span><span class="java_plain">annotation</span><span class="java_separator">.</span><span class="java_type">Retention</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">lang</span><span class="java_separator">.</span><span class="java_plain">annotation</span><span class="java_separator">.</span><span class="java_type">Target</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">Constraint</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_type">Payload</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">NotNull</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">validation</span><span class="java_separator">.</span><span class="java_plain">constraints</span><span class="java_separator">.</span><span class="java_type">Size</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">NotNull</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Size</span><span class="java_separator">(</span><span class="java_plain">min&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span><span class="java_plain">&nbsp;max&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">14</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">CheckCase</span><span class="java_separator">(</span><span class="java_type">CaseMode</span><span class="java_separator">.</span><span class="java_plain">UPPER</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Target</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;METHOD</span><span class="java_separator">,</span><span class="java_plain">&nbsp;FIELD</span><span class="java_separator">,</span><span class="java_plain">&nbsp;ANNOTATION_TYPE&nbsp;</span><span class="java_separator">})</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Retention</span><span class="java_separator">(</span><span class="java_plain">RUNTIME</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Constraint</span><span class="java_separator">(</span><span class="java_plain">validatedBy&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_separator">{})</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Documented</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;@</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">ValidLicensePlate</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;message</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;{com.mycompany.constraints.validlicenseplate}&quot;</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Class</span><span class="java_operator">&lt;?&gt;</span><span class="java_separator">[]</span><span class="java_plain">&nbsp;groups</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_separator">{};</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Class</span><span class="java_operator">&lt;?</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">Payload</span><span class="java_operator">&gt;</span><span class="java_separator">[]</span><span class="java_plain">&nbsp;payload</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_separator">{};</span>
</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>To do so, we just have to annotate the constraint declaration with
    its comprising constraints (btw. that's exactly why we allowed annotation
    types as target for the <code class="classname">@CheckCase</code> annotation). As
    no additional validation is required for the
    <code class="classname">@ValidLicensePlate</code> annotation itself, we don't
    declare a validator within the <code class="classname">@Constraint </code>meta
    annotation.</p><p>Using the new compound constraint at the
    <span class="property">licensePlate</span> field now is fully equivalent to the
    previous version, where we declared the three constraints directly at the
    field itself:</p><div class="example"><a id="d0e2191"/><p class="title"><b>Example 3.10. Application of composing constraint
      <code class="classname">ValidLicensePlate</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">package</span><!-- <br/> --><span class="java_plain">&nbsp;com</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">mycompany</span><!-- <br/> --><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">Car</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">ValidLicensePlate</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;licensePlate</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_separator">...</span>
</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><p>The set of <code class="classname">ConstraintViolations</code> retrieved
    when validating a <code class="classname">Car</code> instance will contain an
    entry for each violated composing constraint of the
    <code class="classname">@ValidLicensePlate</code> constraint. If you rather prefer
    a single <code class="classname">ConstraintViolation</code> in case any of the
    composing constraints is violated, the
    <code class="classname">@ReportAsSingleViolation</code> meta constraint can be
    used as follows:</p><div class="example"><a id="d0e2215"/><p class="title"><b>Example 3.11. Usage of <code class="classname">@ReportAsSingleViolation</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_operator">//</span><!-- <br/> --><span class="java_separator">...</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">ReportAsSingleViolation</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;@</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">ValidLicensePlate</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;message</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;{com.mycompany.constraints.validlicenseplate}&quot;</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Class</span><span class="java_operator">&lt;?&gt;</span><span class="java_separator">[]</span><span class="java_plain">&nbsp;groups</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_separator">{};</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Class</span><span class="java_operator">&lt;?</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">Payload</span><span class="java_operator">&gt;</span><span class="java_separator">[]</span><span class="java_plain">&nbsp;payload</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_separator">{};</span>
</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-xmlconfiguration"/>Chapter 4. XML configuration</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d0e2226">4.1. validation.xml</a></span></dt><dt><span class="section"><a href="#d0e2313">4.2. Mapping constraints</a></span></dt></dl></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2226"/>4.1. <code class="filename">validation.xml</code></h2></div></div></div><p>The key to enable XML configuration for Hibernate Validator is the
    file <code class="filename">META-INF/validation.xml</code>. If this file exists on
    the classpath its configuration will be applied when the
    <code class="classname">ValidationFactory</code> gets created. <a class="xref" href="#image-validation-configuration" title="Example 4.1. validation-configuration-1.0.xsd">Example 4.1, “validation-configuration-1.0.xsd”</a> shows a model view of the XML
    schema to which <code class="filename">validation.xml</code> has to adhere.</p><div class="example"><a id="image-validation-configuration"/><p class="title"><b>Example 4.1. validation-configuration-1.0.xsd</b></p><div class="example-contents"><div class="mediaobject"><img src="validation-configuration-1.0.png"/></div></div></div><p><br class="example-break"/></p><p><a class="xref" href="#example-validation-xml" title="Example 4.2. validation.xml">Example 4.2, “validation.xml”</a> shows the several
    configuration options of <code class="filename">validation.xml</code>.</p><div class="example"><a id="example-validation-xml"/><p class="title"><b>Example 4.2. validation.xml</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">validation-config</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xmlns</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://jboss.org/xml/ns/javax/validation/configuration&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xmlns:xsi</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xsi:schemaLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://jboss.org/xml/ns/javax/validation/configuration&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">default-provider</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.hibernate.validator.HibernateValidator</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">default-provider</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">message-interpolator</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">message-interpolator</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">traversable-resolver</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.hibernate.validator.engine.resolver.DefaultTraversableResolver</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">traversable-resolver</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">constraint-validator-factory</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.hibernate.validator.engine.ConstraintValidatorFactoryImpl</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">constraint-validator-factory</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">constraint-mapping</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">META-INF/validation/constraints-car.xml</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">constraint-mapping</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;prop1&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">value1</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;prop2&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">value2</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">validation-config</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><br class="example-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning"><h2>Warning</h2><p>There must only be one file named
      <code class="filename">META-INF/validation.xml</code> on the classpath. If more
      than one is found an exception is thrown.</p></div><p>The node <span class="property">default-provider</span> allows to choose the
    Bean Validation provider. This is useful if there is more than one
    provider on the classpath. <span class="property">message-interpolator</span>,
    <span class="property">traversable-resolver</span> and
    <span class="property">constraint-validator-factory</span> allow to customize the
    used implementations for
    <code class="classname">javax.validation.MessageInterpolator</code>,
    <code class="classname">javax.validation.TraversableResolver</code> resp.
    <code class="classname">javax.validation.ConstraintValidatorFactory</code>.</p><p>All these settings are optional. <a class="xref" href="#example-validation-xml" title="Example 4.2. validation.xml">Example 4.2, “validation.xml”</a> shows the defaults used within
    Hibernate Validator. The same configuration options are also available
    programmatically through
    <code class="classname">javax.validation.Configuration</code>. In fact XML
    configuration will be overridden by values explicitly specified via the
    API. It is even possible to ignore the XML configuration completely via
    <code class="methodname">Configuration.ignoreXmlConfiguration()</code>. See also
    <a class="xref" href="#validator-bootstrapping" title="Chapter 5. Bootstrapping">Chapter 5, <i>Bootstrapping</i></a>.</p><p>Via the <span class="property">constraint-mapping</span> element you can list
    an arbitrary number of additional XML files containing the actual
    constraint configuration. Mapping file names must be specified using their
    fully-qualified name on the classpath. Details on writing mapping files
    can be found in the next section.</p><p>Last but not least, you can specify provider specific properties via
    the <span class="property">property</span> nodes.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2313"/>4.2. Mapping constraints</h2></div></div></div><p>Expressing constraints in XML is possible via files adhering to the
    schema seen in <a class="xref" href="#image-mapping-configuration" title="Example 4.3. validation-mapping-1.0.xsd">Example 4.3, “validation-mapping-1.0.xsd”</a>. Note that
    these mapping files are only processed if listed via
    <span class="property">constraint-mapping</span> in your
    <code class="filename">validation.xml</code>.</p><div class="example"><a id="image-mapping-configuration"/><p class="title"><b>Example 4.3. validation-mapping-1.0.xsd</b></p><div class="example-contents"><div class="mediaobject"><img src="validation-mapping-1.0.png"/></div></div></div><br class="example-break"/><p><a class="xref" href="#example-constraints-car" title="Example 4.4. constraints-car.xml">Example 4.4, “constraints-car.xml”</a> shows how our classes
    <code class="classname">Car</code> and <code class="classname">RentalCar</code> from <a class="xref" href="#example-car" title="Example 2.15. Car">Example 2.15, “Car”</a> resp. <a class="xref" href="#example-rental-car" title="Example 2.19. RentalCar with @GroupSequence">Example 2.19, “RentalCar with @GroupSequence”</a> could
    be mapped in XML.</p><div class="example"><a id="example-constraints-car"/><p class="title"><b>Example 4.4. constraints-car.xml</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">constraint-mappings</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xmlns:xsi</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xsi:schemaLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://jboss.org/xml/ns/javax/validation/mapping&nbsp;validation-mapping-1.0.xsd&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xmlns</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://jboss.org/xml/ns/javax/validation/mapping&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">default-package</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.hibernate.validator.quickstart</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">default-package</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">bean</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Car&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">ignore-annotations</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;true&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;manufacturer&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">constraint</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">annotation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;javax.validation.constraints.NotNull&quot;</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;licensePlate&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">constraint</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">annotation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;javax.validation.constraints.NotNull&quot;</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;seatCount&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">constraint</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">annotation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;javax.validation.constraints.Min&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">element</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;value&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">2</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">element</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">constraint</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;driver&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">valid</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">getter</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;passedVehicleInspection&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">ignore-annotations</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;true&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">constraint</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">annotation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;javax.validation.constraints.AssertTrue&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">message</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">The&nbsp;car&nbsp;has&nbsp;to&nbsp;pass&nbsp;the&nbsp;vehicle&nbsp;inspection&nbsp;first</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">message</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">groups</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">CarChecks</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">groups</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">element</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;max&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">10</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">element</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">constraint</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">getter</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">bean</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">bean</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;RentalCar&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">ignore-annotations</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;true&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">class</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">ignore-annotations</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;true&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">group-sequence</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">RentalCar</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">CarChecks</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">group-sequence</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">class</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">bean</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">constraint-definition</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">annotation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mycompany.CheckCase&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">validated-by</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">include-existing-validators</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;false&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.mycompany.CheckCaseValidator</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">validated-by</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">constraint-definition</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">constraint-mappings</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><br class="example-break"/><p>The XML configuration is closely mirroring the programmatic API. For
    this reason it should suffice to just add some comments.
    <span class="property">default-package</span> is used for all fields where a class
    name is expected. If the specified class is not fully qualified the
    configured default package will be used. Every mapping file can then have
    several <span class="property">bean</span> nodes, each describing the constraints
    on the entity with the specified class name.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning"><h2>Warning</h2><p>A given entity can only be configured once across all
        configuration files. If the same class is configured more than once an
        exception is thrown.</p></div><p>Setting <span class="property">ignore-annotations</span> to
    <code class="constant">true</code> means that constraint annotations placed on the
    configured bean are ignored. The default for this value is
    <code class="constant">true</code>. ignore-annotations is also available for the
    nodes <span class="property">class</span>, <span class="property">fields</span> and
    <span class="property">getter</span>. If not explicitly specified on these levels
    the configured <span class="property">bean</span> value applies. Otherwise do the
    nodes <span class="property">class</span>, <span class="property">fields</span> and
    <span class="property">getter</span> determine on which level the constraints are
    placed (see <a class="xref" href="#validator-usingvalidator-annotate" title="2.1. Defining constraints">Section 2.1, “Defining constraints”</a>). The
    <span class="property">constraint</span> node is then used to add a constraint on
    the corresponding level. Each constraint definition must define the class
    via the <span class="property">annotation</span> attribute. The constraint
    attributes required by the Bean Validation specification
    (<span class="property">message</span>, <span class="property">groups</span> and
    <span class="property">payload</span>) have dedicated nodes. All other constraint
    specific attributes are configured using the <span class="property">element</span>
    node.</p><p>The class node also allows to reconfigure the default group sequence
    (see <a class="xref" href="#section-default-group-class" title="2.3.2. Redefining the default group sequence of a class">Section 2.3.2, “Redefining the default group sequence of a class”</a>) via the
    <span class="property">group-sequence</span> node.</p><p>Last but not least, the list of
    <code class="classname">ConstraintValidator</code>s associated to a given
    constraint can be altered via the
    <span class="property">constraint-definition</span> node. The
    <span class="property">annotation</span> attribute represents the constraint
    annotation being altered. The <span class="property">validated-by</span> elements
    represent the (ordered) list of <code class="classname">ConstraintValidator</code>
    implementations associated to the constraint. If
    <span class="property">include-existing-validator</span> is set to
    <code class="constant">false</code>, validators defined on the constraint
    annotation are ignored. If set to <code class="constant">true</code>, the list of
    constraint validators described in XML is concatenated to the list of
    validators specified on the annotation.</p></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-bootstrapping"/>Chapter 5. Bootstrapping</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#section-validator-instance">5.1. Configuration and
    ValidatorFactory</a></span></dt><dt><span class="section"><a href="#section-validation-provider-resolver">5.2. ValidationProviderResolver</a></span></dt><dt><span class="section"><a href="#section-message-interpolator">5.3. MessageInterpolator</a></span></dt><dd><dl><dt><span class="section"><a href="#section-resource-bundle-locator">5.3.1. ResourceBundleLocator</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e2668">5.4. TraversableResolver</a></span></dt><dt><span class="section"><a href="#d0e2714">5.5. ConstraintValidatorFactory</a></span></dt></dl></div><p>We already seen in <a class="xref" href="#section-validator-instance" title="5.1. Configuration and ValidatorFactory">Section 5.1, “Configuration and
    ValidatorFactory”</a> the
  easiest way to create a <code class="classname">Validator</code> instance -
  <code class="methodname">Validation.buildDefaultValidatorFactory</code>. In this
  chapter we have a look at the other methods in
  <code class="classname">javax.validation.Validation</code> and how they allow to
  configure several aspects of Bean Validation at bootstrapping time.</p><p>The different bootstrapping options allow, amongst other things, to
  bootstrap any Bean Validation implementation on the classpath. Generally, an
  available provider is discovered by the <a class="ulink" href="http://docs.oracle.com/javase/6/docs/technotes/guides/jar/jar.html#Service%20Provider">Java
  Service Provider</a> mechanism. A Bean Validation implementation
  includes the file
  <code class="filename">javax.validation.spi.ValidationProvider</code> in
  <code class="filename">META-INF/services</code>. This file contains the fully
  qualified classname of the <code class="classname">ValidationProvider</code> of the
  implementation. In the case of Hibernate Validator this is
  <code class="classname">org.hibernate.validator.HibernateValidator</code>.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>If there are more than one Bean Validation implementation providers
    in the classpath and
    <code class="methodname">Validation.buildDefaultValidatorFactory()</code> is
    used, there is no guarantee which provider will be chosen. To enforce the
    provider <code class="methodname">Validation.byProvider()</code> should be
    used.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="section-validator-instance"/>5.1. <code class="classname">Configuration</code> and
    <code class="classname">ValidatorFactory</code></h2></div></div></div><p>There are three different methods in the Validation class to create
    a Validator instance. The easiest in shown in <a class="xref" href="#example-build-default-validator-factory" title="Example 5.1. Validation.buildDefaultValidatorFactory()">Example 5.1, “Validation.buildDefaultValidatorFactory()”</a>.</p><div class="example"><a id="example-build-default-validator-factory"/><p class="title"><b>Example 5.1. Validation.buildDefaultValidatorFactory()</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">ValidatorFactory</span><!-- <br/> --><span class="java_plain">&nbsp;factory&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">buildDefaultValidatorFactory</span><!-- <br/> --><span class="java_separator">();</span>
<!--  --><br/><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span></pre></div></div><br class="example-break"/><p>You can also use the method
    <code class="methodname">Validation.byDefaultProvider()</code> which will allow
    you to configure several aspects of the created Validator instance:</p><div class="example"><a id="d0e2511"/><p class="title"><b>Example 5.2. Validation.byDefaultProvider()</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">Configuration</span><!-- <br/> --><span class="java_operator">&lt;?&gt;</span><!-- <br/> --><span class="java_plain">&nbsp;config&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">byDefaultProvider</span><!-- <br/> --><span class="java_separator">().</span><!-- <br/> --><span class="java_plain">configure</span><!-- <br/> --><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">config</span><span class="java_separator">.</span><span class="java_plain">messageInterpolator</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">MyMessageInterpolator</span><span class="java_separator">())</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">traversableResolver</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">MyTraversableResolver</span><span class="java_separator">())</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">constraintValidatorFactory</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">MyConstraintValidatorFactory</span><span class="java_separator">());</span>
</span>
<!--  --><br/><span class="java_type">ValidatorFactory</span><span class="java_plain">&nbsp;factory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;config</span><span class="java_separator">.</span><span class="java_plain">buildValidatorFactory</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span>
</pre></div></div><br class="example-break"/><p>We will learn more about <code class="classname">MessageInterpolator</code>,
    <code class="classname">TraversableResolver</code> and
    <code class="classname">ConstraintValidatorFactory</code> in the following
    sections.</p><p>Last but not least you can ask for a Configuration object of a
    specific Bean Validation provider. This is useful if you have more than
    one Bean Validation provider in your classpath. In this situation you can
    make an explicit choice about which implementation to use. In the case of
    Hibernate Validator the <code class="classname">Validator</code> creation looks
    like:</p><div class="example"><a id="d0e2532"/><p class="title"><b>Example 5.3. Validation.byProvider( HibernateValidator.class )</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">HibernateValidatorConfiguration</span><!-- <br/> --><span class="java_plain">&nbsp;config&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">byProvider</span><!-- <br/> --><span class="java_separator">(</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">HibernateValidator</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">).</span><!-- <br/> --><span class="java_plain">configure</span><!-- <br/> --><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">config</span><span class="java_separator">.</span><span class="java_plain">messageInterpolator</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">MyMessageInterpolator</span><span class="java_separator">())</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">traversableResolver</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">MyTraversableResolver</span><span class="java_separator">())</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">constraintValidatorFactory</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">MyConstraintValidatorFactory</span><span class="java_separator">());</span>
</span>
<!--  --><br/><span class="java_type">ValidatorFactory</span><span class="java_plain">&nbsp;factory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;config</span><span class="java_separator">.</span><span class="java_plain">buildValidatorFactory</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span></pre></div></div><br class="example-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>The generated <code class="classname">Validator</code> instance is
        thread safe and can be cached.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="section-validation-provider-resolver"/>5.2. <code class="classname">ValidationProviderResolver</code></h2></div></div></div><p>In the case that the Java Service Provider mechanism does not work
    in your environment or you have a special classloader setup, you are able
    to provide a custom <code class="classname">ValidationProviderResolver</code>. An
    example in an OSGi environment you could plug your custom provider
    resolver like seen in <a class="xref" href="#example-provider-resolver" title="Example 5.4. Providing a custom ValidationProviderResolver">Example 5.4, “Providing a custom ValidationProviderResolver”</a>.</p><div class="example"><a id="example-provider-resolver"/><p class="title"><b>Example 5.4. Providing a custom ValidationProviderResolver</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">Configuration</span><!-- <br/> --><span class="java_operator">&lt;?&gt;</span><!-- <br/> --><span class="java_plain">&nbsp;config&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">byDefaultProvider</span><!-- <br/> --><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">providerResolver</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">OSGiServiceDiscoverer</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">configure</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_type">ValidatorFactory</span><span class="java_plain">&nbsp;factory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;config</span><span class="java_separator">.</span><span class="java_plain">buildValidatorFactory</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span>
</pre></div></div><br class="example-break"/><p>Your <code class="classname">OSGiServiceDiscoverer</code> must in this case
    implement the interface
    <code class="classname">ValidationProviderResolver</code>:</p><div class="example"><a id="d0e2568"/><p class="title"><b>Example 5.5. ValidationProviderResolver interface</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">public</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">interface</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">ValidationProviderResolver</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_javadoc_comment">/**</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;ValidationProviders&nbsp;available&nbsp;in&nbsp;the&nbsp;runtime&nbsp;environment.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@return</span><span class="java_javadoc_comment">&nbsp;list&nbsp;of&nbsp;validation&nbsp;providers.&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">List</span><span class="java_operator">&lt;</span><span class="java_type">ValidationProvider</span><span class="java_operator">&lt;?&gt;&gt;</span><span class="java_plain">&nbsp;getValidationProviders</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_separator">}</span>
</pre></div></div><br class="example-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="section-message-interpolator"/>5.3. <code class="classname">MessageInterpolator</code></h2></div></div></div><p><a class="xref" href="#section-message-interpolation" title="2.2.4. Message interpolation">Section 2.2.4, “Message interpolation”</a> already discussed
    the default message interpolation algorithm. If you have special
    requirements for your message interpolation you can provide a custom
    interpolator using
    <code class="methodname">Configuration.messageInterpolator()</code>. This message
    interpolator will be shared by all validators generated by the
    <code class="classname">ValidatorFactory</code> created from this
    <code class="classname">Configuration</code>. <a class="xref" href="#example-message-interpolator" title="Example 5.6. Providing a custom MessageInterpolator">Example 5.6, “Providing a custom MessageInterpolator”</a> shows an interpolator (available
    in Hibernate Validator) which can interpolate the value being validated in
    the constraint message. To refer to this value in the constraint message
    you can use: </p><div class="itemizedlist"><ul><li><p>${validatedValue}: this will call <code class="methodname">String.valueOf
          </code>on the validated value.</p></li><li><p>${validatedValue:&lt;format&gt;}: provide your own format
          string which will be passed to <code class="code">String.format</code> together
          with the validated value. Refer to the javadoc of
          <code class="code">String.format</code> for more information about the format
          options.</p></li></ul></div><div class="example"><a id="example-message-interpolator"/><p class="title"><b>Example 5.6. Providing a custom MessageInterpolator</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">Configuration</span><!-- <br/> --><span class="java_operator">&lt;?&gt;</span><!-- <br/> --><span class="java_plain">&nbsp;configuration&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">byDefaultProvider</span><!-- <br/> --><span class="java_separator">().</span><!-- <br/> --><span class="java_plain">configure</span><!-- <br/> --><span class="java_separator">();</span>
<!--  --><br/><span class="java_type">ValidatorFactory</span><span class="java_plain">&nbsp;factory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;configuration</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">messageInterpolator</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">ValueFormatterMessageInterpolator</span><span class="java_separator">(</span><span class="java_plain">configuration</span><span class="java_separator">.</span><span class="java_plain">getDefaultMessageInterpolator</span><span class="java_separator">()))</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">buildValidatorFactory</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span>
</pre></div></div><br class="example-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>It is recommended that <code class="classname">MessageInterpolator</code>
      implementations delegate final interpolation to the Bean Validation
      default <code class="classname">MessageInterpolator</code> to ensure standard
      Bean Validation interpolation rules are followed. The default
      implementation is accessible through
      <code class="methodname">Configuration.getDefaultMessageInterpolator()</code>.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="section-resource-bundle-locator"/>5.3.1. ResourceBundleLocator</h3></div></div></div><p>A common use case is the ability to specify your own resource
      bundles for message interpolation. The default
      <code class="classname">MessageInterpolator</code> implementation in Hibernate
      Validator is called
      <code class="classname">ResourceBundleMessageInterpolator</code> and per default
      loads resource bundles via
      <code class="methodname">ResourceBundle.getBundle</code>. However,
      <code class="classname">ResourceBundleMessageInterpolator</code> also allows you
      to specify a custom implementation of
      <code class="classname">ResourceBundleLocator</code> allowing you to provide
      your own resource bundles. <a class="xref" href="#example-resource-bundle-locator" title="Example 5.7. Providing a custom ResourceBundleLocator">Example 5.7, “Providing a custom ResourceBundleLocator”</a> shows an example. In the
      example<code class="methodname">
      HibernateValidatorConfiguration.getDefaultResourceBundleLocator</code>
      is used to retrieve the default
      <code class="classname">ResourceBundleLocator</code> which then can be passed to
      the custom implementation in order implement delegation.</p><div class="example"><a id="example-resource-bundle-locator"/><p class="title"><b>Example 5.7. Providing a custom ResourceBundleLocator</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">HibernateValidatorConfiguration</span><!-- <br/> --><span class="java_plain">&nbsp;configure&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">byProvider</span><!-- <br/> --><span class="java_separator">(</span><!-- <br/> --><span class="java_type">HibernateValidator</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_separator">).</span><!-- <br/> --><span class="java_plain">configure</span><!-- <br/> --><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_type">ResourceBundleLocator</span><span class="java_plain">&nbsp;defaultResourceBundleLocator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;configure</span><span class="java_separator">.</span><span class="java_plain">getDefaultResourceBundleLocator</span><span class="java_separator">();</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_type">ResourceBundleLocator</span><span class="java_plain">&nbsp;myResourceBundleLocator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">MyCustomResourceBundleLocator</span><span class="java_separator">(</span><span class="java_plain">defaultResourceBundleLocator</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">configure</span><span class="java_separator">.</span><span class="java_plain">messageInterpolator</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">ResourceBundleMessageInterpolator</span><span class="java_separator">(</span><span class="java_plain">myResourceBundleLocator</span><span class="java_separator">));</span>
</pre></div></div><br class="example-break"/><p>Hibernate Validator provides the following implementation of
      <code class="classname">ResourceBundleLocator</code> -
      <code class="classname">PlatformResourceBundleLocator</code> (the default) and
      <code class="classname">AggregateResourceBundleLocator</code>. The latter can be
      used to specify a list of resource bundle names which will get loaded
      and merged into a single resource bundle. Refer to the JavaDoc
      documentation for more information.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2668"/>5.4. <code class="classname">TraversableResolver</code></h2></div></div></div><p>The usage of the <code class="classname">TraversableResolver</code> has so
    far not been discussed. The idea is that in some cases, the state of a
    property should not be accessed. The most obvious example for that is a
    lazy loaded property or association of a Java Persistence provider.
    Validating this lazy property or association would mean that its state
    would have to be accessed triggering a load from the database. Bean
    Validation controls which property can and cannot be accessed via the
    <code class="classname">TraversableResolver</code> interface (see <a class="xref" href="#example-traversable-resolver" title="Example 5.8. TraversableResolver interface">Example 5.8, “TraversableResolver interface”</a>). In the example
    HibernateValidatorConfiguration.</p><div class="example"><a id="example-traversable-resolver"/><p class="title"><b>Example 5.8. TraversableResolver interface</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_javadoc_comment">/**</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;*&nbsp;Contract&nbsp;determining&nbsp;if&nbsp;a&nbsp;property&nbsp;can&nbsp;be&nbsp;accessed&nbsp;by&nbsp;the&nbsp;Bean&nbsp;Validation&nbsp;provider</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;*&nbsp;This&nbsp;contract&nbsp;is&nbsp;called&nbsp;for&nbsp;each&nbsp;property&nbsp;that&nbsp;is&nbsp;being&nbsp;either&nbsp;validated&nbsp;or&nbsp;cascaded.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;*</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;*&nbsp;A&nbsp;traversable&nbsp;resolver&nbsp;implementation&nbsp;must&nbsp;be&nbsp;thread-safe.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;*</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;*/</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">TraversableResolver</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_javadoc_comment">/**</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Determine&nbsp;if&nbsp;the&nbsp;Bean&nbsp;Validation&nbsp;provider&nbsp;is&nbsp;allowed&nbsp;to&nbsp;reach&nbsp;the&nbsp;property&nbsp;state</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;traversableObject&nbsp;object&nbsp;hosting&nbsp;&lt;code&gt;traversableProperty&lt;/code&gt;&nbsp;or&nbsp;null&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;validateValue&nbsp;is&nbsp;called</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;traversableProperty&nbsp;the&nbsp;traversable&nbsp;property.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;rootBeanType&nbsp;type&nbsp;of&nbsp;the&nbsp;root&nbsp;object&nbsp;passed&nbsp;to&nbsp;the&nbsp;Validator.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;pathToTraversableObject&nbsp;path&nbsp;from&nbsp;the&nbsp;root&nbsp;object&nbsp;to</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;code&gt;traversableObject&lt;/code&gt;</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(using&nbsp;the&nbsp;path&nbsp;specification&nbsp;defined&nbsp;by&nbsp;Bean&nbsp;Validator).</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;elementType&nbsp;either&nbsp;&lt;code&gt;FIELD&lt;/code&gt;&nbsp;or&nbsp;&lt;code&gt;METHOD&lt;/code&gt;.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@return</span><span class="java_javadoc_comment">&nbsp;&lt;code&gt;true&lt;/code&gt;&nbsp;if&nbsp;the&nbsp;Bean&nbsp;Validation&nbsp;provider&nbsp;is&nbsp;allowed&nbsp;to</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reach&nbsp;the&nbsp;property&nbsp;state,&nbsp;&lt;code&gt;false&lt;/code&gt;&nbsp;otherwise.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isReachable</span><span class="java_separator">(</span><span class="java_type">Object</span><span class="java_plain">&nbsp;traversableObject</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Path</span><span class="java_separator">.</span><span class="java_type">Node</span><span class="java_plain">&nbsp;traversableProperty</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Class</span><span class="java_operator">&lt;?&gt;</span><span class="java_plain">&nbsp;rootBeanType</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Path</span><span class="java_plain">&nbsp;pathToTraversableObject</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">ElementType</span><span class="java_plain">&nbsp;elementType</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_javadoc_comment">/**</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Determine&nbsp;if&nbsp;the&nbsp;Bean&nbsp;Validation&nbsp;provider&nbsp;is&nbsp;allowed&nbsp;to&nbsp;cascade&nbsp;validation&nbsp;on</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;bean&nbsp;instance&nbsp;returned&nbsp;by&nbsp;the&nbsp;property&nbsp;value</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;marked&nbsp;as&nbsp;&lt;code&gt;</span><span class="java_javadoc_tag">@Valid</span><span class="java_javadoc_comment">&lt;/code&gt;.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Note&nbsp;that&nbsp;this&nbsp;method&nbsp;is&nbsp;called&nbsp;only&nbsp;if&nbsp;isReachable&nbsp;returns&nbsp;true&nbsp;for&nbsp;the&nbsp;same&nbsp;set&nbsp;of</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;arguments&nbsp;and&nbsp;if&nbsp;the&nbsp;property&nbsp;is&nbsp;marked&nbsp;as&nbsp;&lt;code&gt;</span><span class="java_javadoc_tag">@Valid</span><span class="java_javadoc_comment">&lt;/code&gt;</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;traversableObject&nbsp;object&nbsp;hosting&nbsp;&lt;code&gt;traversableProperty&lt;/code&gt;&nbsp;or&nbsp;null</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;validateValue&nbsp;is&nbsp;called</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;traversableProperty&nbsp;the&nbsp;traversable&nbsp;property.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;rootBeanType&nbsp;type&nbsp;of&nbsp;the&nbsp;root&nbsp;object&nbsp;passed&nbsp;to&nbsp;the&nbsp;Validator.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;pathToTraversableObject&nbsp;path&nbsp;from&nbsp;the&nbsp;root&nbsp;object&nbsp;to</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;code&gt;traversableObject&lt;/code&gt;</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(using&nbsp;the&nbsp;path&nbsp;specification&nbsp;defined&nbsp;by&nbsp;Bean&nbsp;Validator).</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;elementType&nbsp;either&nbsp;&lt;code&gt;FIELD&lt;/code&gt;&nbsp;or&nbsp;&lt;code&gt;METHOD&lt;/code&gt;.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@return</span><span class="java_javadoc_comment">&nbsp;&lt;code&gt;true&lt;/code&gt;&nbsp;if&nbsp;the&nbsp;Bean&nbsp;Validation&nbsp;provider&nbsp;is&nbsp;allowed&nbsp;to</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cascade&nbsp;validation,&nbsp;&lt;code&gt;false&lt;/code&gt;&nbsp;otherwise.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isCascadable</span><span class="java_separator">(</span><span class="java_type">Object</span><span class="java_plain">&nbsp;traversableObject</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Path</span><span class="java_separator">.</span><span class="java_type">Node</span><span class="java_plain">&nbsp;traversableProperty</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Class</span><span class="java_operator">&lt;?&gt;</span><span class="java_plain">&nbsp;rootBeanType</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Path</span><span class="java_plain">&nbsp;pathToTraversableObject</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">ElementType</span><span class="java_plain">&nbsp;elementType</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_separator">}</span>
</pre></div></div><br class="example-break"/><p>Hibernate Validator provides two
    <code class="classname">TraversableResolver</code>s out of the box which will be
    enabled automatically depending on your environment. The first is the
    <code class="classname">DefaultTraversableResolver</code> which will always return
    true for <code class="methodname">isReachable()</code> and
    <code class="methodname">isTraversable()</code>. The second is the
    <code class="classname">JPATraversableResolver</code> which gets enabled when
    Hibernate Validator gets used in combination with JPA 2. In case you have
    to provide your own resolver you can do so again using the
    <code class="classname">Configuration</code> object as seen in <a class="xref" href="#example-traversable-resolver-config" title="Example 5.9. Providing a custom TraversableResolver">Example 5.9, “Providing a custom TraversableResolver”</a>.</p><div class="example"><a id="example-traversable-resolver-config"/><p class="title"><b>Example 5.9. Providing a custom TraversableResolver</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">Configuration</span><!-- <br/> --><span class="java_operator">&lt;?&gt;</span><!-- <br/> --><span class="java_plain">&nbsp;configuration&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">byDefaultProvider</span><!-- <br/> --><span class="java_separator">().</span><!-- <br/> --><span class="java_plain">configure</span><!-- <br/> --><span class="java_separator">();</span>
<!--  --><br/><span class="java_type">ValidatorFactory</span><span class="java_plain">&nbsp;factory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;configuration</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">traversableResolver</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">MyTraversableResolver</span><span class="java_separator">())</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">buildValidatorFactory</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span>
</pre></div></div><br class="example-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2714"/>5.5. <code class="classname">ConstraintValidatorFactory</code></h2></div></div></div><p>Last but not least, there is one more configuration option to
    discuss, the <code class="classname">ConstraintValidatorFactory</code>. The
    default <code class="classname">ConstraintValidatorFactory</code> provided by
    Hibernate Validator requires a public no-arg constructor to instantiate
    <code class="classname">ConstraintValidator</code> instances (see <a class="xref" href="#section-constraint-validator">Section 3.1.2, “The constraint
      validator”</a>). Using a custom
    <code class="classname">ConstraintValidatorFactory</code> offers for example the
    possibility to use dependency injection in constraint implementations. The
    configuration of the custom factory is once more via the
    <code class="classname">Configuration</code> (<a class="xref" href="#example-constraint-validator-factory" title="Example 5.10. Providing a custom ConstraintValidatorFactory">Example 5.10, “Providing a custom ConstraintValidatorFactory”</a>).</p><div class="example"><a id="example-constraint-validator-factory"/><p class="title"><b>Example 5.10. Providing a custom ConstraintValidatorFactory</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">Configuration</span><!-- <br/> --><span class="java_operator">&lt;?&gt;</span><!-- <br/> --><span class="java_plain">&nbsp;configuration&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Validation</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">byDefaultProvider</span><!-- <br/> --><span class="java_separator">().</span><!-- <br/> --><span class="java_plain">configure</span><!-- <br/> --><span class="java_separator">();</span>
<!--  --><br/><span class="java_type">ValidatorFactory</span><span class="java_plain">&nbsp;factory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;configuration</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">constraintValidatorFactory</span><span class="java_separator">(</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">IOCConstraintValidatorFactory</span><span class="java_separator">())</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">buildValidatorFactory</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_type">Validator</span><span class="java_plain">&nbsp;validator&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getValidator</span><span class="java_separator">();</span>
</pre></div></div><br class="example-break"/><p>The interface you have to implement is:</p><div class="example"><a id="d0e2746"/><p class="title"><b>Example 5.11. ConstraintValidatorFactory interface</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_keyword">public</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">interface</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">ConstraintValidatorFactory</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_javadoc_comment">/**</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@param</span><span class="java_javadoc_comment">&nbsp;key&nbsp;The&nbsp;class&nbsp;of&nbsp;the&nbsp;constraint&nbsp;validator&nbsp;to&nbsp;instantiate.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@return</span><span class="java_javadoc_comment">&nbsp;A&nbsp;constraint&nbsp;validator&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;class.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">&lt;</span><span class="java_plain">T&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">ConstraintValidator</span><span class="java_operator">&lt;?</span><span class="java_separator">,</span><span class="java_operator">?&gt;&gt;</span><span class="java_plain">&nbsp;T&nbsp;getInstance</span><span class="java_separator">(</span><span class="java_type">Class</span><span class="java_operator">&lt;</span><span class="java_plain">T</span><span class="java_operator">&gt;</span><span class="java_plain">&nbsp;key</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_separator">}</span>
</pre></div></div><br class="example-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning"><h2>Warning</h2><p>Any constraint implementation relying on
      <code class="classname">ConstraintValidatorFactory</code> behaviors specific to
      an implementation (dependency injection, no no-arg constructor and so
      on) are not considered portable.</p></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>ConstraintValidatorFactory should not cache instances as the state
      of each instance can be altered in the initialize method.</p></div></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-metadata-api"/>Chapter 6. Metadata API</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d0e2769">6.1. BeanDescriptor</a></span></dt><dt><span class="section"><a href="#section-property-descriptor">6.2. PropertyDescriptor</a></span></dt><dt><span class="section"><a href="#d0e2843">6.3. ElementDescriptor</a></span></dt><dt><span class="section"><a href="#section-constraint-descriptor">6.4. ConstraintDescriptor</a></span></dt></dl></div><p>The Bean Validation specification provides not only a validation
  engine, but also a metadata repository for all defined constraints. The
  following paragraphs are discussing this API. All the introduced classes can
  be found in the <span class="package">javax.validation.metadata</span> package.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2769"/>6.1. <code class="classname"><a id="section-bean-descriptor"/>BeanDescriptor</code></h2></div></div></div><p>The entry into the metadata API is via
    <code class="code">Validator.getConstraintsForClass</code> which returns an instance of
    the <a class="ulink" href="http://docs.jboss.org/hibernate/stable/beanvalidation/api/javax/validation/metadata/BeanDescriptor.html"><code class="classname">BeanDescriptor</code></a>
    interface. Using this bean descriptor you can determine whether the
    specified class hosts any constraints at all via
    <code class="code">beanDescriptor.isBeanConstrained</code>. </p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>If a constraint declaration hosted by the requested class is
        invalid, a <code class="classname">ValidationException</code> is
        thrown.</p></div><p>You can then call
    <code class="code">beanDescriptor.getConstraintDescriptors</code> to get a set of
    <code class="classname">ConstraintDescriptor</code>s representing all class level
    constraints.</p><p>If you are interested in property level constraints, you can call
    <code class="code">beanDescriptor.getConstraintsForProperty</code> or
    <code class="code">beanDescriptor.getConstrainedProperties</code> to get a single resp.
    set of <code class="classname">PropertyDescriptor</code>s (see <a class="xref" href="#section-property-descriptor" title="6.2. PropertyDescriptor">Section 6.2, “PropertyDescriptor”</a>). </p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="section-property-descriptor"/>6.2. <code class="classname">PropertyDescriptor</code></h2></div></div></div><p>The <a class="ulink" href="http://docs.jboss.org/hibernate/stable/beanvalidation/api/javax/validation/metadata/PropertyDescriptor.html"><code class="classname">PropertyDescriptor</code></a>
    interface extends the <code class="classname">ElementDescriptor</code> interface
    and represents constraints on properties of a class. The constraint can be
    declared on the attribute itself or on the getter of the attribute -
    provided Java Bean naming conventions are respected. A
    <code class="classname">PropertyDescriptor</code> adds <code class="code">isCascaded</code>
    (returning <code class="constant">true</code> if the property is marked with
    <code class="classname">@Valid</code>) and <code class="code">getPropertyName</code> to the
    <code class="classname">ElementDescriptor</code> functionality.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2843"/>6.3. <code class="classname">ElementDescriptor</code></h2></div></div></div><p>The <a class="ulink" href="http://docs.jboss.org/hibernate/stable/beanvalidation/api/javax/validation/metadata/ElementDescriptor.html"><code class="classname">ElementDiscriptor</code></a>
    interface is the common base class for
    <code class="classname">BeanDescriptor</code> and
    <code class="classname">PropertyDescriptor</code>. Next to the
    <code class="code">hasConstraints </code>and <code class="code">getConstraintDescriptors</code>
    methods it also offers access to the
    <code class="classname">ConstraintFinder</code> API which allows you to query the
    metadata API in a more fine grained way. For example you can restrict your
    search to constraints described on fields or on getters or a given set of
    groups. Given an <code class="classname">ElementDescriptor</code> instance you
    just call <code class="code">findConstraints</code> to retrieve a
    <code class="classname">ConstraintFinder</code> instance. </p><div class="example"><a id="example-constraint-finder"/><p class="title"><b>Example 6.1. Usage of ConstraintFinder</b></p><div class="example-contents"><pre class="programlisting">Validator validator = Validation.buildDefaultValidatorFactory().getValidator();
BeanDescriptor beanDescriptor = validator.getConstraintsForClass(Person.class);
PropertyDescriptor propertyDescriptor = beanDescriptor.getConstraintsForProperty("name");
Set&lt;ConstraintDescriptor&lt;?&gt;&gt; constraints = propertyDescriptor.findConstraints()
                                           .declaredOn(ElementType.METHOD)
                                           .unorderedAndMatchingGroups(Default.class)
                                           .lookingAt(Scope.LOCAL_ELEMENT)
                                           .getConstraintDescriptors();</pre></div></div><br class="example-break"/><p><a class="xref" href="#example-constraint-finder" title="Example 6.1. Usage of ConstraintFinder">Example 6.1, “Usage of ConstraintFinder”</a> shows an example on how
    to use the <code class="classname">ConstraintFinder</code> API. Interesting are
    especially the restrictions <code class="code">unorderedAndMatchingGroups</code> and
    <code class="code">lookingAt(<a class="ulink" href="http://docs.jboss.org/hibernate/stable/beanvalidation/api/javax/validation/metadata/Scope.html">Scope.LOCAL_ELEMENT</a>)</code>.
    The former allows to only return
    <code class="classname">ConstraintDescriptors</code> matching a specified set of
    groups wheras the latter allows to distinguish between constraint directly
    specified on the element (<code class="constant">Scope.LOCAL_ELEMENT</code>) or
    constraints belonging to the element but hosted anywhere in the class
    hierarchy (<code class="constant">Scope.HIERARCHY</code>).</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning"><h2>Warning</h2><p>Order is not respected by unorderedAndMatchingGroups, but group
        inheritance and inheritance via sequence are.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="section-constraint-descriptor"/>6.4. <code class="classname">ConstraintDescriptor</code></h2></div></div></div><p>Last but not least, the <a class="ulink" href="http://docs.jboss.org/hibernate/stable/beanvalidation/api/javax/validation/metadata/ConstraintDescriptor.html"><code class="classname">ConstraintDescriptor</code></a>
    interface describes a single constraint together with its composing
    constraints. Via an instance of this interface you get access to the
    constraint annotation and its parameters, as well as the groups the
    constraint is supposed to be applied on. It also also you to access the
    pass-through constraint payload (see <a class="xref" href="#example-defining-custom-constraint" title="Example 3.2. Defining CheckCase constraint annotation">Example 3.2, “Defining CheckCase constraint annotation”</a>).</p></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-integration"/>Chapter 7. Integration with other frameworks</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#validator-osgi">7.1. OSGi</a></span></dt><dt><span class="section"><a href="#validator-checkconstraints-db">7.2. Database schema-level validation</a></span></dt><dt><span class="section"><a href="#validator-checkconstraints-orm">7.3. ORM integration</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-checkconstraints-orm-hibernateevent">7.3.1. Hibernate event-based validation</a></span></dt><dt><span class="section"><a href="#d0e3113">7.3.2. JPA</a></span></dt></dl></dd><dt><span class="section"><a href="#section-presentation-layer">7.4. Presentation layer validation</a></span></dt></dl></div><p>Hibernate Validator is intended to be used to implement multi-layered
  data validation, where constraints are expressed in a single place (the
  annotated domain model) and checked in various different layers of the
  application.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-osgi"/>7.1. OSGi</h2></div></div></div><p>The Hibernate Validator jar file is conform to the OSGi
    specification and can be used within any OSGi container. The following
    lists represent the packages imported and exported by Hibernate Validator.
    The classes within the exported packages are considered part of Hibernate
    Validator public API.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>The Java Service Provider mechanism used by Bean Validation to
      automatically discover validation providers doesn't work in an OSGi
      environment. To solve this, you have to provide a custom
      <code class="classname">ValidationProviderResolver</code>. See <a class="xref" href="#section-validation-provider-resolver" title="5.2. ValidationProviderResolver">Section 5.2, “ValidationProviderResolver”</a></p></div><div class="itemizedlist"><p class="title"><b>Exported packages</b></p><ul><li><p><span class="package">org.hibernate.validator</span></p></li><li><p><span class="package">org.hibernate.validator.cfg.*</span></p></li><li><p><span class="package">org.hibernate.validator.constraints.*</span></p></li><li><p><span class="package">org.hibernate.validator.group</span></p></li><li><p><span class="package">org.hibernate.validator.messageinterpolation</span></p></li><li><p><span class="package">org.hibernate.validator.resourceloading</span></p></li><li><p><span class="package">org.hibernate.validator.spi.*</span></p></li></ul></div><div class="itemizedlist"><p class="title"><b>Imported packages</b></p><ul><li><p><span class="package">javax.persistence.*</span>, [2.0.0,3.0.0),
        optional</p></li><li><p><span class="package">javax.validation.*</span>, [1.0.0,2.0.0)</p></li><li><p><span class="package">javax.xml.*</span></p></li><li><p><span class="package">javax.el.*</span>, [2.0.0,4.0.0)</p></li><li><p><span class="package">org.xml.sax.*</span></p></li><li><p><span class="package">org.jboss.logging.*</span>, [3.1.0,4.0.0)</p></li><li><p><span class="package">com.fasterxml.classmate.*</span>, 0.8.0</p></li><li><p><span class="package">org.joda.time.*</span>, [1.6.0,2.0.0),
        optional</p></li><li><p><span class="package">org.jsoup.*</span>, [1.5.2,2.0.0), optional</p></li></ul></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-checkconstraints-db"/>7.2. Database schema-level validation</h2></div></div></div><p>Out of the box, Hibernate Annotations (as of Hibernate 3.5.x) will
    translate the constraints you have defined for your entities into mapping
    metadata. For example, if a property of your entity is annotated
    <code class="literal">@NotNull</code>, its columns will be declared as <code class="literal">not
    null</code> in the DDL schema generated by Hibernate.</p><p>If, for some reason, the feature needs to be disabled, set
    <code class="literal">hibernate.validator.apply_to_ddl</code> to
    <code class="literal">false</code>. See also <a class="xref" href="#table-spec-constraints" title="Table 2.2. Bean Validation constraints">Table 2.2, “Bean Validation constraints”</a> and <a class="xref" href="#table-custom-constraints" title="Table 2.3. Custom constraints">Table 2.3, “Custom constraints”</a>.</p><p>You can also limit the DDL constraint generation to a subset of the
    defined constraints by setting the property
    <span class="property">org.hibernate.validator.group.ddl</span>. The property
    specifies the comma-separated, fully specified class names of the groups a
    constraint has to be part of in order to be considered for DDL schema
    generation.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-checkconstraints-orm"/>7.3. ORM integration</h2></div></div></div><p>Hibernate Validator integrates with both Hibernate and all pure Java
    Persistence providers.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>When lazy loaded associations are supposed to be validated it is
      recommended to place the constraint on the getter of the association.
      Hibernate replaces lazy loaded associations with proxy instances which
      get initialized/loaded when requested via the getter. If, in such a
      case, the constraint is placed on field level the actual proxy instance
      is used which will lead to validation errors.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-checkconstraints-orm-hibernateevent"/>7.3.1. Hibernate event-based validation</h3></div></div></div><p>Hibernate Validator has a built-in Hibernate event listener -
      <a class="ulink" href="http://fisheye.jboss.org/browse/Hibernate/core/trunk/annotations/src/main/java/org/hibernate/cfg/beanvalidation/BeanValidationEventListener.java"><code class="classname">org.hibernate.cfg.beanvalidation.BeanValidationEventListener</code></a>
      - which is part of Hibernate Annotations (as of Hibernate 3.5.x).
      Whenever a <code class="literal">PreInsertEvent</code>,
      <code class="literal">PreUpdateEvent</code> or
      <code class="classname">PreDeleteEvent</code> occurs, the listener will verify
      all constraints of the entity instance and throw an exception if any
      constraint is violated. Per default objects will be checked before any
      inserts or updates are made by Hibernate. Pre deletion events will per
      default not trigger a validation. You can configure the groups to be
      validated per event type using the properties
      <span class="property">javax.persistence.validation.group.pre-persist</span>,
      <span class="property">javax.persistence.validation.group.pre-update</span> and
      <span class="property">javax.persistence.validation.group.pre-remove</span>. The
      values of these properties are the comma-separated, fully specified
      class names of the groups to validate. <a class="xref" href="#example-beanvalidationeventlistener-config" title="Example 7.1. Manual configuration of BeanValidationEvenListener">Example 7.1, “Manual configuration of
        BeanValidationEvenListener”</a> shows the default
      values for these properties. In this case they could also be
      omitted.</p><p>On constraint violation, the event will raise a runtime
      <code class="classname">ConstraintViolationException</code> which contains a set
      of <code class="literal">ConstraintViolation</code>s describing each
      failure.</p><p>If Hibernate Validator is present in the classpath, Hibernate
      Annotations (or Hibernate EntityManager) will use it transparently. To
      avoid validation even though Hibernate Validator is in the classpath set
      <span class="property">javax.persistence.validation.mode</span> to
      <code class="constant">none</code>.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>If the beans are not annotated with validation annotations,
          there is no runtime performance cost.</p></div><p>In case you need to manually set the event listeners for Hibernate
      Core, use the following configuration in
      <code class="literal">hibernate.cfg.xml</code>:</p><div class="example"><a id="example-beanvalidationeventlistener-config"/><p class="title"><b>Example 7.1. Manual configuration of
        <code class="classname">BeanValidationEvenListener</code></b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">hibernate-configuration</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">session-factory</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;javax.persistence.validation.group.pre-persist&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">javax.validation.groups.Default</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;javax.persistence.validation.group.pre-update&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">javax.validation.groups.Default</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;javax.persistence.validation.group.pre-remove&quot;</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">event</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;pre-update&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">listener</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.hibernate.cfg.beanvalidation.BeanValidationEventListener&quot;</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">event</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">event</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;pre-insert&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">listener</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.hibernate.cfg.beanvalidation.BeanValidationEventListener&quot;</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">event</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">event</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;pre-delete&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">listener</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.hibernate.cfg.beanvalidation.BeanValidationEventListener&quot;</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">event</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">session-factory</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">hibernate-configuration</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><br class="example-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3113"/>7.3.2. JPA</h3></div></div></div><p>If you are using JPA 2 and Hibernate Validator is in the classpath
      the JPA2 specification requires that Bean Validation gets enabled. The
      properties
      <span class="property">javax.persistence.validation.group.pre-persist</span>,
      <span class="property">javax.persistence.validation.group.pre-update</span> and
      <span class="property">javax.persistence.validation.group.pre-remove</span> as
      described in <a class="xref" href="#validator-checkconstraints-orm-hibernateevent" title="7.3.1. Hibernate event-based validation">Section 7.3.1, “Hibernate event-based validation”</a> can in this
      case be configured in <code class="filename">persistence.xml</code>.
      <code class="filename">persistence.xml</code> also defines a node validation-mode
      which can be set to <code class="constant">AUTO</code>,
      <code class="constant">CALLBACK</code>, <code class="constant">NONE</code>. The default is
      <code class="constant">AUTO</code>.</p><p>In a JPA 1 you will have to create and register Hibernate
      Validator yourself. In case you are using Hibernate EntityManager you
      can add a customized version of the
      <code class="classname">BeanValidationEventListener</code> described in <a class="xref" href="#validator-checkconstraints-orm-hibernateevent" title="7.3.1. Hibernate event-based validation">Section 7.3.1, “Hibernate event-based validation”</a> to your
      project and register it manually.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="section-presentation-layer"/>7.4. Presentation layer validation</h2></div></div></div><p>When working with JSF2 or <span class="productname">JBoss Seam</span>™ and
    Hibernate Validator (Bean Validation) is present in the runtime
    environment validation is triggered for every field in the application.
    <a class="xref" href="#example-jsf2" title="Example 7.2. Usage of Bean Validation within JSF2">Example 7.2, “Usage of Bean Validation within JSF2”</a> shows an example of the f:validateBean tag
    in a JSF page. For more information refer to the Seam documentation or the
    JSF 2 specification.</p><div class="example"><a id="example-jsf2"/><p class="title"><b>Example 7.2. Usage of Bean Validation within JSF2</b></p><div class="example-contents"><pre class="programlisting">&lt;h:form&gt;
  <span class="bold"><strong>&lt;f:validateBean&gt;</strong></span>
    &lt;h:inputText value=”#{model.property}” /&gt;
    &lt;h:selectOneRadio value=”#{model.radioProperty}” &gt; ... &lt;/h:selectOneRadio&gt;
    &lt;!-- other input components here --&gt;
  <span class="bold"><strong>&lt;/f:validateBean&gt;</strong></span>
&lt;/h:form&gt;
</pre></div></div><br class="example-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>The integration between JSF 2 and Bean Validation is described in
      the "Bean Validation Integration" chapter of <a class="ulink" href="http://jcp.org/en/jsr/detail?id=314">JSR-314</a>. It is
      interesting to know that JSF 2 implements a custom MessageInterpolator
      to ensure ensure proper localization. To encourage the use of the Bean
      Validation message facility, JSF 2 will per default only display the
      generated Bean Validation message. This can, however, be configured via
      the application resource bundle by providing the following configuration
      (<em class="parameter"><code>{0}</code></em> is replaced with the Bean Validation message
      and <em class="parameter"><code>{1}</code></em> is replaced with the JSF component
      label):</p><pre class="programlisting">javax.faces.validator.BeanValidator.MESSAGE={1}: {0}</pre><p>The default is:</p><pre class="programlisting">javax.faces.validator.BeanValidator.MESSAGE={0}</pre></div></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-specifics"/>Chapter 8. Hibernate Validator Specifics</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d0e3202">8.1. Public API</a></span></dt><dt><span class="section"><a href="#d0e3348">8.2. Fail fast mode</a></span></dt><dt><span class="section"><a href="#validator-customoptions-methodvalidation">8.3. Method validation</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3421">8.3.1. Defining method-level constraints</a></span></dt><dt><span class="section"><a href="#d0e3496">8.3.2. Evaluating method-level constraints</a></span></dt><dt><span class="section"><a href="#d0e3586">8.3.3. Retrieving method-level constraint meta data</a></span></dt></dl></dd><dt><span class="section"><a href="#programmaticapi">8.4. Programmatic constraint definition</a></span></dt><dt><span class="section"><a href="#d0e3718">8.5. Boolean composition for constraint composition</a></span></dt></dl></div><p>In the following sections we are having a closer look at some of the
  Hibernate Validator specific features (features which are not part of the
  Bean Validation specification). This includes the fail fast mode, the
  programmatic constraint configuration API and boolean composition of
  composing constraints.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>The features described in the following sections are not portable
    between Bean Validation providers/implementations.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e3202"/>8.1. Public API</h2></div></div></div><p>Let's start, however, with a look at the public API of Hibernate
    Validator. <a class="xref" href="#validator-public-api" title="Table 8.1. Hibernate Validator public API">Table 8.1, “Hibernate Validator public API”</a> lists all packages
    belonging to this API and describes their purpose.</p><p>Any packages not listed in that table are internal packages of
    Hibernate Validator and are not intended to be accessed by clients. The
    contents of these internal packages can change from release to release
    without notice, thus possibly breaking any client code relying on
    it.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>In the following table, when a package is public its not
      necessarily true for its nested packages.</p></div><div class="table"><a id="validator-public-api"/><p class="title"><b>Table 8.1. Hibernate Validator public API</b></p><div class="table-contents"><table summary="Hibernate Validator public API" border="1"><colgroup><col/><col/></colgroup><thead><tr><th>Packages</th><th>Description</th></tr></thead><tbody valign="top"><tr><td valign="top"><span class="package">org.hibernate.validator</span></td><td valign="top">This package contains the classes used by the Bean
            Validation bootstrap mechanism (eg. validation provider,
            configuration class). For more details see <a class="xref" href="#validator-bootstrapping" title="Chapter 5. Bootstrapping">Chapter 5, <i>Bootstrapping</i></a>.</td></tr><tr><td valign="top"><span class="package">org.hibernate.validator.cfg</span>,
            <span class="package">org.hibernate.validator.cfg.context</span>,
            <span class="package">org.hibernate.validator.cfg.defs</span></td><td valign="top">With Hibernate Validator you can define constraints via a
            fluent API. These packages contain all classes needed to use this
            feature. In the package
            <span class="package">org.hibernate.validator.cfg</span> you will find the
            <code class="classname">ConstraintMapping</code> class and in package
            <span class="package">org.hibernate.validator.cfg.defs</span> all constraint
            definitions. For more details see <a class="xref" href="#programmaticapi" title="8.4. Programmatic constraint definition">Section 8.4, “Programmatic constraint definition”</a>.</td></tr><tr><td valign="top"><span class="package">org.hibernate.validator.constraints</span>,
            <span class="package">org.hibernate.validator.constraints.br</span></td><td valign="top">In addition to Bean Validation constraints, Hibernate
            Validator provides some useful custom constraints. These packages
            contain all custom annotation classes. For more details see <a class="xref" href="#validator-defineconstraints-hv-constraints" title="2.4.2. Additional constraints">Section 2.4.2, “Additional constraints”</a>.</td></tr><tr><td valign="top"><span class="package">org.hibernate.validator.group</span>,
            <span class="package">org.hibernate.validator.spi.group</span></td><td valign="top">With Hibernate Validator you can define dynamic default
            group sequences in function of the validated object state. These
            packages contain all classes needed to use this feature
            (<code class="classname">GroupSequenceProvider</code> annotation and
            <code class="classname">DefaultGroupSequenceProvider</code> contract). For
            more details see <a class="xref" href="#section-default-group-class" title="2.3.2. Redefining the default group sequence of a class">Section 2.3.2, “Redefining the default group sequence of a class”</a>.</td></tr><tr><td valign="top"><span class="package">org.hibernate.validator.messageinterpolation</span>,
            <span class="package">org.hibernate.validator.resourceloading</span>,
            <span class="package">org.hibernate.validator.spi.resourceloading</span></td><td valign="top">These packages contain the classes related to constraint
            message interpolation. The first package contains two
            implementations of <code class="classname">MessageInterpolator</code>. The
            first one,
            <code class="classname">ValueFormatterMessageInterpolator</code> allows to
            interpolate the validated value into the constraint message, see
            <a class="xref" href="#section-message-interpolator" title="5.3. MessageInterpolator">Section 5.3, “MessageInterpolator”</a>. The second
            implementation named
            <code class="classname">ResourceBundleMessageInterpolator</code> is the
            implementation used by default by Hibernate Validator. This
            implementation relies on a
            <code class="classname">ResourceBundleLocator</code>, see <a class="xref" href="#section-resource-bundle-locator" title="5.3.1. ResourceBundleLocator">Section 5.3.1, “ResourceBundleLocator”</a>. Hibernate Validator
            provides different <code class="classname">ResourceBundleLocator</code>
            implementations located in the package
            <span class="package">org.hibernate.validator.resourceloading</span>.</td></tr><tr><td valign="top"><span class="package">org.hibernate.validator.method</span>,
            <span class="package">org.hibernate.validator.method.metadata</span></td><td valign="top">Hibernate Validator provides support for method-level
            constraints based on appendix C of the Bean Validation
            specification. The first package contains the
            <code class="classname">MethodValidator</code> interface allowing you to
            validate method return values and parameters. The second package
            contains meta data for constraints hosted on parameters and
            methods which can be retrieved via the
            <code class="classname">MethodValidator</code>.</td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>The public packages of Hibernate Validator fall into two
      categories: while the actual API parts are intended to be
      <span class="emphasis"><em>invoked</em></span> or <span class="emphasis"><em>used</em></span> by clients
      (e.g. the API for programmatic constraint declaration or the custom
      constraints), the SPI (service provider interface) packages contain
      interfaces which are intended to be <span class="emphasis"><em>implemented</em></span> by
      clients (e.g. <code class="classname">ResourceBundleLocator</code>).</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e3348"/>8.2. Fail fast mode</h2></div></div></div><p>First off, the fail fast mode. Hibernate Validator allows to return
    from the current validation as soon as the first constraint violation
    occurs. This is called the <span class="emphasis"><em>fail fast mode</em></span> and can be
    useful for validation of large object graphs where one is only interested
    whether there is a constraint violation or not. <a class="xref" href="#example-fail-fast-property" title="Example 8.1. Enabling failFast via a property">Example 8.1, “Enabling failFast via a property”</a>, <a class="xref" href="#example-fail-fast-configuration" title="Example 8.2. Enabling failFast at the Configuration level">Example 8.2, “Enabling failFast at the
      Configuration level”</a> and <a class="xref" href="#example-fail-fast-factory" title="Example 8.3. Enabling failFast at the ValidatorFactory level">Example 8.3, “Enabling failFast at the
      ValidatorFactory level”</a> show multiple ways to enable the
    fail fast mode.</p><div class="example"><a id="example-fail-fast-property"/><p class="title"><b>Example 8.1. Enabling <code class="option">failFast</code> via a property</b></p><div class="example-contents"><pre class="programlisting">HibernateValidatorConfiguration configuration = Validation.byProvider( HibernateValidator.class ).configure();
ValidatorFactory factory = configuration.addProperty( "hibernate.validator.fail_fast", "true" ).buildValidatorFactory();
Validator validator = factory.getValidator();

// do some actual fail fast validation
...</pre></div></div><br class="example-break"/><div class="example"><a id="example-fail-fast-configuration"/><p class="title"><b>Example 8.2. Enabling <code class="option">failFast</code> at the
      <code class="classname">Configuration</code> level</b></p><div class="example-contents"><pre class="programlisting">HibernateValidatorConfiguration configuration = Validation.byProvider( HibernateValidator.class ).configure();
ValidatorFactory factory = configuration.failFast( true ).buildValidatorFactory();
Validator validator = factory.getValidator();

// do some actual fail fast validation
...</pre></div></div><br class="example-break"/><div class="example"><a id="example-fail-fast-factory"/><p class="title"><b>Example 8.3. Enabling <code class="option">failFast</code> at the
      <code class="classname">ValidatorFactory</code> level</b></p><div class="example-contents"><pre class="programlisting">HibernateValidatorConfiguration configuration = Validation.byProvider( HibernateValidator.class ).configure();
ValidatorFactory factory = configuration.buildValidatorFactory();

Validator validator = factory.getValidator();

// do some non fail fast validation
...

validator = factory.unwrap( HibernateValidatorFactory.class )
            .usingContext()
            .failFast( true )
            .getValidator();

// do fail fast validation
...</pre></div></div><br class="example-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-customoptions-methodvalidation"/>8.3. Method validation</h2></div></div></div><p>The Bean Validation API allows to specify constraints for fields,
    properties and types. Hibernate Validator goes one step further and allows
    to place contraint annotations also on method parameters and method return
    values, thus enabling a programming style known as "Programming by
    Contract".</p><p>More specifically this means that Bean Validation constraints can be
    used to specify</p><div class="itemizedlist"><ul><li><p>the preconditions that must be met before a method invocation
        (by annotating method parameters with constraints) and</p></li><li><p>the postconditions that are guaranteed after a method invocation
        (by annotating methods)</p></li></ul></div><p>This approach has several advantages over traditional ways of
    parameter and return value checking:</p><div class="itemizedlist"><ul><li><p>The checks don't have to be performed manually (e.g. by throwing
        <code class="classname">IllegalArgumentExceptions</code> or similar),
        resulting in less code to write and maintain.</p></li><li><p>A method's pre- and postconditions don't have to be expressed
        again in the method's JavaDoc, since the constraint annotations will
        automatically be included in the generated JavaDoc. This avoids
        redundancy and reduces the chance of inconsistencies between
        implementation and documentation.</p></li></ul></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>Method validation was also considered to be included in the Bean
      Validation API as defined by JSR 303, but it didn't become part of the
      1.0 version. A basic draft is outlined in appendix C of the
      specification, and the implementation in Hibernate Validator is largely
      influenced by this draft. The feature is considered again for inclusion
      in BV 1.1.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3421"/>8.3.1. Defining method-level constraints</h3></div></div></div><p><a class="xref" href="#example-method-constraints" title="Example 8.4. Using method-level constraints">Example 8.4, “Using method-level constraints”</a> demonstrates
      the definition of method-level constraints.</p><div class="example"><a id="example-method-constraints"/><p class="title"><b>Example 8.4. Using method-level constraints</b></p><div class="example-contents"><pre class="programlisting">public class RentalStation {

    @NotNull 
    public Car rentCar(@NotNull Customer customer, @NotNull @Future Date startDate, @Min(1) int durationInDays) { 
        //...
    }
}</pre></div></div><p><br class="example-break"/></p><p>Here the following pre- and postconditions for the
      <code class="methodname">rentCar()</code> method are declared:</p><div class="itemizedlist"><ul><li><p>The renting customer may not be null</p></li><li><p>The rental's start date must not be null and must be in the
          future</p></li><li><p>The rental duration must be at least one day</p></li><li><p>The returned <code class="classname">Car</code> instance may not be
          null</p></li></ul></div><p>Using the <code class="classname">@Valid</code> annotation it's also
      possible to define that a cascaded validation of parameter or return
      value objects shall be performed. An example can be found in <a class="xref" href="#example-cascaded-method-constraints" title="Example 8.5. Cascaded validation of method-level constraints">Example 8.5, “Cascaded validation of method-level constraints”</a>.</p><div class="example"><a id="example-cascaded-method-constraints"/><p class="title"><b>Example 8.5. Cascaded validation of method-level constraints</b></p><div class="example-contents"><pre class="programlisting">public class RentalStation {

    @Valid
    public Set&lt;Rental&gt; getRentalsByCustomer(@Valid Customer customer) { 
        //...
    }
}</pre></div></div><br class="example-break"/><p>Here all the constraints declared at the
      <code class="classname">Customer</code> type will be evaluated when validating
      the method parameter and all constraints declared at the returned
      <code class="classname">Rental</code> objects will be evaluated when validating
      the method's return value.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="d0e3473"/>8.3.1.1. Using method constraints in type hierarchies</h4></div></div></div><p>Special care must be taken when defining parameter constraints
        in inheritance hierarchies.</p><p>When a method is overridden in sub-types method parameter
        constraints can only be declared at the base type. The reason for this
        restriction is that the preconditions to be fulfilled by a type's
        client must not be strengthened in sub-types (which may not even be
        known to the base type's client). Note that also if the base method
        doesn't declare any parameter constraints at all, no parameter
        constraints may be added in overriding methods.</p><p>The same restriction applies to interface methods: no parameter
        constraints may be defined at the implementing method (or the same
        method declared in sub-interfaces).</p><p>If a violation of this rule is detected by the validation
        engine, a
        <code class="classname">javax.validation.ConstraintDeclarationException</code>
        will be thrown. In <a class="xref" href="#example-illegal-method-constraints" title="Example 8.6. Illegal parameter constraint declarations">Example 8.6, “Illegal parameter constraint declarations”</a> some examples for
        illegal parameter constraints declarations are shown.</p><div class="example"><a id="example-illegal-method-constraints"/><p class="title"><b>Example 8.6. Illegal parameter constraint declarations</b></p><div class="example-contents"><pre class="programlisting">public class Car {

    public void drive(Person driver) { ... }

}

public class RentalCar extends Car {

    //not allowed, parameter constraint added in overriding method
    public void drive(@NotNull Person driver) { ... }

}

public interface ICar {

    void drive(Person driver);

}

public class CarImpl implements ICar {

    //not allowed, parameter constraint added in implementation of interface method
    public void drive(@NotNull Person driver) { ... }

}</pre></div></div><br class="example-break"/><p>This rule only applies to parameter constraints, return value
        constraints may be added in sub-types without any restrictions as it
        is alright to strengthen the postconditions guaranteed to a type's
        client.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3496"/>8.3.2. Evaluating method-level constraints</h3></div></div></div><p>To validate method-level constraints Hibernate Validator provides
      the interface
      <code class="classname">org.hibernate.validator.method.MethodValidator</code>.</p><p>As shown in <a class="xref" href="#example-methodvalidator" title="Example 8.7. The MethodValidator interface">Example 8.7, “The MethodValidator interface”</a> this
      interface defines methods for the evaluation of parameter as well as
      return value constraints and for retrieving an extended type descriptor
      providing method constraint related meta data.</p><div class="example"><a id="example-methodvalidator"/><p class="title"><b>Example 8.7. The <code class="classname">MethodValidator</code> interface</b></p><div class="example-contents"><pre class="programlisting">public interface MethodValidator {

    &lt;T&gt; Set&lt;MethodConstraintViolation&lt;T&gt;&gt; validateParameter(T object, Method method, Object parameterValue, int parameterIndex, Class&lt;?&gt;... groups);
    
    &lt;T&gt; Set&lt;MethodConstraintViolation&lt;T&gt;&gt; validateAllParameters(T object, Method method, Object[] parameterValues, Class&lt;?&gt;... groups);
    
    &lt;T&gt; Set&lt;MethodConstraintViolation&lt;T&gt;&gt; validateReturnValue(T object, Method method, Object returnValue, Class&lt;?&gt;... groups);
 
    TypeDescriptor getConstraintsForType(Class&lt;?&gt; clazz);
}    </pre></div></div><br class="example-break"/><p>To retrieve a method validator get hold of an instance of HV's
      <code class="classname">javax.validation.Validator</code> implementation and
      unwrap it to <code class="classname">MethodValidator</code> as shown in <a class="xref" href="#example-retrieving-methodvalidator" title="Example 8.8. Retrieving a MethodValidator instance">Example 8.8, “Retrieving a MethodValidator
        instance”</a>.</p><div class="example"><a id="example-retrieving-methodvalidator"/><p class="title"><b>Example 8.8. Retrieving a <code class="classname">MethodValidator</code>
        instance</b></p><div class="example-contents"><pre class="programlisting">MethodValidator methodValidator = Validation.byProvider( HibernateValidator.class )
    .configure()
    .buildValidatorFactory()
    .getValidator()
    .unwrap( MethodValidator.class ); </pre></div></div><br class="example-break"/><p>The validation methods defined on
      <code class="classname">MethodValidator</code> each return a
      <code class="classname">Set&lt;MethodConstraintViolation&gt;</code>. The type
      <code class="classname">MethodConstraintViolation</code> (see <a class="xref" href="#example-methodconstraintviolation" title="Example 8.9. The MethodConstraintViolation type">Example 8.9, “The MethodConstraintViolation
        type”</a>) extends
      <code class="classname">javax.validation.ConstraintViolation</code> and provides
      additional method level validation specific information such as the
      method and index of the parameter which caused the constraint
      violation.</p><div class="example"><a id="example-methodconstraintviolation"/><p class="title"><b>Example 8.9. The <code class="classname">MethodConstraintViolation</code>
        type</b></p><div class="example-contents"><pre class="programlisting">public interface MethodConstraintViolation&lt;T&gt; extends ConstraintViolation&lt;T&gt; {
    
    public static enum Kind { PARAMETER, RETURN_VALUE }

    Method getMethod();

    Integer getParameterIndex();

    String getParameterName();

    Kind getKind();
}</pre></div></div><br class="example-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>The method <code class="methodname">getParameterName()</code> currently
        returns synthetic parameter identifiers such as "arg0", "arg1" etc. In
        a future version of Hibernate Validator support for specifying
        parameter identifiers might be added.</p></div><p>Typically the validation of method-level constraints is not
      invoked manually but automatically upon method invocation by an
      integration layer using AOP (aspect-oriented programming) or similar
      method interception facilities such as the JDK's
      <code class="classname">java.lang.reflect.Proxy</code> API or CDI ("JSR 299:
      Contexts and Dependency Injection for the
      Java<sup>TM</sup> EE platform").</p><p>If a parameter or return value constraint can't be validated
      sucessfully such an integration layer typically will throw a
      <code class="classname">MethodConstraintViolationException</code> which similar
      to <code class="classname">javax.validation.ConstraintViolationException</code>
      contains a set with the occurred constraint violations.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>If you are using CDI you might be interested in the <a class="ulink" href="http://seamframework.org/Seam3/ValidationModule">Seam
        Validation</a> project. This Seam module provides an interceptor
        which integrates the method validation functionality with CDI.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3586"/>8.3.3. Retrieving method-level constraint meta data</h3></div></div></div><p>As outlined in <a class="xref" href="#validator-metadata-api" title="Chapter 6. Metadata API">Chapter 6, <i>Metadata API</i></a>
      the Bean Validation API provides rich capabilities for retrieving
      constraint related meta data. Hibernate Validator extends this API and
      allows to retrieve constraint meta data also for method-level
      constraints.</p><p><a class="xref" href="#example-method-level-meta-data" title="Example 8.10. Retrieving meta data for method-level constraints">Example 8.10, “Retrieving meta data for method-level constraints”</a> shows how
      to use this extended API to retrieve constraint meta data for the
      <code class="methodname">rentCar()</code> method from the
      <code class="classname">RentalStation</code> type.</p><div class="example"><a id="example-method-level-meta-data"/><p class="title"><b>Example 8.10. Retrieving meta data for method-level constraints</b></p><div class="example-contents"><pre class="programlisting">TypeDescriptor typeDescriptor = methodValidator.getConstraintsForType(RentalStation.class)

//retrieve a descriptor for the rentCar() method
MethodDescriptor rentCarMethod = typeDescriptor.getConstraintsForMethod("rentCar", Customer.class, Date.class, int.class);
assertEquals(rentCarMethod.getMethodName(), "rentCar");
assertTrue(rentCarMethod.hasConstraints());
assertFalse(rentCarMethod.isCascaded());

//retrieve constraints from the return value
Set&lt;ConstraintDescriptor&lt;?&gt;&gt; returnValueConstraints = rentCarMethod.findConstraints().getConstraintDescriptors();
assertEquals(returnValueConstraints.size(), 1);
assertEquals(returnValueConstraints.iterator().next().getAnnotation().annotationType(), NotNull.class);

List&lt;ParameterDescriptor&gt; allParameters = rentCarMethod.getParameterDescriptors();
assertEquals(allParameters.size(), 3);

//retrieve a descriptor for the startDate parameter
ParameterDescriptor startDateParameter = allParameters.get(1);
assertEquals(startDateParameter.getIndex(), 1);
assertFalse(startDateParameter.isCascaded());
assertEquals(startDateParameter.findConstraints().getConstraintDescriptors().size(), 2);</pre></div></div><br class="example-break"/><p>Refer to the <a class="ulink" href="http://docs.jboss.org/hibernate/validator/4.2/api/index.html?org/hibernate/validator/method/metadata/package-summary.html">JavaDoc</a>
      of the package
      <code class="classname">org.hibernate.validator.method.metadata</code> for more
      details on the extended meta data API.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="programmaticapi"/>8.4. Programmatic constraint definition</h2></div></div></div><p>Another addition to the Bean Validation specification is the ability
    to configure constraints via a fluent API. This API can be used
    exclusively or in combination with annotations and xml. If used in
    combination programmatic constraints are additive to constraints
    configured via the standard configuration capabilities.</p><p>The API is centered around the
    <code class="classname">ConstraintMapping</code> class which can be found in the
    package<span class="package"> org.hibernate.validator.cfg</span>. Starting with the
    instantiation of a new <code class="classname">ConstraintMapping</code>,
    constraints can be defined in a fluent manner as shown in <a class="xref" href="#example-constraint-mapping" title="Example 8.11. Programmatic constraint definition">Example 8.11, “Programmatic constraint definition”</a>.</p><div class="example"><a id="example-constraint-mapping"/><p class="title"><b>Example 8.11. Programmatic constraint definition</b></p><div class="example-contents"><pre class="programlisting">ConstraintMapping mapping = new ConstraintMapping();
mapping.type( Car.class )
    .property( "manufacturer", FIELD )
        .constraint( new NotNullDef() )
    .property( "licensePlate", FIELD )
        .constraint( new NotNullDef() )
        .constraint( new SizeDef().min( 2 ).max( 14 ) )
    .property( "seatCount", FIELD )
        .constraint( new MinDef()value ( 2 ) )
.type( RentalCar.class )
    .property( "rentalStation", METHOD )
        .constraint( new NotNullDef() );      </pre></div></div><p><br class="example-break"/></p><p>As you can see constraints can be configured on multiple classes and
    properties using method chaining. The constraint definition classes
    <code class="classname">NotNullDef</code>, <code class="classname">SizeDef</code> and
    <code class="classname">MinDef</code> are helper classes which allow to configure
    constraint parameters in a type-safe fashion. Definition classes exist for
    all built-in constraints in the
    <code class="classname">org.hibernate.validator.cfg.defs</code> package.</p><p>For custom constraints you can either create your own definition
    classes extending <code class="classname">ConstraintDef</code> or you can use
    <code class="classname">GenericConstraintDef</code> as seen in <a class="xref" href="#example-generic-constraint-mapping" title="Example 8.12. Programmatic constraint definition using createGeneric()">Example 8.12, “Programmatic constraint definition using
        createGeneric()”</a>.</p><div class="example"><a id="example-generic-constraint-mapping"/><p class="title"><b>Example 8.12. Programmatic constraint definition using
        <code class="methodname">createGeneric()</code></b></p><div class="example-contents"><pre class="programlisting">ConstraintMapping mapping = new ConstraintMapping();
mapping.type( Car.class )
    .property( "licensePlate", FIELD )
        .constraint( new GenericConstraintDef&lt;CheckCase.class&gt;( CheckCase.class ).param( "value", CaseMode.UPPER ) );   </pre></div></div><p><br class="example-break"/></p><p>Not only standard class- and property-level constraints but also
    method constraints can be configured using the API. As shown in <a class="xref" href="#example-method-constraint-mapping" title="Example 8.13. Programmatic definition of method constraints">Example 8.13, “Programmatic definition of method constraints”</a> methods are
    identified by their name and their parameters (if there are any). Having
    selected a method, constraints can be placed on the method's parameters
    and/or return value.</p><div class="example"><a id="example-method-constraint-mapping"/><p class="title"><b>Example 8.13. Programmatic definition of method constraints</b></p><div class="example-contents"><pre class="programlisting">ConstraintMapping mapping = new ConstraintMapping();
mapping.type( Car.class )
    .method( "drive", String.class, Integer.class )
        .parameter( 0 )
            .constraint( new NotNullDef() )
            .constraint( new MinDef().value ( 1 ) )
        .parameter( 1 )
            .constraint( new NotNullDef() )
        .returnValue()
            .constraint( new NotNullDef() )
    .method( "check" )
        .returnValue()
            .constraint( new NotNullDef() );      </pre></div></div><br class="example-break"/><p>Using the API it's also possible to mark properties, method
    parameters and method return values as cascading (equivalent to annotating
    them with <code class="classname">@Valid</code>). An example can be found in <a class="xref" href="#example-cascading-constraints" title="Example 8.14. Marking constraints for cascaded validation">Example 8.14, “Marking constraints for cascaded validation”</a>.</p><div class="example"><a id="example-cascading-constraints"/><p class="title"><b>Example 8.14. Marking constraints for cascaded validation</b></p><div class="example-contents"><pre class="programlisting">ConstraintMapping mapping = new ConstraintMapping();
mapping.type( Car.class )
    .property( "manufacturer", FIELD )
        .valid()
    .property( "licensePlate", METHOD )
        .valid()
    .method( "drive", String.class, Integer.class )
        .parameter( 0 )
            .valid()
        .parameter( 1 )
            .valid()
        .returnValue()
            .valid()
.type( RentalCar.class )
    .property( "rentalStation", METHOD )
        .valid();</pre></div></div><p><br class="example-break"/></p><p>Last but not least you can configure the default group sequence or
    the default group sequence provider of a type as shown in <a class="xref" href="#example-sequences" title="Example 8.15. Configuration of default group sequence and default group sequence provider">Example 8.15, “Configuration of default group sequence and default group
        sequence provider”</a>.</p><div class="example"><a id="example-sequences"/><p class="title"><b>Example 8.15. Configuration of default group sequence and default group
        sequence provider</b></p><div class="example-contents"><pre class="programlisting">ConstraintMapping mapping = new ConstraintMapping();
mapping.type( Car.class )
    .defaultGroupSequence( Car.class, CarChecks.class )
.type( RentalCar.class )
    .defaultGroupSequenceProvider( RentalCarGroupSequenceProvider.class ); </pre></div></div><p><br class="example-break"/></p><p>Once a <code class="classname">ConstraintMapping</code> is set up it has to
    be passed to the configuration. Since the programmatic API is not part of
    the official Bean Validation specification you need to get hold of a
    <code class="classname">HibernateValidatorConfiguration</code> instance as shown
    in <a class="xref" href="#example-hibernate-specific-config" title="Example 8.16. Creating a Hibernate Validator specific configuration">Example 8.16, “Creating a Hibernate Validator specific configuration”</a>.</p><div class="example"><a id="example-hibernate-specific-config"/><p class="title"><b>Example 8.16. Creating a Hibernate Validator specific configuration</b></p><div class="example-contents"><pre class="programlisting">ConstraintMapping mapping = new ConstraintMapping();
// configure mapping instance

HibernateValidatorConfiguration config = Validation.byProvider( HibernateValidator.class ).configure();
config.addMapping( mapping );
ValidatorFactory factory = config.buildValidatorFactory();
Validator validator = factory.getValidator();</pre></div></div><p><br class="example-break"/></p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e3718"/>8.5. Boolean composition for constraint composition</h2></div></div></div><p>As per Bean Validation specification the constraints of a composed
    constraint (see <a class="xref" href="#section-constraint-composition">Section 3.2, “Constraint composition”</a>) are all
    combined via a logical <span class="emphasis"><em>AND</em></span>. This means all of the
    composing constraints need to return <code class="constant">true</code> in order
    for an overall successful validation. Hibernate Validator offers an
    extension to this logical <span class="emphasis"><em>AND</em></span> combination which
    allows you to compose constraints via a logical <span class="emphasis"><em>OR</em></span> or
    <span class="emphasis"><em>NOT</em></span>. To do so you have to use the
    <code class="classname">ConstraintComposition</code> annotation and the enum
    <code class="classname">CompositionType</code> with its values
    <span class="emphasis"><em>AND</em></span>, <span class="emphasis"><em>OR</em></span> and
    <span class="emphasis"><em>ALL_FALSE</em></span>. <a class="xref" href="#example-boolean-constraint-composition" title="Example 8.17. OR composition of constraints">Example 8.17, “OR composition of constraints”</a> shows how to build a
    composing constraint where only one of the constraints has to be
    successful in order to pass the validation. Either the validated string is
    all lowercased or it is between two and three characters long.</p><div class="example"><a id="example-boolean-constraint-composition"/><p class="title"><b>Example 8.17. OR composition of constraints</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA">@ConstraintComposition(OR)</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Pattern</span><span class="java_separator">(</span><span class="java_plain">regexp&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;[a-z]&quot;</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Size</span><span class="java_separator">(</span><span class="java_plain">min&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">2</span><span class="java_separator">,</span><span class="java_plain">&nbsp;max&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">3</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">ReportAsSingleViolation</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Target</span><span class="java_separator">({</span><span class="java_plain">&nbsp;METHOD</span><span class="java_separator">,</span><span class="java_plain">&nbsp;FIELD&nbsp;</span><span class="java_separator">})</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Retention</span><span class="java_separator">(</span><span class="java_plain">RUNTIME</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Constraint</span><span class="java_separator">(</span><span class="java_plain">validatedBy&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_separator">})</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;@</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">PatternOrSize</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">abstract</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;message</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;{PatternOrSize.message}&quot;</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">abstract</span><span class="java_plain">&nbsp;</span><span class="java_type">Class</span><span class="java_operator">&lt;?&gt;</span><span class="java_separator">[]</span><span class="java_plain">&nbsp;groups</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_separator">};</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">abstract</span><span class="java_plain">&nbsp;</span><span class="java_type">Class</span><span class="java_operator">&lt;?</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">Payload</span><span class="java_operator">&gt;</span><span class="java_separator">[]</span><span class="java_plain">&nbsp;payload</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">default</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain">&nbsp;</span><span class="java_separator">};</span>
<!--  --><br/><span class="java_separator">}</span></pre></div></div><br class="example-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2><p>Using <span class="emphasis"><em>ALL_FALSE</em></span> as composition type
      implicitly enforces that only a single violation will get reported in
      case validation of the constraint composition fails.</p></div></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-annotation-processor"/>Chapter 9. Annotation Processor</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#validator-annotationprocessor-prerequisites">9.1. Prerequisites</a></span></dt><dt><span class="section"><a href="#validator-annotationprocessor-features">9.2. Features</a></span></dt><dt><span class="section"><a href="#validator-annotationprocessor-options">9.3. Options</a></span></dt><dt><span class="section"><a href="#validator-annotationprocessor-usage">9.4. Using the Annotation Processor</a></span></dt><dd><dl><dt><span class="section"><a href="#validator-annotationprocessor-commandline">9.4.1. Command line builds</a></span></dt><dt><span class="section"><a href="#validator-annotationprocessor-ide">9.4.2. IDE builds</a></span></dt></dl></dd><dt><span class="section"><a href="#validator-annotationprocessor-known-issues">9.5. Known issues</a></span></dt></dl></div><p>Have you ever caught yourself by unintentionally doing things
  like</p><div class="itemizedlist"><ul><li><p>specifying constraint annotations at unsupported data types (e.g.
      by annotating a String with @Past)</p></li><li><p>annotating the setter of a JavaBean property (instead of the
      getter method)</p></li><li><p>annotating static fields/methods with constraint annotations
      (which is not supported)?</p></li></ul></div><p>Then the Hibernate Validator Annotation Processor is the right thing
  for you. It helps preventing such mistakes by plugging into the build
  process and raising compilation errors whenever constraint annotations are
  incorrectly used.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>You can find the Hibernate Validator Annotation Processor as part of
    the distribution bundle on <a class="ulink" href="http://sourceforge.net/projects/hibernate/files/hibernate-validator">Sourceforge</a>
    or in the JBoss Maven Repository (see <a class="xref" href="#">???</a>) under the GAV
    org.hibernate:hibernate-validator-annotation-processor.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-annotationprocessor-prerequisites"/>9.1. Prerequisites</h2></div></div></div><p>The Hibernate Validator Annotation Processor is based on the
    "Pluggable Annotation Processing API" as defined by <a class="ulink" href="http://jcp.org/en/jsr/detail?id=269">JSR 269</a> which is
    part of the Java Platform since Java 6.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-annotationprocessor-features"/>9.2. Features</h2></div></div></div><p>As of Hibernate Validator 5.0.0.Final the Hibernate Validator
    Annotation Processor checks that:</p><div class="itemizedlist"><ul><li><p>constraint annotations are allowed for the type of the annotated
        element</p></li><li><p>only non-static fields or methods are annotated with constraint
        annotations</p></li><li><p>only non-primitive fields or methods are annotated with
        @Valid</p></li><li><p>only such methods are annotated with constraint annotations
        which are valid JavaBeans getter methods (optionally, see
        below)</p></li><li><p>only such annotation types are annotated with constraint
        annotations which are constraint annotations themselves</p></li><li><p>definition of dynamic default group sequence with
        @GroupSequenceProvider is valid</p></li></ul></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-annotationprocessor-options"/>9.3. Options</h2></div></div></div><p>The behavior of the Hibernate Validator Annotation Processor can be
    controlled using the <a class="ulink" href="http://java.sun.com/javase/6/docs/technotes/tools/windows/javac.html#options">processor
    options</a> listed in table<a class="xref" href="#table_processor_options" title="Table 9.1. Hibernate Validator Annotation Processor options">Table 9.1, “Hibernate Validator Annotation Processor options”</a>:</p><div class="table"><a id="table_processor_options"/><p class="title"><b>Table 9.1. Hibernate Validator Annotation Processor options</b></p><div class="table-contents"><table summary="Hibernate Validator Annotation Processor options" border="1"><colgroup><col/><col/></colgroup><thead><tr><th align="center">Option</th><th align="center">Explanation</th></tr></thead><tbody><tr><td><code class="varname">diagnosticKind</code></td><td>Controls how constraint problems are reported. Must be the
            string representation of one of the values from the enum
            <code class="classname">javax.tools.Diagnostic.Kind</code>, e.g.
            <code class="classname">WARNING</code>. A value of
            <code class="classname">ERROR</code> will cause compilation to halt
            whenever the AP detects a constraint problem. Defaults to
            <code class="classname">ERROR</code>.</td></tr><tr><td><code class="varname">methodConstraintsSupported</code></td><td>Controls whether constraints are allowed at methods of any
            kind. Must be set to <code class="varname">true</code> when working with
            method level constraints as supported by Hibernate Validator. Can
            be set to <code class="varname">false</code> to allow constraints only at
            JavaBeans getter methods as defined by the Bean Validation API.
            Defaults to <code class="varname">true</code>.</td></tr><tr><td><code class="varname">verbose</code></td><td>Controls whether detailed processing information shall be
            displayed or not, useful for debugging purposes. Must be either
            <code class="varname">true</code> or <code class="varname">false</code>. Defaults to
            <code class="varname">false</code>.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-annotationprocessor-usage"/>9.4. Using the Annotation Processor</h2></div></div></div><p>This section shows in detail how to integrate the Hibernate
    Validator Annotation Processor into command line builds (javac, Ant,
    Maven) as well as IDE-based builds (Eclipse, IntelliJ IDEA,
    NetBeans).</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-annotationprocessor-commandline"/>9.4.1. Command line builds</h3></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="validator-annotationprocessor-javac"/>9.4.1.1. javac</h4></div></div></div><p>When compiling on the command line using <a class="ulink" href="http://java.sun.com/javase/6/docs/technotes/guides/javac/index.html">javac</a>,
        specify the JAR hibernate-validator-annotation-processor-5.0.0.Final.jar
        using the "processorpath" option as shown in the following listing.
        The processor will be detected automatically by the compiler and
        invoked during compilation.</p><div class="example"><a id="d0e3913"/><p class="title"><b>Example 9.1. Using the annotation processor with javac</b></p><div class="example-contents"><pre class="programlisting">javac src/main/java/org/hibernate/validator/ap/demo/Car.java \
   -cp /path/to/validation-api-1.1.0.CR3.jar \
   -processorpath /path/to/hibernate-validator-annotation-processor-5.0.0.Final.jar</pre></div></div><br class="example-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="validator-annotationprocessor-ant"/>9.4.1.2. Apache Ant</h4></div></div></div><p>Similar to directly working with javac, the annotation processor
        can be added as as compiler argument when invoking the <a class="ulink" href="http://ant.apache.org/manual/CoreTasks/javac.html">javac
        task</a> for <a class="ulink" href="http://ant.apache.org/">Apache
        Ant</a>:</p><div class="example"><a id="d0e3929"/><p class="title"><b>Example 9.2. Using the annotation processor with Ant</b></p><div class="example-contents"><pre class="programlisting">&lt;javac srcdir="src/main"
       destdir="build/classes"
       classpath="/path/to/validation-api-1.1.0.CR3.jar"&gt;
       &lt;compilerarg value="-processorpath" /&gt;
       &lt;compilerarg value="/path/to/hibernate-validator-annotation-processor-5.0.0.Final.jar"/&gt;
&lt;/javac&gt;</pre></div></div><br class="example-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="d0e3934"/>9.4.1.3. Maven</h4></div></div></div><p>There are several options for integrating the annotation
        processor with <a class="ulink" href="http://maven.apache.org/">Apache
        Maven</a>. Generally it is sufficient to add the Hibernate
        Validator Annotation Processor as dependency to your project:</p><div class="example"><a id="d0e3942"/><p class="title"><b>Example 9.3. Adding the HV Annotation Processor as dependency</b></p><div class="example-contents"><pre class="programlisting">...
&lt;dependency&gt;
    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
    &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;
    &lt;version&gt;5.0.0.Final&lt;/version&gt;
    &lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;
...        </pre></div></div><br class="example-break"/><p>The processor will then be executed automatically by the
        compiler. This basically works, but comes with the disadavantage that
        in some cases messages from the annotation processor are not displayed
        (see <a class="ulink" href="http://jira.codehaus.org/browse/MCOMPILER-66">MCOMPILER-66</a>).</p><p>Another option is using the <a class="ulink" href="http://code.google.com/p/maven-annotation-plugin/">Maven
        Annotation Plugin</a>. At the time of this writing the plugin is
        not yet available in any of the well-known repositories. Therefore you
        have to add the project's own repository to your settings.xml or
        pom.xml:</p><div class="example"><a id="d0e3957"/><p class="title"><b>Example 9.4. Adding the Maven Annotation Plugin repository</b></p><div class="example-contents"><pre class="programlisting">...
&lt;pluginRepositories&gt;
    &lt;pluginRepository&gt;
        &lt;id&gt;maven-annotation-plugin-repo&lt;/id&gt;
        &lt;url&gt;http://maven-annotation-plugin.googlecode.com/svn/trunk/mavenrepo&lt;/url&gt;
    &lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;
...                      </pre></div></div><br class="example-break"/><p>Now disable the standard annotation processing performed by the
        compiler plugin and configure the annotation plugin by specifying an
        execution and adding the Hibernate Validator Annotation Processor as
        plugin dependency (that way the AP is not visible on the project's
        actual classpath):</p><div class="example"><a id="d0e3964"/><p class="title"><b>Example 9.5. Configuring the Maven Annotation Plugin</b></p><div class="example-contents"><pre class="programlisting">...
&lt;plugin&gt;
    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
    &lt;configuration&gt;
        &lt;source&gt;1.6&lt;/source&gt;
        &lt;target&gt;1.6&lt;/target&gt;
        &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;
&lt;plugin&gt;
    &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;
    &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;
    &lt;version&gt;1.3.4&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;process&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;process&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;phase&gt;process-sources&lt;/phase&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;
            &lt;version&gt;5.0.0.Final&lt;/version&gt;
            &lt;scope&gt;compile&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/plugin&gt;
...
                    </pre></div></div><br class="example-break"/></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="validator-annotationprocessor-ide"/>9.4.2. IDE builds</h3></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="d0e3972"/>9.4.2.1. Eclipse</h4></div></div></div><p>Do the following to use the annotation processor within the
        <a class="ulink" href="http://www.eclipse.org/">Eclipse</a> IDE:</p><div class="itemizedlist"><ul><li><p>Right-click your project, choose "Properties"</p></li><li><p>Go to "Java Compiler" and make sure, that "Compiler
            compliance level" is set to "1.6". Otherwise the processor won't
            be activated</p></li><li><p>Go to "Java Compiler - Annotation Processing" and choose
            "Enable annotation processing"</p></li><li><p>Go to "Java Compiler - Annotation Processing - Factory Path"
            and add the JAR
            hibernate-validator-annotation-processor-5.0.0.Final.jar</p></li><li><p>Confirm the workspace rebuild</p></li></ul></div><p>You now should see any annotation problems as regular error
        markers within the editor and in the "Problem" view:</p><div class="mediaobject" align="center"><img src="annotation_processor_eclipse.png" align="middle"/></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="validator-annotationprocessor-idea"/>9.4.2.2. IntelliJ IDEA</h4></div></div></div><p>The following steps must be followed to use the annotation
        processor within <a class="ulink" href="http://www.jetbrains.com/idea/">IntelliJ
        IDEA</a> (version 9 and above):</p><div class="itemizedlist"><ul><li><p>Go to "File", then "Settings",</p></li><li><p>Expand the node "Compiler", then "Annotation
            Processors"</p></li><li><p>Choose "Enable annotation processing" and enter the
            following as "Processor path":
            /path/to/hibernate-validator-annotation-processor-5.0.0.Final.jar</p></li><li><p>Add the processor's fully qualified name
            <code class="classname">org.hibernate.validator.ap.ConstraintValidationProcessor</code>
            to the "Annotation Processors" list</p></li><li><p>If applicable add you module to the "Processed Modules"
            list</p></li></ul></div><p>Rebuilding your project then should show any erronous constraint
        annotations:</p><div class="mediaobject" align="center"><img src="annotation_processor_intellij.png" align="middle"/></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="validator-annotationprocessor-netbeans"/>9.4.2.3. NetBeans</h4></div></div></div><p>Starting with version 6.9, also the <a class="ulink" href="http://www.netbeans.org/">NetBeans</a> IDE supports using
        annotation processors within the IDE build. To do so, do the
        following:</p><div class="itemizedlist"><ul><li><p>Right-click your project, choose "Properties"</p></li><li><p>Go to "Libraries", tab "Processor", and add the JAR
            hibernate-validator-annotation-processor-5.0.0.Final.jar</p></li><li><p>Go to "Build - Compiling", select "Enable Annotation
            Processing" and "Enable Annotation Processing in Editor". Add the
            annotation processor by specifying its fully qualified name
            <code class="classname">org.hibernate.validator.ap.ConstraintValidationProcessor</code></p></li></ul></div><p>Any constraint annotation problems will then be marked directly
        within the editor:</p><div class="mediaobject" align="center"><img src="annotation_processor_netbeans.png" align="middle"/></div></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-annotationprocessor-known-issues"/>9.5. Known issues</h2></div></div></div><p>The following known issues exist as of May 2010:</p><div class="itemizedlist"><ul><li><p><a class="ulink" href="http://opensource.atlassian.com/projects/hibernate/browse/HV-308">HV-308</a>:
        Additional validators registered for a constraint <a class="ulink" href="http://docs.jboss.org/hibernate/stable/validator/reference/en/html_single/#d0e1957">using
        XML</a> are not evaluated by the annotation processor.</p></li><li><p>Sometimes custom constraints can't be <a class="ulink" href="http://opensource.atlassian.com/projects/hibernate/browse/HV-293">properly
        evaluated</a> when using the processor within Eclipse. Cleaning
        the project can help in these situations. This seems to be an issue
        with the Eclipse JSR 269 API implementation, but further investigation
        is required here.</p></li><li><p>When using the processor within Eclipse, the check of dynamic
        default group sequence definitions doesn't work. After further
        investigation, it seems to be an issue with the Eclipse JSR 269 API
        implementation.</p></li></ul></div></div></div><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="validator-further-reading"/>Chapter 10. Further reading</h2></div></div></div><p>Last but not least, a few pointers to further information.</p><p>A great source for examples is the Bean Validation TCK which is
  available for anonymous access on <a class="ulink" href="https://github.com/beanvalidation/beanvalidation-tck">GitHub</a>.
  In particular the TCK's <a class="ulink" href="https://github.com/beanvalidation/beanvalidation-tck/tree/master/src/main/java/org/hibernate/beanvalidation/tck/tests">tests</a>
  might be of interest. <a class="ulink" href="http://jcp.org/en/jsr/detail?id=303">The
  JSR 303</a> specification itself is also a great way to deepen your
  understanding of Bean Validation resp. Hibernate Validator.</p><p>If you have any further questions to Hibernate Validator or want to
  share some of your use cases have a look at the <a class="ulink" href="http://community.jboss.org/en/hibernate/validator">Hibernate Validator
  Wiki</a> and the <a class="ulink" href="https://forum.hibernate.org/viewforum.php?f=9">Hibernate Validator
  Forum</a>.</p><p>In case you would like to report a bug use <a class="ulink" href="http://opensource.atlassian.com/projects/hibernate/browse/HV">Hibernate's
  Jira</a> instance. Feedback is always welcome!</p></div></div><HR xmlns=""/><a xmlns="" href=""><p xmlns="http://www.w3.org/1999/xhtml" class="copyright">Copyright © 2009 - 2013 Red Hat, Inc. &amp; Gunnar Morling</p></a></body></html>