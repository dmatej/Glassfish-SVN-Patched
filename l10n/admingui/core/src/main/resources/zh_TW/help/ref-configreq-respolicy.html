<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009 Sun Microsystems, Inc. All rights reserved.
 
Use is subject to License Terms  -->
<a name="ref-configreq-respolicy"></a><h4>請求策略和回應策略的配置</h4>
<p>如果認證來源為 <tt>sender</tt>，則訊息包含 <tt>wsse:Security</tt> 標頭，該標頭包含 <tt>wsse:UsernameToken</tt> (帶有密碼)。如果認證來源為 content，則會對 SOAP 訊息內文的內容進行簽署，該訊息包含 <tt>wsse:Security</tt> 標頭，並且訊息內文簽名顯示為 <tt>ds</tt>:
<tt>Signature</tt>。</p><p>如果認證接收者為 <tt>before-content</tt> 或 <tt>after-content</tt>，則會對 SOAP 訊息內文的內容進行加密，並使用產生的 <tt>xend:EncryptedData</tt> 替代該內容。此訊息包含 <tt>wsse:Security</tt> 標頭，此標頭包含 <tt> xenc:EncryptedKey</tt>。<tt>xenc:EncryptedKey</tt> 包含用於加密
SOAP 訊息內文的金鑰。此金鑰在接收者的公開金鑰中加密。</p><p>如果將認證來源和認證接收者設定保留為空白，則不會指定任何安全性策略，模組也不會執行任何安全性作業。</p><p>下表列出了訊息保護策略配置，以及由該配置的 WS-Security SOAP 訊息安全性提供者所執行的最終訊息安全性作業。</p><a name="gbutq"></a><h6>表&#160;1 基於 WS-Security SOAP 訊息安全性作業的訊息保護策略</h6><table><col width="33%"><col width="33%"><col width="33%"><tr><th align="left" valign="top" scope="column"></th>
<th align="left" valign="top" scope="column"><p>認證接收者 <tt>before-content</tt></p></th>
<th align="left" valign="top" scope="column"><p>認證接收者 <tt>after-content</tt></p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>認證來源 <tt>sender</tt></p></td>
<td colspan="2" align="left" valign="top" scope="row"><p>SOAP 訊息內文的內容已加密，並由產生的 <tt>xend:EncryptedData</tt> 替代。此訊息包含 <tt>wsse:Security</tt> 標頭，此標頭包含
<tt>wsse:UsernameToken (帶有密碼)</tt> 和 <tt>xenc:EncryptedKey</tt>。<tt>xenc:EncryptedKey</tt> 包含用於加密 SOAP 訊息內文的金鑰。此金鑰在接收者的公開金鑰中加密。</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>認證來源 <tt>content</tt></p></td>
<td align="left" valign="top" scope="row"><p>SOAP 訊息內文的內容已加密，並由產生的 <tt>xend:EncryptedData</tt> 替代。<tt>xenc:EncryptedData</tt> 已簽署。此訊息包含 <tt>a wsse:Security</tt>
標頭，此標頭包含 <tt>xenc:EncryptedKey</tt> 和 <tt>ds:Signature</tt>。<tt>xenc:EncryptedKey</tt> 包含用於加密 SOAP 訊息內文的金鑰。此金鑰在接收者的公開金鑰中加密。</p></td>
<td align="left" valign="top" scope="row"><p>SOAP 訊息內文的內容已簽署和加密，並由產生的 <tt>xend:EncryptedData</tt> 替代。此訊息包含 <tt>wsse:Security</tt> 標頭，此標頭包含
<tt>xenc:EncryptedKey</tt> 和 <tt>ds:Signature</tt>。<tt>xenc:EncryptedKey</tt> 包含用於加密 SOAP 訊息內文的金鑰。此金鑰在接收者的公開金鑰中加密。</p></td>
</tr>
</table>
