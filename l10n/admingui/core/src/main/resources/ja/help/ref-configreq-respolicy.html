<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009 Sun Microsystems, Inc. All rights reserved.
 
Use is subject to License Terms  -->
<a name="ref-configreq-respolicy"></a><h4>要求および応答のポリシー設定</h4>
<p>認証元が <tt>sender</tt> の場合、メッセージには <tt>wsse:Security</tt> ヘッダーと <tt>wsse:UsernameToken</tt> (パスワードあり) が含まれます。認証元が content の場合、SOAP メッセージ本文のコンテンツは署名されています。また、その場合メッセージには <tt>wsse:Security</tt>
ヘッダーと <tt>ds</tt>: <tt>Signature</tt> が含まれます。</p><p>認証先が <tt>before-content</tt> または <tt>after-content</tt> の場合、SOAP メッセージ本文のコンテンツは暗号化され、その結果生じる <tt>xend:EncryptedData</tt> で置き換えられます。メッセージには、<tt>xenc:EncryptedKey</tt> を含む <tt>wsse:Security</tt> ヘッダーが含まれます。また、<tt>xenc:EncryptedKey</tt> には
SOAP メッセージ本文の暗号化に使用する鍵が含まれます。この鍵は、受信者の公開鍵内で暗号化されています。</p><p>認証元と認証先の設定が空白の場合、指定されているセキュリティーポリシーはなく、モジュールはセキュリティー処理を実行しません。</p><p>次の表に、メッセージ保護ポリシーの設定と、その設定の結果として WS-Security SOAP メッセージセキュリティープロバイダが実行するメッセージセキュリティー処理を示します。</p><a name="gbutq"></a><h6>表&#160;1 WS-Security SOAP メッセージセキュリティー処理に基づいたメッセージ保護ポリシー</h6><table><col width="33%"><col width="33%"><col width="33%"><tr><th align="left" valign="top" scope="column"></th>
<th align="left" valign="top" scope="column"><p>認証先 <tt>before-content</tt></p></th>
<th align="left" valign="top" scope="column"><p>認証先 <tt>after-content</tt></p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>認証元 <tt>sender</tt></p></td>
<td colspan="2" align="left" valign="top" scope="row"><p>SOAP メッセージ本文のコンテンツは暗号化され、その結果得られた <tt>xend:EncryptedData</tt> で置き換えられます。メッセージには、<tt>wsse:Security</tt> ヘッダーが含まれます。このヘッダーには <tt>wsse:UsernameToken</tt>
(パスワードあり) および <tt>xenc:EncryptedKey</tt> が含まれます。また、<tt>xenc:EncryptedKey</tt> には SOAP メッセージ本文の暗号化に使用する鍵が含まれます。この鍵は、受信者の公開鍵内で暗号化されています。</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>認証元 <tt>content</tt></p></td>
<td align="left" valign="top" scope="row"><p>SOAP メッセージ本文のコンテンツは暗号化され、その結果得られた <tt>xend:EncryptedData</tt> で置き換えられます。<tt>xenc:EncryptedData</tt> は署名されています。メッセージには、<tt>wsse:Security</tt>
ヘッダーが含まれます。このヘッダーには、<tt>xenc:EncryptedKey</tt> および <tt>ds: Signature</tt> が含まれます。また、<tt>xenc:EncryptedKey</tt> には SOAP メッセージ本文の暗号化に使用する鍵が含まれます。この鍵は、受信者の公開鍵内で暗号化されています。</p></td>
<td align="left" valign="top" scope="row"><p>SOAP メッセージ本文のコンテンツは署名されてから暗号化され、その結果得られた <tt>xend:EncryptedData</tt> で置き換えられます。メッセージには、<tt>wsse:Security</tt> ヘッダーが含まれます。このヘッダーには、<tt>xenc:EncryptedKey</tt> および
<tt>ds:Signature</tt> が含まれます。また、<tt>xenc:EncryptedKey</tt> には SOAP メッセージ本文の暗号化に使用する鍵が含まれます。この鍵は、受信者の公開鍵内で暗号化されています。</p></td>
</tr>
</table>
