<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009 Sun Microsystems, Inc. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-enablemesec4appclients"></a><h4>アプリケーションクライアントのメッセージセキュリティーを有効にする</h4><p>クライアントプロバイダには、対話先のサーバー側プロバイダと同じメッセージ保護ポリシーを設定する必要があります。Enterprise Server のインストール時に設定され、まだ有効になっていないプロバイダでは、すでにそのように設定されています。</p><p>クライアントアプリケーションのメッセージセキュリティーを有効にするには、アプリケーションクライアントコンテナの Enterprise Server 固有の設定を変更します。</p><ol>
<li><b>クライアントコンテナ記述子に依存するすべてのクライアントアプリケーションを停止します。</b></li>
<li><b>テキストエディタで、<i>domain-dir</i><tt>/config/sun-acc.xml</tt> に格納されている Sun アプリケーションクライアントコンテナ記述子を開きます。</b></li>
<li><b>アプリケーションクライアントのデフォルトクライアントプロバイダを有効にするには、<tt>default-client-provider</tt> 属性を <tt>message-security-config</tt> 要素に追加します。 </b><p>次に示すコードの前後の部分は説明のためのもので、インストール環境によって若干異なります。変更しないでください。</p><pre>&#60;client-container>
  &#60;target-server name="<i>your-host</i>" address="<i>your-host</i>"
      port="<i>your-port</i>"/>
  &#60;log-service file="" level="WARNING"/>
  &#60;message-security-config auth-layer="SOAP"
      <b>default-client-provider="ClientProvider"</b>>
    &#60;provider-config
        class-name="com.sun.enterprise.security.jauth.ClientAuthModule"
        provider-id="ClientProvider" provider-type="client">
      &#60;request-policy auth-source="sender"/>
      &#60;response-policy/>
        &#60;property name="security.config"
          value="C:/Sun/AppServer/lib/appclient/wss-client-config.xml"/>
    &#60;/provider-config>
  &#60;/message-security-config>
&#60;/client-container></pre><p>クライアントコンテナで設定されたメッセージセキュリティープロバイダは、非公開鍵および信頼された証明書へのアクセスを許可されている必要があります。アクセスを許可するには、アプリケーションクライアントの起動スクリプトで次のシステムプロパティーの値を設定します。</p><pre>-Djavax.net.ssl.keyStore</pre><pre>-Djavax.net.ssl.trustStore</pre></li></ol><h6>参照</h6>
<ul><li><p><a href="task-configmsgsecproviders.html">「メッセージセキュリティープロバイダが使用する Enterprise Server の機能を設定する」</a></p></li>
<li><p><a href="task-messagesecurityconfignew.html">「メッセージセキュリティー設定を作成する」</a></p></li>
<li><p><a href="task-messagesecurityconfigedit.html">「メッセージセキュリティー設定を編集する」</a></p></li>
<li><p><a href="task-messagesecurityconfigdelete.html">「メッセージセキュリティー設定を削除する」</a></p></li>
<li><p><a href="task-messagesecurityproviderconfignew.html">「メッセージセキュリティープロバイダ設定を作成する」</a></p></li>
<li><p><a href="task-messagesecurityproviderconfigedit.html">「メッセージセキュリティープロバイダ設定を編集する」</a></p></li>
<li><p><a href="task-messagesecurityproviderconfigdelete.html">「メッセージセキュリティープロバイダ設定を削除する」</a></p></li></ul>

