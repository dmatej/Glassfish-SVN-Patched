<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009 Sun Microsystems, Inc. All rights reserved.
 
Use is subject to License Terms  -->
<a name="ref-configreq-respolicy"></a><h4>请求策略配置和响应策略配置</h4>
<p>如果验证源为 <tt>sender</tt>，则消息中包括 <tt>wsse:Security</tt> 标头，此标头包含 <tt>wsse:UsernameToken</tt>（带有密码）。如果验证源为 content，则对 SOAP 消息体的内容进行签名，并且消息包含 <tt>wsse:Security</tt> 标头，消息体签名表示为 <tt>ds</tt>: <tt>Signature</tt>
的消息体签名。</p><p>如果验证收件人为 <tt>before-content</tt> 或 <tt>after-content</tt>，则 SOAP 消息体的内容会被加密并用生成的 <tt>xend:EncryptedData</tt> 替换。此消息包含 <tt>wsse:Security</tt> 标头，此标头包含 <tt>xenc:EncryptedKey</tt>。<tt>xenc:EncryptedKey</tt> 包含用于对
SOAP 消息体进行加密的密钥。此密钥在收件人的公钥中加密。</p><p>如果&#8220;验证源&#8221;和&#8220;验证收件人&#8221;设置保留为空，则不指定任何安全性策略，且模块不执行任何安全性操作。</p><p>下表显示了消息保护策略配置以及生成的由 WS-Security SOAP 消息安全性提供者针对该配置所执行的消息安全性操作。</p><a name="gbutq"></a><h6>表&#160;1 基于 WS-Security Soap 消息安全性操作的消息保护策略</h6><table><col width="33%"><col width="33%"><col width="33%"><tr><th align="left" valign="top" scope="column"></th>
<th align="left" valign="top" scope="column"><p>验证收件人 <tt>before-content</tt></p></th>
<th align="left" valign="top" scope="column"><p>验证收件人 <tt>after-content</tt></p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>验证源 <tt>sender</tt></p></td>
<td colspan="2" align="left" valign="top" scope="row"><p>SOAP 消息体的内容会被加密并用生成的 <tt>xend:EncryptedData</tt> 替换。此消息包含 <tt>wsse:Security</tt> 标头，此标头包含
<tt>wsse:UsernameToken</tt>（带有密码）和 <tt>xenc:EncryptedKey</tt>。<tt>xenc:EncryptedKey</tt> 包含用于对 SOAP 消息体进行加密的密钥。此密钥在收件人的公钥中加密。</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>验证源 <tt>content</tt></p></td>
<td align="left" valign="top" scope="row"><p>SOAP 消息体的内容会被加密并用生成的 <tt>xend:EncryptedData</tt> 替换。对 <tt>xenc:EncryptedData</tt> 进行签名。此消息包含 <tt>wsse:Security</tt>
标头，此标头包含 <tt>xenc:EncryptedKey</tt> 和 <tt>ds:Signature</tt>。<tt>xenc:EncryptedKey</tt> 包含用于对 SOAP 消息体进行加密的密钥。此密钥在收件人的公钥中加密。</p></td>
<td align="left" valign="top" scope="row"><p>对 SOAP 消息体的内容进行签名、加密，并用生成的 <tt>xend:EncryptedData</tt> 替换。此消息包含 <tt>wsse:Security</tt>
标头，此标头包含 <tt>xenc:EncryptedKey</tt> 和 <tt>ds:Signature</tt>。<tt>xenc:EncryptedKey</tt> 包含用于对 SOAP 消息体进行加密的密钥。此密钥在收件人的公钥中加密。</p></td>
</tr>
</table>
